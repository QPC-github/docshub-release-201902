
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>QBluetoothSocket (Class) - Qt 5.11 - W3cubDocs</title>
  
  <meta name="description" content=" The QBluetoothSocket class enables connection to a Bluetooth device running a bluetooth server. More... ">
  <meta name="keywords" content="qbluetoothsocket, class, -, qt, qt~5.11">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/qt~5.11/qbluetoothsocket/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/qt~5.11.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/qt~5.11/" class="_nav-link" title="" style="margin-left:0;">Qt 5.11</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _qt">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 class="title">QBluetoothSocket Class</h1>  <p>The <a href="../qbluetoothsocket/">QBluetoothSocket</a> class enables connection to a Bluetooth device running a bluetooth server. <a href="#details">More...</a></p>  <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> Header:</td>
<td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QBluetoothSocket&gt;</span> </td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> qmake:</td>
<td class="memItemRight bottomAlign"> QT += bluetooth</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Since:</td>
<td class="memItemRight bottomAlign"> Qt 5.2</td>
</tr>
<tr>
<td class="memItemLeft rightAlign topAlign"> Inherits:</td>
<td class="memItemRight bottomAlign"> <a href="../qiodevice/">QIODevice</a>
</td>
</tr>
</table>
<ul> <li><a href="https://doc.qt.io/qt-5/qbluetoothsocket-members.html" target="_blank">List of all members, including inherited members</a></li> </ul>  <h2 id="public-types">Public Types
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> enum </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#SocketError-enum">SocketError</a></b> { UnknownSocketError, NoSocketError, HostNotFoundError, ServiceNotFoundError, ..., RemoteHostClosedError }</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> enum </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#SocketState-enum">SocketState</a></b> { UnconnectedState, ServiceLookupState, ConnectingState, ConnectedState, ..., ListeningState }</td>
</tr> </table>  <h2 id="public-functions">Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#QBluetoothSocket">QBluetoothSocket</a></b>(QBluetoothServiceInfo::Protocol <i>socketType</i>, QObject *<i>parent</i> = nullptr)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#QBluetoothSocket-1">QBluetoothSocket</a></b>(QObject *<i>parent</i> = nullptr)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#dtor.QBluetoothSocket">~QBluetoothSocket</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#abort">abort</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#connectToService">connectToService</a></b>(const QBluetoothServiceInfo &amp;<i>service</i>, QIODevice::OpenMode <i>openMode</i> = ReadWrite)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#connectToService-1">connectToService</a></b>(const QBluetoothAddress &amp;<i>address</i>, const QBluetoothUuid &amp;<i>uuid</i>, QIODevice::OpenMode <i>openMode</i> = ReadWrite)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#connectToService-2">connectToService</a></b>(const QBluetoothAddress &amp;<i>address</i>, quint16 <i>port</i>, QIODevice::OpenMode <i>openMode</i> = ReadWrite)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#disconnectFromService">disconnectFromService</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QBluetoothSocket::SocketError </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#error">error</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#errorString">errorString</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QBluetoothAddress </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#localAddress">localAddress</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#localName">localName</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> quint16 </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#localPort">localPort</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QBluetoothAddress </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#peerAddress">peerAddress</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QString </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#peerName">peerName</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> quint16 </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#peerPort">peerPort</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QBluetooth::SecurityFlags </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#preferredSecurityFlags">preferredSecurityFlags</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#setPreferredSecurityFlags">setPreferredSecurityFlags</a></b>(QBluetooth::SecurityFlags <i>flags</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> bool </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#setSocketDescriptor">setSocketDescriptor</a></b>(int <i>socketDescriptor</i>, QBluetoothServiceInfo::Protocol <i>socketType</i>, QBluetoothSocket::SocketState <i>socketState</i> = ConnectedState, QIODevice::OpenMode <i>openMode</i> = ReadWrite)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> int </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#socketDescriptor">socketDescriptor</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QBluetoothServiceInfo::Protocol </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#socketType">socketType</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> QBluetoothSocket::SocketState </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#state">state</a></b>() const</td>
</tr> </table>  <h2 id="reimplemented-public-functions">Reimplemented Public Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual qint64 </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#bytesAvailable">bytesAvailable</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual qint64 </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#bytesToWrite">bytesToWrite</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual bool </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#canReadLine">canReadLine</a></b>() const</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#close">close</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual bool </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#isSequential">isSequential</a></b>() const</td>
</tr> </table> <ul> <li class="fn">47 public functions inherited from <a href="../qiodevice/#public-functions">QIODevice</a>
</li> <li class="fn">34 public functions inherited from <a href="../qobject/#public-functions">QObject</a>
</li> </ul>  <h2 id="signals">Signals
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#connected">connected</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#disconnected">disconnected</a></b>()</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#error-1">error</a></b>(QBluetoothSocket::SocketError <i>error</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#stateChanged">stateChanged</a></b>(QBluetoothSocket::SocketState <i>state</i>)</td>
</tr> </table> <ul> <li class="fn">6 signals inherited from <a href="../qiodevice/#signals">QIODevice</a>
</li> <li class="fn">2 signals inherited from <a href="../qobject/#signals">QObject</a>
</li> </ul>  <h2 id="protected-functions">Protected Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#doDeviceDiscovery">doDeviceDiscovery</a></b>(const QBluetoothServiceInfo &amp;<i>service</i>, QIODevice::OpenMode <i>openMode</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#setSocketError">setSocketError</a></b>(QBluetoothSocket::SocketError <i>error_</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> void </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#setSocketState">setSocketState</a></b>(QBluetoothSocket::SocketState <i>state</i>)</td>
</tr> </table>  <h2 id="reimplemented-protected-functions">Reimplemented Protected Functions
</h2> <table class="alignedsummary"> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual qint64 </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#readData">readData</a></b>(char *<i>data</i>, qint64 <i>maxSize</i>)</td>
</tr> <tr>
<td class="memItemLeft rightAlign topAlign"> virtual qint64 </td>
<td class="memItemRight bottomAlign">
<b><a href="../qbluetoothsocket/#writeData">writeData</a></b>(const char *<i>data</i>, qint64 <i>maxSize</i>)</td>
</tr> </table> <ul> <li class="fn">5 protected functions inherited from <a href="../qiodevice/#protected-functions">QIODevice</a>
</li> <li class="fn">9 protected functions inherited from <a href="../qobject/#protected-functions">QObject</a>
</li> </ul> <h3>Additional Inherited Members</h3> <ul> <li class="fn">1 property inherited from <a href="../qobject/#properties">QObject</a>
</li> <li class="fn">1 public slot inherited from <a href="../qobject/#public-slots">QObject</a>
</li> <li class="fn">1 public variable inherited from <a href="../qiodevice/#public-variables">QIODevice</a>
</li> <li class="fn">1 public variable inherited from <a href="../qobject/#public-variables">QObject</a>
</li> <li class="fn">2 static public members inherited from <a href="../qiodevice/#static-public-members">QIODevice</a>
</li> <li class="fn">10 static public members inherited from <a href="../qobject/#static-public-members">QObject</a>
</li> <li class="fn">2 protected variables inherited from <a href="../qobject/#protected-variables">QObject</a>
</li> </ul>    <h2 id="details">Detailed Description
</h2> <p>The <a href="../qbluetoothsocket/">QBluetoothSocket</a> class enables connection to a Bluetooth device running a bluetooth server.</p> <p><a href="../qbluetoothsocket/">QBluetoothSocket</a> supports two socket types, <a href="../qbluetoothserviceinfo/#Protocol-enum">L2CAP</a> and <a href="../qbluetoothserviceinfo/#Protocol-enum">RFCOMM</a>.</p> <p><a href="../qbluetoothserviceinfo/#Protocol-enum">L2CAP</a> is a low level datagram-oriented Bluetooth socket. Android does not support <a href="../qbluetoothserviceinfo/#Protocol-enum">L2CAP</a> for socket connections.</p> <p><a href="../qbluetoothserviceinfo/#Protocol-enum">RFCOMM</a> is a reliable, stream-oriented socket. RFCOMM sockets emulate an RS-232 serial port.</p> <p>To create a connection to a Bluetooth service, create a socket of the appropriate type and call <a href="../qbluetoothsocket/#connectToService">connectToService</a>() passing the Bluetooth address and port number. <a href="../qbluetoothsocket/">QBluetoothSocket</a> will emit the <a href="../qbluetoothsocket/#connected">connected</a>() signal when the connection is established.</p> <p>If the <a href="../qbluetoothserviceinfo/#Protocol-enum">Protocol</a> is not supported on a platform, calling <a href="../qbluetoothsocket/#connectToService">connectToService</a>() will emit a <a href="../qbluetoothsocket/#SocketError-enum">UnsupportedProtocolError</a> error.</p> <p><b>Note: </b><a href="../qbluetoothsocket/">QBluetoothSocket</a> does not support synchronous read and write operations. Functions such as <a href="../qiodevice/#waitForReadyRead">waitForReadyRead</a>() and <a href="../qiodevice/#waitForBytesWritten">waitForBytesWritten</a>() are not implemented. I/O operations should be performed using <a href="../qiodevice/#readyRead">readyRead</a>(), <a href="../qiodevice/#read-1">read</a>() and <a href="../qiodevice/#write-2">write</a>().</p>
<p>On iOS, this class cannot be used because the platform does not expose an API which may permit access to <a href="../qbluetoothsocket/">QBluetoothSocket</a> related features.</p>    <h2>Member Type Documentation</h2>  <h3 class="fn" id="SocketError-enum">
enum QBluetoothSocket::<span class="name">SocketError</span>
</h3> <p>This enum describes Bluetooth socket error types.</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tblval">Value</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::UnknownSocketError</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::UnknownSocketError</code></td>
<td class="topAlign">An unknown error has occurred.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::NoSocketError</code></td>
<td class="topAlign tblval"><code>-2</code></td>
<td class="topAlign">No error. Used for testing.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::HostNotFoundError</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::HostNotFoundError</code></td>
<td class="topAlign">Could not find the remote host.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::ServiceNotFoundError</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::SocketAddressNotAvailableError</code></td>
<td class="topAlign">Could not find the service UUID on remote host.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::NetworkError</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::NetworkError</code></td>
<td class="topAlign">Attempt to read or write from socket returned an error</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::UnsupportedProtocolError</code></td>
<td class="topAlign tblval"><code>8</code></td>
<td class="topAlign">The <a href="../qbluetoothserviceinfo/#Protocol-enum">Protocol</a> is not supported on this platform.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::OperationError</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::OperationError</code></td>
<td class="topAlign">An operation was attempted while the socket was in a state that did not permit it.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::RemoteHostClosedError</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::RemoteHostClosedError</code></td>
<td class="topAlign">The remote host closed the connection. This value was introduced by Qt 5.10.</td>
</tr> </table>   <h3 class="fn" id="SocketState-enum">
enum QBluetoothSocket::<span class="name">SocketState</span>
</h3> <p>This enum describes the state of the Bluetooth socket.</p> <table class="valuelist">
<tr class="odd" valign="top">
<th class="tblConst">Constant</th>
<th class="tblval">Value</th>
<th class="tbldscr">Description</th>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::UnconnectedState</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::UnconnectedState</code></td>
<td class="topAlign">Socket is not connected.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::ServiceLookupState</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::HostLookupState</code></td>
<td class="topAlign">Socket is querying connection parameters.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::ConnectingState</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::ConnectingState</code></td>
<td class="topAlign">Socket is attempting to connect to a device.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::ConnectedState</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::ConnectedState</code></td>
<td class="topAlign">Socket is connected to a device.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::BoundState</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::BoundState</code></td>
<td class="topAlign">Socket is bound to a local address and port.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::ClosingState</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::ClosingState</code></td>
<td class="topAlign">Socket is connected and will be closed once all pending data is written to the socket.</td>
</tr> <tr>
<td class="topAlign"><code>QBluetoothSocket::ListeningState</code></td>
<td class="topAlign tblval"><code>QAbstractSocket::ListeningState</code></td>
<td class="topAlign">Socket is listening for incoming connections.</td>
</tr> </table>    <h2>Member Function Documentation</h2>  <h3 class="fn" id="QBluetoothSocket">
QBluetoothSocket::<span class="name">QBluetoothSocket</span>(<span class="type">QBluetoothServiceInfo::Protocol</span> <i>socketType</i>, <span class="type"><a href="../qobject/#QObject">QObject</a></span> *<i>parent</i> = nullptr)
</h3> <p>Constructs a Bluetooth socket of <i>socketType</i> type, with <i>parent</i>.</p>   <h3 class="fn" id="QBluetoothSocket-1">
QBluetoothSocket::<span class="name">QBluetoothSocket</span>(<span class="type"><a href="../qobject/#QObject">QObject</a></span> *<i>parent</i> = nullptr)
</h3> <p>Constructs a Bluetooth socket with <i>parent</i>.</p>   <h3 class="fn" id="dtor.QBluetoothSocket">
<code>[virtual] </code>QBluetoothSocket::<span class="name">~QBluetoothSocket</span>()
</h3> <p>Destroys the Bluetooth socket.</p>   <h3 class="fn" id="abort">
<span class="type">void</span> QBluetoothSocket::<span class="name">abort</span>()
</h3> <p>Aborts the current connection and resets the socket. Unlike <a href="../qbluetoothsocket/#disconnectFromService">disconnectFromService</a>(), this function immediately closes the socket, discarding any pending data in the write buffer.</p> <p><b>Note: </b>On Android, aborting the socket requires asynchronous interaction with Android threads. Therefore the associated <a href="../qbluetoothsocket/#disconnected">disconnected</a>() and <a href="../qbluetoothsocket/#stateChanged">stateChanged</a>() signals are delayed until the threads have finished the closure.</p>
<p><b>See also </b><a href="../qbluetoothsocket/#disconnectFromService">disconnectFromService</a>() and <a href="../qbluetoothsocket/#close">close</a>().</p>   <h3 class="fn" id="bytesAvailable">
<code>[virtual] </code><span class="type"><a href="../qtglobal/#qint64-typedef">qint64</a></span> QBluetoothSocket::<span class="name">bytesAvailable</span>() const
</h3> <p>Reimplemented from <a href="../qiodevice/#bytesAvailable">QIODevice::bytesAvailable</a>().</p> <p>Returns the number of incoming bytes that are waiting to be read.</p> <p><b>See also </b><a href="../qbluetoothsocket/#bytesToWrite">bytesToWrite</a>() and <a href="../qiodevice/#read-1">read</a>().</p>   <h3 class="fn" id="bytesToWrite">
<code>[virtual] </code><span class="type"><a href="../qtglobal/#qint64-typedef">qint64</a></span> QBluetoothSocket::<span class="name">bytesToWrite</span>() const
</h3> <p>Reimplemented from <a href="../qiodevice/#bytesToWrite">QIODevice::bytesToWrite</a>().</p> <p>Returns the number of bytes that are waiting to be written. The bytes are written when control goes back to the event loop.</p>   <h3 class="fn" id="canReadLine">
<code>[virtual] </code><span class="type">bool</span> QBluetoothSocket::<span class="name">canReadLine</span>() const
</h3> <p>Reimplemented from <a href="../qiodevice/#canReadLine">QIODevice::canReadLine</a>().</p> <p>Returns true if you can read at least one line from the device</p>   <h3 class="fn" id="close">
<code>[virtual] </code><span class="type">void</span> QBluetoothSocket::<span class="name">close</span>()
</h3> <p>Reimplemented from <a href="../qiodevice/#close">QIODevice::close</a>().</p> <p>Disconnects the socket's connection with the device.</p> <p><b>Note: </b>On Android, closing the socket requires asynchronous interaction with Android threads. Therefore the associated <a href="../qbluetoothsocket/#disconnected">disconnected</a>() and <a href="../qbluetoothsocket/#stateChanged">stateChanged</a>() signals are delayed until the threads have finished the closure.</p>  <h3 class="fn" id="connectToService">
<span class="type">void</span> QBluetoothSocket::<span class="name">connectToService</span>(const <span class="type"><a href="../qbluetoothserviceinfo/">QBluetoothServiceInfo</a></span> &amp;<i>service</i>, <span class="type"><a href="../qiodevice/#OpenModeFlag-enum">QIODevice::OpenMode</a></span> <i>openMode</i> = ReadWrite)
</h3> <p>Attempts to connect to the service described by <i>service</i>.</p> <p>The socket is opened in the given <i>openMode</i>. The <a href="../qbluetoothsocket/#socketType">socketType</a>() may change depending on the protocol required by <i>service</i>.</p> <p>The socket first enters <a href="../qbluetoothsocket/#SocketState-enum">ConnectingState</a> and attempts to connect to the device providing <i>service</i>. If a connection is established, <a href="../qbluetoothsocket/">QBluetoothSocket</a> enters <a href="../qbluetoothsocket/#SocketState-enum">ConnectedState</a> and emits <a href="../qbluetoothsocket/#connected">connected</a>().</p> <p>At any point, the socket can emit <a href="../qbluetoothsocket/#error">error</a>() to signal that an error occurred.</p> <p>Note that most platforms require a pairing prior to connecting to the remote device. Otherwise the connection process may fail.</p> <p><b>See also </b><a href="../qbluetoothsocket/#state">state</a>() and <a href="../qbluetoothsocket/#disconnectFromService">disconnectFromService</a>().</p>   <h3 class="fn" id="connectToService-1">
<span class="type">void</span> QBluetoothSocket::<span class="name">connectToService</span>(const <span class="type"><a href="../qbluetoothaddress/">QBluetoothAddress</a></span> &amp;<i>address</i>, const <span class="type"><a href="../qbluetoothuuid/">QBluetoothUuid</a></span> &amp;<i>uuid</i>, <span class="type"><a href="../qiodevice/#OpenModeFlag-enum">QIODevice::OpenMode</a></span> <i>openMode</i> = ReadWrite)
</h3> <p>Attempts to make a connection to the service identified by <i>uuid</i> on the device with address <i>address</i>.</p> <p>The socket is opened in the given <i>openMode</i>.</p> <p>For <a href="https://doc.qt.io/qt-5/qtbluetooth-attribution-bluez.html" target="_blank">BlueZ</a>, the socket first enters the <a href="../qbluetoothsocket/#SocketState-enum">ServiceLookupState</a> and queries the connection parameters for <i>uuid</i>. If the service parameters are successfully retrieved the socket enters <a href="../qbluetoothsocket/#SocketState-enum">ConnectingState</a>, and attempts to connect to <i>address</i>. If a connection is established, <a href="../qbluetoothsocket/">QBluetoothSocket</a> enters Connected State and emits <a href="../qbluetoothsocket/#connected">connected</a>().</p> <p>On Android, the service connection can directly be established using the UUID of the remote service. Therefore the platforms does not require the <a href="../qbluetoothsocket/#SocketState-enum">ServiceLookupState</a> and <a href="../qbluetoothsocket/#socketType">socketType</a>() is always set to <a href="../qbluetoothserviceinfo/#Protocol-enum">QBluetoothServiceInfo::RfcommProtocol</a>.</p> <p>At any point, the socket can emit <a href="../qbluetoothsocket/#error">error</a>() to signal that an error occurred.</p> <p>Note that most platforms require a pairing prior to connecting to the remote device. Otherwise the connection process may fail.</p> <p><b>See also </b><a href="../qbluetoothsocket/#state">state</a>() and <a href="../qbluetoothsocket/#disconnectFromService">disconnectFromService</a>().</p>   <h3 class="fn" id="connectToService-2">
<span class="type">void</span> QBluetoothSocket::<span class="name">connectToService</span>(const <span class="type"><a href="../qbluetoothaddress/">QBluetoothAddress</a></span> &amp;<i>address</i>, <span class="type"><a href="../qtglobal/#quint16-typedef">quint16</a></span> <i>port</i>, <span class="type"><a href="../qiodevice/#OpenModeFlag-enum">QIODevice::OpenMode</a></span> <i>openMode</i> = ReadWrite)
</h3> <p>Attempts to make a connection with <i>address</i> on the given <i>port</i>.</p> <p>The socket is opened in the given <i>openMode</i>.</p> <p>The socket first enters <a href="../qbluetoothsocket/#SocketState-enum">ConnectingState</a>, and attempts to connect to <i>address</i>. If a connection is established, <a href="../qbluetoothsocket/">QBluetoothSocket</a> enters <a href="../qbluetoothsocket/#SocketState-enum">ConnectedState</a> and emits <a href="../qbluetoothsocket/#connected">connected</a>().</p> <p>At any point, the socket can emit <a href="../qbluetoothsocket/#error">error</a>() to signal that an error occurred.</p> <p>On Android, a connection to a service can not be established using a port. Calling this function will emit a <a href="../qbluetoothsocket/#SocketError-enum">ServiceNotFoundError</a></p> <p>Note that most platforms require a pairing prior to connecting to the remote device. Otherwise the connection process may fail.</p> <p><b>See also </b><a href="../qbluetoothsocket/#state">state</a>() and <a href="../qbluetoothsocket/#disconnectFromService">disconnectFromService</a>().</p>   <h3 class="fn" id="connected">
<code>[signal] </code><span class="type">void</span> QBluetoothSocket::<span class="name">connected</span>()
</h3> <p>This signal is emitted when a connection is established.</p> <p><b>See also </b><a href="../qbluetoothsocket/#SocketState-enum">QBluetoothSocket::ConnectedState</a> and <a href="../qbluetoothsocket/#stateChanged">stateChanged</a>().</p>   <h3 class="fn" id="disconnectFromService">
<span class="type">void</span> QBluetoothSocket::<span class="name">disconnectFromService</span>()
</h3> <p>Attempts to close the socket. If there is pending data waiting to be written <a href="../qbluetoothsocket/">QBluetoothSocket</a> will enter <a href="../qbluetoothsocket/#SocketState-enum">ClosingState</a> and wait until all data has been written. Eventually, it will enter <a href="../qbluetoothsocket/#SocketState-enum">UnconnectedState</a> and emit the <a href="../qbluetoothsocket/#disconnected">disconnected</a>() signal.</p> <p><b>See also </b><a href="../qbluetoothsocket/#connectToService">connectToService</a>().</p>   <h3 class="fn" id="disconnected">
<code>[signal] </code><span class="type">void</span> QBluetoothSocket::<span class="name">disconnected</span>()
</h3> <p>This signal is emitted when the socket is disconnected.</p> <p><b>See also </b><a href="../qbluetoothsocket/#SocketState-enum">QBluetoothSocket::UnconnectedState</a> and <a href="../qbluetoothsocket/#stateChanged">stateChanged</a>().</p>   <h3 class="fn" id="doDeviceDiscovery">
<code>[protected] </code><span class="type">void</span> QBluetoothSocket::<span class="name">doDeviceDiscovery</span>(const <span class="type"><a href="../qbluetoothserviceinfo/">QBluetoothServiceInfo</a></span> &amp;<i>service</i>, <span class="type"><a href="../qiodevice/#OpenModeFlag-enum">QIODevice::OpenMode</a></span> <i>openMode</i>)
</h3> <p>Start device discovery for <i>service</i> and open the socket with <i>openMode</i>. If the socket is created with a service uuid device address, use service discovery to find the port number to connect to.</p>   <h3 class="fn" id="error">
<span class="type">QBluetoothSocket::SocketError</span> QBluetoothSocket::<span class="name">error</span>() const
</h3> <p>Returns the last error.</p>   <h3 class="fn" id="error-1">
<code>[signal] </code><span class="type">void</span> QBluetoothSocket::<span class="name">error</span>(<span class="type">QBluetoothSocket::SocketError</span> <i>error</i>)
</h3> <p>This signal is emitted when an <i>error</i> occurs.</p> <p><b>Note:</b> Signal <i>error</i> is overloaded in this class. To connect to this signal by using the function pointer syntax, Qt provides a convenient helper for obtaining the function pointer as shown in this example:</p>
<pre data-language="cpp">connect(bluetoothSocket, QOverload&lt;QBluetoothSocket::SocketError&gt;::of(&amp;QBluetoothSocket::error),
    [=](QBluetoothSocket::SocketError error){ /* ... */ });</pre> <p><b>See also </b><a href="../qbluetoothsocket/#error">error</a>().</p>   <h3 class="fn" id="errorString">
<span class="type"><a href="../qstring/">QString</a></span> QBluetoothSocket::<span class="name">errorString</span>() const
</h3> <p>Returns a user displayable text string for the error.</p>   <h3 class="fn" id="isSequential">
<code>[virtual] </code><span class="type">bool</span> QBluetoothSocket::<span class="name">isSequential</span>() const
</h3> <p>Reimplemented from <a href="../qiodevice/#isSequential">QIODevice::isSequential</a>().</p>   <h3 class="fn" id="localAddress">
<span class="type"><a href="../qbluetoothaddress/">QBluetoothAddress</a></span> QBluetoothSocket::<span class="name">localAddress</span>() const
</h3> <p>Returns the address of the local device.</p> <p>Although some platforms may differ the socket must generally be connected to guarantee the return of a valid address. In particular, this is true when dealing with platforms that support multiple local Bluetooth adapters.</p>   <h3 class="fn" id="localName">
<span class="type"><a href="../qstring/">QString</a></span> QBluetoothSocket::<span class="name">localName</span>() const
</h3> <p>Returns the name of the local device.</p> <p>Although some platforms may differ the socket must generally be connected to guarantee the return of a valid name. In particular, this is true when dealing with platforms that support multiple local Bluetooth adapters.</p>   <h3 class="fn" id="localPort">
<span class="type"><a href="../qtglobal/#quint16-typedef">quint16</a></span> QBluetoothSocket::<span class="name">localPort</span>() const
</h3> <p>Returns the port number of the local socket if available, otherwise returns 0. Although some platforms may differ the socket must generally be connected to guarantee the return of a valid port number.</p> <p>On Android and <a href="../internationalization/#macos">macOS</a>, this feature is not supported and returns 0.</p>   <h3 class="fn" id="peerAddress">
<span class="type"><a href="../qbluetoothaddress/">QBluetoothAddress</a></span> QBluetoothSocket::<span class="name">peerAddress</span>() const
</h3> <p>Returns the address of the peer device.</p>   <h3 class="fn" id="peerName">
<span class="type"><a href="../qstring/">QString</a></span> QBluetoothSocket::<span class="name">peerName</span>() const
</h3> <p>Returns the name of the peer device.</p>   <h3 class="fn" id="peerPort">
<span class="type"><a href="../qtglobal/#quint16-typedef">quint16</a></span> QBluetoothSocket::<span class="name">peerPort</span>() const
</h3> <p>Return the port number of the peer socket if available, otherwise returns 0. On Android, this feature is not supported.</p>   <h3 class="fn" id="preferredSecurityFlags">
<span class="type">QBluetooth::SecurityFlags</span> QBluetoothSocket::<span class="name">preferredSecurityFlags</span>() const
</h3> <p>Returns the security parameters used for the initial connection attempt.</p> <p>The security parameters may be renegotiated between the two parties during or after the connection has been established. If such a change happens it is not reflected in the value of this flag.</p> <p>On <a href="../internationalization/#macos">macOS</a>, this flag is always set to <a href="../qbluetooth/#Security-enum">QBluetooth::Secure</a>.</p> <p>This function was introduced in Qt 5.6.</p> <p><b>See also </b><a href="../qbluetoothsocket/#setPreferredSecurityFlags">setPreferredSecurityFlags</a>().</p>   <h3 class="fn" id="readData">
<code>[virtual protected] </code><span class="type"><a href="../qtglobal/#qint64-typedef">qint64</a></span> QBluetoothSocket::<span class="name">readData</span>(<span class="type">char</span> *<i>data</i>, <span class="type"><a href="../qtglobal/#qint64-typedef">qint64</a></span> <i>maxSize</i>)
</h3> <p>Reimplemented from <a href="../qiodevice/#readData">QIODevice::readData</a>().</p>   <h3 class="fn" id="setPreferredSecurityFlags">
<span class="type">void</span> QBluetoothSocket::<span class="name">setPreferredSecurityFlags</span>(<span class="type">QBluetooth::SecurityFlags</span> <i>flags</i>)
</h3> <p>Sets the preferred security parameter for the connection attempt to <i>flags</i>. This value is incorporated when calling <a href="../qbluetoothsocket/#connectToService">connectToService</a>(). Therefore it is required to reconnect to change this parameter for an existing connection.</p> <p>On Bluez this property is set to <a href="../qbluetooth/#Security-enum">QBluetooth::Authorization</a> by default.</p> <p>On <a href="../internationalization/#macos">macOS</a>, this value is ignored as the platform does not permit access to the security parameter of the socket. By default the platform prefers secure/encrypted connections though and therefore this function always returns <a href="../qbluetooth/#Security-enum">QBluetooth::Secure</a>.</p> <p>Android only supports two levels of security (secure and non-secure). If this flag is set to <a href="../qbluetooth/#Security-enum">QBluetooth::NoSecurity</a> the socket object will not employ any authentication or encryption. Any other security flag combination will trigger a secure Bluetooth connection. This flag is set to <a href="../qbluetooth/#Security-enum">QBluetooth::Secure</a> by default.</p> <p><b>Note: </b>A secure connection requires a pairing between the two devices. On some platforms, the pairing is automatically initiated during the establishment of the connection. Other platforms require the application to manually trigger the pairing before attempting to connect.</p>
<p>This function was introduced in Qt 5.6.</p> <p><b>See also </b><a href="../qbluetoothsocket/#preferredSecurityFlags">preferredSecurityFlags</a>().</p>   <h3 class="fn" id="setSocketDescriptor">
<span class="type">bool</span> QBluetoothSocket::<span class="name">setSocketDescriptor</span>(<span class="type">int</span> <i>socketDescriptor</i>, <span class="type">QBluetoothServiceInfo::Protocol</span> <i>socketType</i>, <span class="type">QBluetoothSocket::SocketState</span> <i>socketState</i> = ConnectedState, <span class="type"><a href="../qiodevice/#OpenModeFlag-enum">QIODevice::OpenMode</a></span> <i>openMode</i> = ReadWrite)
</h3> <p>Set the socket to use <i>socketDescriptor</i> with a type of <i>socketType</i>, which is in state, <i>socketState</i>, and mode, <i>openMode</i>.</p> <p>Returns true on success</p> <p><b>See also </b><a href="../qbluetoothsocket/#socketDescriptor">socketDescriptor</a>().</p>   <h3 class="fn" id="setSocketError">
<code>[protected] </code><span class="type">void</span> QBluetoothSocket::<span class="name">setSocketError</span>(<span class="type">QBluetoothSocket::SocketError</span> <i>error_</i>)
</h3> <p>Sets the type of error that last occurred to <i>error_</i>.</p>   <h3 class="fn" id="setSocketState">
<code>[protected] </code><span class="type">void</span> QBluetoothSocket::<span class="name">setSocketState</span>(<span class="type">QBluetoothSocket::SocketState</span> <i>state</i>)
</h3> <p>Sets the socket state to <i>state</i>.</p>   <h3 class="fn" id="socketDescriptor">
<span class="type">int</span> QBluetoothSocket::<span class="name">socketDescriptor</span>() const
</h3> <p>Returns the platform-specific socket descriptor, if available. This function returns -1 if the descriptor is not available or an error has occurred.</p> <p><b>See also </b><a href="../qbluetoothsocket/#setSocketDescriptor">setSocketDescriptor</a>().</p>   <h3 class="fn" id="socketType">
<span class="type">QBluetoothServiceInfo::Protocol</span> QBluetoothSocket::<span class="name">socketType</span>() const
</h3> <p>Returns the socket type. The socket automatically adjusts to the protocol offered by the remote service.</p> <p>Android only support <a href="../qbluetoothserviceinfo/#Protocol-enum">RFCOMM</a> based sockets.</p>   <h3 class="fn" id="state">
<span class="type">QBluetoothSocket::SocketState</span> QBluetoothSocket::<span class="name">state</span>() const
</h3> <p>Returns the current state of the socket.</p>   <h3 class="fn" id="stateChanged">
<code>[signal] </code><span class="type">void</span> QBluetoothSocket::<span class="name">stateChanged</span>(<span class="type">QBluetoothSocket::SocketState</span> <i>state</i>)
</h3> <p>This signal is emitted when the socket state changes to <i>state</i>.</p> <p><b>See also </b><a href="../qbluetoothsocket/#connected">connected</a>(), <a href="../qbluetoothsocket/#disconnected">disconnected</a>(), <a href="../qbluetoothsocket/#state">state</a>(), and <a href="../qbluetoothsocket/#SocketState-enum">QBluetoothSocket::SocketState</a>.</p>   <h3 class="fn" id="writeData">
<code>[virtual protected] </code><span class="type"><a href="../qtglobal/#qint64-typedef">qint64</a></span> QBluetoothSocket::<span class="name">writeData</span>(const <span class="type">char</span> *<i>data</i>, <span class="type"><a href="../qtglobal/#qint64-typedef">qint64</a></span> <i>maxSize</i>)
</h3> <p>Reimplemented from <a href="../qiodevice/#writeData">QIODevice::writeData</a>().</p>
<div class="_attribution">
  <p class="_attribution-p">
    © The Qt Company Ltd<br>Licensed under the GNU Free Documentation License, Version 1.3.<br>
    <a href="https://doc.qt.io/qt-5/qbluetoothsocket.html" class="_attribution-link" target="_blank">https://doc.qt.io/qt-5/qbluetoothsocket.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
