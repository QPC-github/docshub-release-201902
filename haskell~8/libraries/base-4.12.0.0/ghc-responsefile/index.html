
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>GHC.ResponseFile - Haskell 8 - W3cubDocs</title>
  
  <meta name="description" content=" GCC style response files. ">
  <meta name="keywords" content="ghc, responsefile, -, haskell, haskell~8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/haskell~8/libraries/base-4.12.0.0/ghc-responsefile/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/haskell~8.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/haskell~8/" class="_nav-link" title="" style="margin-left:0;">Haskell 8</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _haskell">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 class="caption">GHC.ResponseFile</h1>
<div class="_haskell-api">
<table class="info">
<tr>
<th>License</th>
<td>BSD-style (see the file LICENSE)</td>
</tr>
<tr>
<th>Maintainer</th>
<td>libraries@haskell.org</td>
</tr>
<tr>
<th>Stability</th>
<td>internal</td>
</tr>
<tr>
<th>Portability</th>
<td>portable</td>
</tr>
<tr>
<th>Safe Haskell</th>
<td>Safe</td>
</tr>
<tr>
<th>Language</th>
<td>Haskell2010</td>
</tr>
</table>
<div id="description">
<h4 class="caption">Description</h4>
<p>GCC style response files.</p>
<p><span class="version">Since: base-4.12.0.0</span></p>
</div>
<p class="src"><a id="v:getArgsWithResponseFiles" class="def">getArgsWithResponseFiles</a> :: <a href="../system-io/#t:IO" title="System.IO">IO</a> [<a href="../data-string/#t:String" title="Data.String">String</a>] <a href="https://downloads.haskell.org/~ghc/8.6.1/docs/html/libraries/base-4.12.0.0/src/GHC-ResponseFile.html#getArgsWithResponseFiles" class="link" target="_blank">Source</a> </p>
<p>Like <code><a href="../system-environment/#v:getArgs" title="System.Environment">getArgs</a></code>, but can also read arguments supplied via response files.</p>
<p>For example, consider a program <code>foo</code>:</p>
<pre>main :: IO ()
main = do
  args &lt;- getArgsWithResponseFiles
  putStrLn (show args)
</pre>
<p>And a response file <code>args.txt</code>:</p>
<pre>--one 1
--two 2
--"three" 3
</pre>
<p>Then the result of invoking <code>foo</code> with <code>args.txt</code> is:</p>
<pre>&gt; ./foo @args.txt
["--one","1","--two","2","--three","3"]</pre>
<p class="src"><a id="v:unescapeArgs" class="def">unescapeArgs</a> :: <a href="../data-string/#t:String" title="Data.String">String</a> -&gt; [<a href="../data-string/#t:String" title="Data.String">String</a>] <a href="https://downloads.haskell.org/~ghc/8.6.1/docs/html/libraries/base-4.12.0.0/src/GHC-ResponseFile.html#unescapeArgs" class="link" target="_blank">Source</a> </p>
<p>Given a string of concatenated strings, separate each by removing a layer of <em>quoting</em> and/or <em>escaping</em> of certain characters.</p>
<p>These characters are: any whitespace, single quote, double quote, and the backslash character. The backslash character always escapes (i.e., passes through without further consideration) the character which follows. Characters can also be escaped in blocks by quoting (i.e., surrounding the blocks with matching pairs of either single- or double-quotes which are not themselves escaped).</p>
<p>Any whitespace which appears outside of either of the quoting and escaping mechanisms, is interpreted as having been added by this special concatenation process to designate where the boundaries are between the original, un-concatenated list of strings. These added whitespace characters are removed from the output.</p>
<pre>unescapeArgs "hello\\ \\\"world\\\"\n" == escapeArgs "hello \"world\""</pre>
<p class="src"><a id="v:escapeArgs" class="def">escapeArgs</a> :: [<a href="../data-string/#t:String" title="Data.String">String</a>] -&gt; <a href="../data-string/#t:String" title="Data.String">String</a> <a href="https://downloads.haskell.org/~ghc/8.6.1/docs/html/libraries/base-4.12.0.0/src/GHC-ResponseFile.html#escapeArgs" class="link" target="_blank">Source</a> </p>
<p>Given a list of strings, concatenate them into a single string with escaping of certain characters, and the addition of a newline between each string. The escaping is done by adding a single backslash character before any whitespace, single quote, double quote, or backslash character, so this escaping character must be removed. Unescaped whitespace (in this case, newline) is part of this "transport" format to indicate the end of the previous string and the start of a new string.</p>
<p>While <code><a href="../ghc-responsefile/#v:unescapeArgs" title="GHC.ResponseFile">unescapeArgs</a></code> allows using quoting (i.e., convenient escaping of many characters) by having matching sets of single- or double-quotes,<code><a href="../ghc-responsefile/#v:escapeArgs" title="GHC.ResponseFile">escapeArgs</a></code> does not use the quoting mechasnism, and thus will always escape any whitespace, quotes, and backslashes.</p>
<pre>unescapeArgs "hello\\ \\\"world\\\"\\n" == escapeArgs "hello \"world\""</pre>
<p class="src"><a id="v:expandResponse" class="def">expandResponse</a> :: [<a href="../data-string/#t:String" title="Data.String">String</a>] -&gt; <a href="../system-io/#t:IO" title="System.IO">IO</a> [<a href="../data-string/#t:String" title="Data.String">String</a>] <a href="https://downloads.haskell.org/~ghc/8.6.1/docs/html/libraries/base-4.12.0.0/src/GHC-ResponseFile.html#expandResponse" class="link" target="_blank">Source</a> </p>
<p>Arguments which look like '@foo' will be replaced with the contents of file <code>foo</code>. A gcc-like syntax for response files arguments is expected. This must re-constitute the argument list by doing an inverse of the escaping mechanism done by the calling-program side.</p>
<p>We quit if the file is not found or reading somehow fails. (A convenience routine for haddock or possibly other clients)</p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © The University of Glasgow and others<br>Licensed under a BSD-style license (see top of the page).<br>
    <a href="https://downloads.haskell.org/~ghc/8.6.1/docs/html/libraries/base-4.12.0.0/GHC-ResponseFile.html" class="_attribution-link" target="_blank">https://downloads.haskell.org/~ghc/8.6.1/docs/html/libraries/base-4.12.0.0/GHC-ResponseFile.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
