
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Cordova-plugin-file-transfer - Cordova 7 - W3cubDocs</title>
  
  <meta name="description" content=" This plugin allows you to upload and download files. ">
  <meta name="keywords" content="cordova-plugin-file-transferfiletransfer, cordova-plugin-file-transfer, -, cordova, cordova~7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cordova~7/reference/cordova-plugin-file-transfer/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/cordova~7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cordova~7/" class="_nav-link" title="" style="margin-left:0;">Cordova 7</a></span>
  
  <nav class="_nav">
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _cordova">
				
				
<h1 id="cordova-plugin-file-transfer">cordova-plugin-file-transfer</h1> <p>This plugin allows you to upload and download files.</p> <p>This plugin defines global <code>FileTransfer</code>, <code>FileUploadOptions</code> constructors. Although in the global scope, they are not available until after the <code>deviceready</code> event.</p> <pre data-language="js">document.addEventListener("deviceready", onDeviceReady, false);
function onDeviceReady() {
    console.log(FileTransfer);
}
</pre> <blockquote> <p>To get a few ideas, check out the <a href="#sample">sample</a> at the bottom of this page or go straight to the <a href="#reference">reference</a> content.</p> </blockquote> <p>Report issues with this plugin on the <a href="https://issues.apache.org/jira/issues/?jql=project%20%3D%20CB%20AND%20status%20in%20%28Open%2C%20%22In%20Progress%22%2C%20Reopened%29%20AND%20resolution%20%3D%20Unresolved%20AND%20component%20%3D%20%22Plugin%20File%20Transfer%22%20ORDER%20BY%20priority%20DESC%2C%20summary%20ASC%2C%20updatedDate%20DESC" target="_blank">Apache Cordova issue tracker</a></p> <h2 id="reference">
Reference</h2> <h2 id="installation">Installation</h2> <pre data-language="bash">cordova plugin add cordova-plugin-file-transfer
</pre> <h2 id="supported-platforms">Supported Platforms</h2> <ul> <li>Amazon Fire OS</li> <li>Android</li> <li>BlackBerry 10</li> <li>Browser</li> <li>Firefox OS**</li> <li>iOS</li> <li>Windows Phone 7 and 8*</li> <li>Windows</li> </ul> <p>* <em>Do not support <code>onprogress</code> nor <code>abort()</code></em></p> <p>** <em>Do not support <code>onprogress</code></em></p> <h1 id="filetransfer">FileTransfer</h1> <p>The <code>FileTransfer</code> object provides a way to upload files using an HTTP multi-part POST or PUT request, and to download files.</p> <h2 id="properties">Properties</h2> <ul> <li>
<strong>onprogress</strong>: Called with a <code>ProgressEvent</code> whenever a new chunk of data is transferred. <em>(Function)</em>
</li> </ul> <h2 id="methods">Methods</h2> <ul> <li><p><strong>upload</strong>: Sends a file to a server.</p></li> <li><p><strong>download</strong>: Downloads a file from server.</p></li> <li><p><strong>abort</strong>: Aborts an in-progress transfer.</p></li> </ul> <h2 id="upload">upload</h2> <p><strong>Parameters</strong>:</p> <ul> <li><p><strong>fileURL</strong>: Filesystem URL representing the file on the device or a <a href="https://en.wikipedia.org/wiki/Data_URI_scheme" target="_blank">data URI</a>. For backwards compatibility, this can also be the full path of the file on the device. (See <a href="#backwards-compatibility-notes">Backwards Compatibility Notes</a> below)</p></li> <li><p><strong>server</strong>: URL of the server to receive the file, as encoded by <code>encodeURI()</code>.</p></li> <li><p><strong>successCallback</strong>: A callback that is passed a <code>FileUploadResult</code> object. <em>(Function)</em></p></li> <li><p><strong>errorCallback</strong>: A callback that executes if an error occurs retrieving the <code>FileUploadResult</code>. Invoked with a <code>FileTransferError</code> object. <em>(Function)</em></p></li> <li>
<p><strong>options</strong>: Optional parameters <em>(Object)</em>. Valid keys:</p> <ul> <li>
<strong>fileKey</strong>: The name of the form element. Defaults to <code>file</code>. (DOMString)</li> <li>
<strong>fileName</strong>: The file name to use when saving the file on the server. Defaults to <code>image.jpg</code>. (DOMString)</li> <li>
<strong>httpMethod</strong>: The HTTP method to use - either <code>PUT</code> or <code>POST</code>. Defaults to <code>POST</code>. (DOMString)</li> <li>
<strong>mimeType</strong>: The mime type of the data to upload. Defaults to <code>image/jpeg</code>. (DOMString)</li> <li>
<strong>params</strong>: A set of optional key/value pairs to pass in the HTTP request. (Object, key/value - DOMString)</li> <li>
<strong>chunkedMode</strong>: Whether to upload the data in chunked streaming mode. Defaults to <code>true</code>. (Boolean)</li> <li>
<strong>headers</strong>: A map of header name/header values. Use an array to specify more than one value. On iOS, FireOS, and Android, if a header named Content-Type is present, multipart form data will NOT be used. (Object)</li> </ul>
</li> <li><p><strong>trustAllHosts</strong>: Optional parameter, defaults to <code>false</code>. If set to <code>true</code>, it accepts all security certificates. This is useful since Android rejects self-signed security certificates. Not recommended for production use. Supported on Android and iOS. <em>(boolean)</em></p></li> </ul> <h3 id="example">Example</h3> <pre data-language="js">// !! Assumes variable fileURL contains a valid URL to a text file on the device,
//    for example, cdvfile://localhost/persistent/path/to/file.txt

var win = function (r) {
    console.log("Code = " + r.responseCode);
    console.log("Response = " + r.response);
    console.log("Sent = " + r.bytesSent);
}

var fail = function (error) {
    alert("An error has occurred: Code = " + error.code);
    console.log("upload error source " + error.source);
    console.log("upload error target " + error.target);
}

var options = new FileUploadOptions();
options.fileKey = "file";
options.fileName = fileURL.substr(fileURL.lastIndexOf('/') + 1);
options.mimeType = "text/plain";

var params = {};
params.value1 = "test";
params.value2 = "param";

options.params = params;

var ft = new FileTransfer();
ft.upload(fileURL, encodeURI("http://some.server.com/upload.php"), win, fail, options);
</pre> <h3 id="example-with-upload-headers-and-progress-events-android-and-ios-only">Example with Upload Headers and Progress Events (Android and iOS only)</h3> <pre data-language="js">function win(r) {
    console.log("Code = " + r.responseCode);
    console.log("Response = " + r.response);
    console.log("Sent = " + r.bytesSent);
}

function fail(error) {
    alert("An error has occurred: Code = " + error.code);
    console.log("upload error source " + error.source);
    console.log("upload error target " + error.target);
}

var uri = encodeURI("http://some.server.com/upload.php");

var options = new FileUploadOptions();
options.fileKey="file";
options.fileName=fileURL.substr(fileURL.lastIndexOf('/')+1);
options.mimeType="text/plain";

var headers={'headerParam':'headerValue'};

options.headers = headers;

var ft = new FileTransfer();
ft.onprogress = function(progressEvent) {
    if (progressEvent.lengthComputable) {
        loadingStatus.setPercentage(progressEvent.loaded / progressEvent.total);
    } else {
        loadingStatus.increment();
    }
};
ft.upload(fileURL, uri, win, fail, options);
</pre> <h2 id="fileuploadresult">FileUploadResult</h2> <p>A <code>FileUploadResult</code> object is passed to the success callback of the <code>FileTransfer</code> object's <code>upload()</code> method.</p> <h3 id="properties">Properties</h3> <ul> <li><p><strong>bytesSent</strong>: The number of bytes sent to the server as part of the upload. (long)</p></li> <li><p><strong>responseCode</strong>: The HTTP response code returned by the server. (long)</p></li> <li><p><strong>response</strong>: The HTTP response returned by the server. (DOMString)</p></li> <li>
<p><strong>headers</strong>: The HTTP response headers by the server. (Object)</p> <ul> <li>Currently supported on iOS only.</li> </ul>
</li> </ul> <h3 id="ios-quirks">iOS Quirks</h3> <ul> <li><p>Does not support <code>responseCode</code> or <code>bytesSent</code>.</p></li> <li><p>Does not support uploads of an empty file with <strong>chunkedMode=true</strong> and <code>multipartMode=false</code>.</p></li> </ul> <h3 id="browser-quirks">Browser Quirks</h3> <ul> <li>
<strong>withCredentials</strong>: <em>boolean</em> that tells the browser to set the withCredentials flag on the XMLHttpRequest</li> </ul> <h3 id="windows-quirks">Windows Quirks</h3> <ul> <li><p>An option parameter with empty/null value is excluded in the upload operation due to the Windows API design.</p></li> <li><p><strong>chunkedMode</strong> is not supported and all uploads are set to non-chunked mode.</p></li> </ul> <h2 id="download">download</h2> <p><strong>Parameters</strong>:</p> <ul> <li><p><strong>source</strong>: URL of the server to download the file, as encoded by <code>encodeURI()</code>.</p></li> <li><p><strong>target</strong>: Filesystem url representing the file on the device. For backwards compatibility, this can also be the full path of the file on the device. (See <a href="#backwards-compatibility-notes">Backwards Compatibility Notes</a> below)</p></li> <li><p><strong>successCallback</strong>: A callback that is passed a <code>FileEntry</code> object. <em>(Function)</em></p></li> <li><p><strong>errorCallback</strong>: A callback that executes if an error occurs when retrieving the <code>FileEntry</code>. Invoked with a <code>FileTransferError</code> object. <em>(Function)</em></p></li> <li><p><strong>trustAllHosts</strong>: Optional parameter, defaults to <code>false</code>. If set to <code>true</code>, it accepts all security certificates. This is useful because Android rejects self-signed security certificates. Not recommended for production use. Supported on Android and iOS. <em>(boolean)</em></p></li> <li><p><strong>options</strong>: Optional parameters, currently only supports headers (such as Authorization (Basic Authentication), etc).</p></li> </ul> <h3 id="example">Example</h3> <pre data-language="js">// !! Assumes variable fileURL contains a valid URL to a path on the device,
//    for example, cdvfile://localhost/persistent/path/to/downloads/

var fileTransfer = new FileTransfer();
var uri = encodeURI("http://some.server.com/download.php");

fileTransfer.download(
    uri,
    fileURL,
    function(entry) {
        console.log("download complete: " + entry.toURL());
    },
    function(error) {
        console.log("download error source " + error.source);
        console.log("download error target " + error.target);
        console.log("download error code" + error.code);
    },
    false,
    {
        headers: {
            "Authorization": "Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA=="
        }
    }
);
</pre> <h3 id="wp8-quirks">WP8 Quirks</h3> <ul> <li>Download requests is being cached by native implementation. To avoid caching, pass <code>if-Modified-Since</code> header to download method.</li> </ul> <h3 id="browser-quirks">Browser Quirks</h3> <ul> <li>
<strong>withCredentials</strong>: <em>boolean</em> that tells the browser to set the withCredentials flag on the XMLHttpRequest</li> </ul> <h2 id="abort">abort</h2> <p>Aborts an in-progress transfer. The onerror callback is passed a FileTransferError object which has an error code of <code>FileTransferError.ABORT_ERR</code>.</p> <h3 id="example">Example</h3> <pre data-language="js">// !! Assumes variable fileURL contains a valid URL to a text file on the device,
//    for example, cdvfile://localhost/persistent/path/to/file.txt

var win = function(r) {
    console.log("Should not be called.");
}

var fail = function(error) {
    // error.code == FileTransferError.ABORT_ERR
    alert("An error has occurred: Code = " + error.code);
    console.log("upload error source " + error.source);
    console.log("upload error target " + error.target);
}

var options = new FileUploadOptions();
options.fileKey="file";
options.fileName="myphoto.jpg";
options.mimeType="image/jpeg";

var ft = new FileTransfer();
ft.upload(fileURL, encodeURI("http://some.server.com/upload.php"), win, fail, options);
ft.abort();
</pre> <h2 id="filetransfererror">FileTransferError</h2> <p>A <code>FileTransferError</code> object is passed to an error callback when an error occurs.</p> <h3 id="properties">Properties</h3> <ul> <li><p><strong>code</strong>: One of the predefined error codes listed below. (Number)</p></li> <li><p><strong>source</strong>: URL to the source. (String)</p></li> <li><p><strong>target</strong>: URL to the target. (String)</p></li> <li><p><strong>http_status</strong>: HTTP status code. This attribute is only available when a response code is received from the HTTP connection. (Number)</p></li> <li><p><strong>body</strong> Response body. This attribute is only available when a response is received from the HTTP connection. (String)</p></li> <li><p><strong>exception</strong>: Either e.getMessage or e.toString (String)</p></li> </ul> <h3 id="constants">Constants</h3> <ul> <li>1 = <code>FileTransferError.FILE_NOT_FOUND_ERR</code>
</li> <li>2 = <code>FileTransferError.INVALID_URL_ERR</code>
</li> <li>3 = <code>FileTransferError.CONNECTION_ERR</code>
</li> <li>4 = <code>FileTransferError.ABORT_ERR</code>
</li> <li>5 = <code>FileTransferError.NOT_MODIFIED_ERR</code>
</li> </ul> <h2 id="windows-quirks">Windows Quirks</h2> <ul> <li>The plugin implementation is based on <a href="https://msdn.microsoft.com/en-us/library/windows/apps/windows.networking.backgroundtransfer.backgrounddownloader.aspx" target="_blank">BackgroundDownloader</a>/<a href="https://msdn.microsoft.com/en-us/library/windows/apps/windows.networking.backgroundtransfer.backgrounduploader.aspx" target="_blank">BackgroundUploader</a>, which entails the latency issues on Windows devices (creation/starting of an operation can take up to a few seconds). You can use XHR or <a href="https://msdn.microsoft.com/en-us/library/windows/apps/windows.web.http.httpclient.aspx" target="_blank">HttpClient</a> as a quicker alternative for small downloads.</li> </ul> <h2 id="backwards-compatibility-notes">Backwards Compatibility Notes</h2> <p>Previous versions of this plugin would only accept device-absolute-file-paths as the source for uploads, or as the target for downloads. These paths would typically be of the form:</p> <pre data-language="">/var/mobile/Applications/&lt;application UUID&gt;/Documents/path/to/file  (iOS)
/storage/emulated/0/path/to/file                                    (Android)
</pre> <p>For backwards compatibility, these paths are still accepted, and if your application has recorded paths like these in persistent storage, then they can continue to be used.</p> <p>These paths were previously exposed in the <code>fullPath</code> property of <code>FileEntry</code> and <code>DirectoryEntry</code> objects returned by the File plugin. New versions of the File plugin however, no longer expose these paths to JavaScript.</p> <p>If you are upgrading to a new (1.0.0 or newer) version of File, and you have previously been using <code>entry.fullPath</code> as arguments to <code>download()</code> or <code>upload()</code>, then you will need to change your code to use filesystem URLs instead.</p> <p><code>FileEntry.toURL()</code> and <code>DirectoryEntry.toURL()</code> return a filesystem URL of the form:</p> <pre data-language="">cdvfile://localhost/persistent/path/to/file
</pre> <p>which can be used in place of the absolute file path in both <code>download()</code> and <code>upload()</code> methods.</p> <h2 id="sample-download-and-upload-files">Sample: Download and Upload Files 
</h2> <p>Use the File-Transfer plugin to upload and download files. In these examples, we demonstrate several tasks like:</p> <ul> <li><a href="#binaryFile">Downloading a binary file to the application cache</a></li> <li><a href="#uploadFile">Uploading a file created in your application's root</a></li> <li><a href="#downloadFile">Downloading the uploaded file</a></li> </ul> <h2 id="download-a-binary-file-to-the-application-cache">Download a Binary File to the application cache 
</h2> <p>Use the File plugin with the File-Transfer plugin to provide a target for the files that you download (the target must be a FileEntry object). Before you download the file, create a DirectoryEntry object by using <code>resolveLocalFileSystemURL</code> and calling <code>fs.root</code> in the success callback. Use the <code>getFile</code> method of DirectoryEntry to create the target file.</p> <pre data-language="js">window.requestFileSystem(window.TEMPORARY, 5 * 1024 * 1024, function (fs) {

    console.log('file system open: ' + fs.name);

    // Make sure you add the domain name to the Content-Security-Policy &lt;meta&gt; element.
    var url = 'http://cordova.apache.org/static/img/cordova_bot.png';
    // Parameters passed to getFile create a new file or return the file if it already exists.
    fs.root.getFile('downloaded-image.png', { create: true, exclusive: false }, function (fileEntry) {
        download(fileEntry, url, true);

    }, onErrorCreateFile);

}, onErrorLoadFs);
</pre> <blockquote> <p><em>Note</em> For persistent storage, pass LocalFileSystem.PERSISTENT to requestFileSystem.</p> </blockquote> <p>When you have the FileEntry object, download the file using the <code>download</code> method of the FileTransfer object. The 3rd argument to the <code>download</code> function of FileTransfer is the success callback, which you can use to call the app's <code>readBinaryFile</code> function. In this code example, the <code>entry</code> variable is a new FileEntry object that receives the result of the download operation.</p> <pre data-language="js">function download(fileEntry, uri, readBinaryData) {

    var fileTransfer = new FileTransfer();
    var fileURL = fileEntry.toURL();

    fileTransfer.download(
        uri,
        fileURL,
        function (entry) {
            console.log("Successful download...");
            console.log("download complete: " + entry.toURL());
            if (readBinaryData) {
              // Read the file...
              readBinaryFile(entry);
            }
            else {
              // Or just display it.
              displayImageByFileURL(entry);
            }
        },
        function (error) {
            console.log("download error source " + error.source);
            console.log("download error target " + error.target);
            console.log("upload error code" + error.code);
        },
        null, // or, pass false
        {
            //headers: {
            //    "Authorization": "Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA=="
            //}
        }
    );
}
</pre> <p>If you just need to display the image, take the FileEntry to call its toURL() function.</p> <pre data-language="js">function displayImageByFileURL(fileEntry) {
    var elem = document.getElementById('imageElement');
    elem.src = fileEntry.toURL();
}
</pre> <p>Depending on your app requirements, you may want to read the file. To support operations with binary files, FileReader supports two methods, <code>readAsBinaryString</code> and <code>readAsArrayBuffer</code>. In this example, use <code>readAsArrayBuffer</code> and pass the FileEntry object to the method. Once you read the file successfully, construct a Blob object using the result of the read.</p> <pre data-language="js">function readBinaryFile(fileEntry) {
    fileEntry.file(function (file) {
        var reader = new FileReader();

        reader.onloadend = function() {

            console.log("Successful file read: " + this.result);
            // displayFileData(fileEntry.fullPath + ": " + this.result);

            var blob = new Blob([new Uint8Array(this.result)], { type: "image/png" });
            displayImage(blob);
        };

        reader.readAsArrayBuffer(file);

    }, onErrorReadFile);
}
</pre> <p>Once you read the file successfully, you can create a DOM URL string using <code>createObjectURL</code>, and then display the image.</p> <pre data-language="js">function displayImage(blob) {

    // Note: Use window.URL.revokeObjectURL when finished with image.
    var objURL = window.URL.createObjectURL(blob);

    // Displays image if result is a valid DOM string for an image.
    var elem = document.getElementById('imageElement');
    elem.src = objURL;
}
</pre> <p>As you saw previously, you can call FileEntry.toURL() instead to just display the downloaded image (skip the file read).</p> <h2 id="upload-a-file">Upload a File 
</h2> <p>When you upload a File using the File-Transfer plugin, use the File plugin to provide files for upload (again, they must be FileEntry objects). Before you can upload anything, create a file for upload using the <code>getFile</code> method of DirectoryEntry. In this example, create the file in the application's cache (fs.root). Then call the app's writeFile function so you have some content to upload.</p> <pre data-language="js">function onUploadFile() {
    window.requestFileSystem(window.TEMPORARY, 5 * 1024 * 1024, function (fs) {

        console.log('file system open: ' + fs.name);
        var fileName = "uploadSource.txt";
        var dirEntry = fs.root;
        dirEntry.getFile(fileName, { create: true, exclusive: false }, function (fileEntry) {

            // Write something to the file before uploading it.
            writeFile(fileEntry);

        }, onErrorCreateFile);

    }, onErrorLoadFs);
}
</pre> <p>In this example, create some simple content, and then call the app's upload function.</p> <pre data-language="js">function writeFile(fileEntry, dataObj) {
    // Create a FileWriter object for our FileEntry (log.txt).
    fileEntry.createWriter(function (fileWriter) {

        fileWriter.onwriteend = function () {
            console.log("Successful file write...");
            upload(fileEntry);
        };

        fileWriter.onerror = function (e) {
            console.log("Failed file write: " + e.toString());
        };

        if (!dataObj) {
          dataObj = new Blob(['file data to upload'], { type: 'text/plain' });
        }

        fileWriter.write(dataObj);
    });
}
</pre> <p>Forward the FileEntry object to the upload function. To perform the actual upload, use the upload function of the FileTransfer object.</p> <pre data-language="js">function upload(fileEntry) {
    // !! Assumes variable fileURL contains a valid URL to a text file on the device,
    var fileURL = fileEntry.toURL();

    var success = function (r) {
        console.log("Successful upload...");
        console.log("Code = " + r.responseCode);
        // displayFileData(fileEntry.fullPath + " (content uploaded to server)");
    }

    var fail = function (error) {
        alert("An error has occurred: Code = " + error.code);
    }

    var options = new FileUploadOptions();
    options.fileKey = "file";
    options.fileName = fileURL.substr(fileURL.lastIndexOf('/') + 1);
    options.mimeType = "text/plain";

    var params = {};
    params.value1 = "test";
    params.value2 = "param";

    options.params = params;

    var ft = new FileTransfer();
    // SERVER must be a URL that can handle the request, like
    // http://some.server.com/upload.php
    ft.upload(fileURL, encodeURI(SERVER), success, fail, options);
};
</pre> <h2 id="download-the-uploaded-file">Download the uploaded file 
</h2> <p>To download the image you just uploaded, you will need a valid URL that can handle the request, for example, http://some.server.com/download.php. Again, the success handler for the FileTransfer.download method receives a FileEntry object. The main difference here from previous examples is that we call FileReader.readAsText to read the result of the download operation, because we uploaded a file with text content.</p> <pre data-language="js">function download(fileEntry, uri) {

    var fileTransfer = new FileTransfer();
    var fileURL = fileEntry.toURL();

    fileTransfer.download(
        uri,
        fileURL,
        function (entry) {
            console.log("Successful download...");
            console.log("download complete: " + entry.toURL());
            readFile(entry);
        },
        function (error) {
            console.log("download error source " + error.source);
            console.log("download error target " + error.target);
            console.log("upload error code" + error.code);
        },
        null, // or, pass false
        {
            //headers: {
            //    "Authorization": "Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA=="
            //}
        }
    );
}
</pre> <p>In the readFile function, call the <code>readAsText</code> method of the FileReader object.</p> <pre data-language="js">function readFile(fileEntry) {
    fileEntry.file(function (file) {
        var reader = new FileReader();

        reader.onloadend = function () {

            console.log("Successful file read: " + this.result);
            // displayFileData(fileEntry.fullPath + ": " + this.result);

        };

        reader.readAsText(file);

    }, onErrorReadFile);
}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 The Apache Software Foundation<br>Licensed under the Apache License 2.0.<br>
    <a href="https://cordova.apache.org/docs/en/7.x/reference/cordova-plugin-file-transfer/index.html" class="_attribution-link" target="_blank">https://cordova.apache.org/docs/en/7.x/reference/cordova-plugin-file-transfer/index.html</a>
  </p>
</div>

				<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
