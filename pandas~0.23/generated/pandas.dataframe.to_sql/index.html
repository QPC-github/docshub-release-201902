
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>DataFrame.to_sql() - Pandas 0.23 - W3cubDocs</title>
  
  <meta name="description" content=" Write records stored in a DataFrame to a SQL database. ">
  <meta name="keywords" content="pandas, dataframe, sql, -, pandas~0.23">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/pandas~0.23/generated/pandas.dataframe.to_sql/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/pandas~0.23.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/pandas~0.23/" class="_nav-link" title="" style="margin-left:0;">pandas 0.23</a></span>
  
  <nav class="_nav">
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
				
<h1 id="pandas-dataframe-to-sql">pandas.DataFrame.to_sql</h1> <dl class="method"> <dt id="pandas.DataFrame.to_sql">
<code>DataFrame.to_sql(name, con, schema=None, if_exists='fail', index=True, index_label=None, chunksize=None, dtype=None)</code> <a class="reference external" href="http://github.com/pandas-dev/pandas/blob/v0.23.4/pandas/core/generic.py#L2019-L2130" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Write records stored in a DataFrame to a SQL database.</p> <p>Databases supported by SQLAlchemy <a class="reference internal" href="#r16" id="id1">[R16]</a> are supported. Tables can be newly created, appended to, or overwritten.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>name</strong> : string</p>  <p>Name of SQL table.</p>  <p><strong>con</strong> : sqlalchemy.engine.Engine or sqlite3.Connection</p>  <p>Using SQLAlchemy makes it possible to use any DB supported by that library. Legacy support is provided for sqlite3.Connection objects.</p>  <p><strong>schema</strong> : string, optional</p>  <p>Specify the schema (if database flavor supports this). If None, use default schema.</p>  <p><strong>if_exists</strong> : {‘fail’, ‘replace’, ‘append’}, default ‘fail’</p>  <p>How to behave if the table already exists.</p> <ul class="simple"> <li>fail: Raise a ValueError.</li> <li>replace: Drop the table before inserting new values.</li> <li>append: Insert new values to the existing table.</li> </ul>  <p><strong>index</strong> : boolean, default True</p>  <p>Write DataFrame index as a column. Uses <code>index_label</code> as the column name in the table.</p>  <p><strong>index_label</strong> : string or sequence, default None</p>  <p>Column label for index column(s). If None is given (default) and <code>index</code> is True, then the index names are used. A sequence should be given if the DataFrame uses MultiIndex.</p>  <p><strong>chunksize</strong> : int, optional</p>  <p>Rows will be written in batches of this size at a time. By default, all rows will be written at once.</p>  <p><strong>dtype</strong> : dict, optional</p>  <p>Specifying the datatype for columns. The keys should be the column names and the values should be the SQLAlchemy types or strings for the sqlite3 legacy mode.</p>  </td> </tr> <tr>
<th class="field-name">Raises:</th>
<td class="field-body">
<p class="first"><strong>ValueError</strong></p>  <p>When the table already exists and <code>if_exists</code> is ‘fail’ (the default).</p>  </td> </tr>  </table> <div class="admonition seealso"> <p class="first admonition-title">See also</p> <dl class="last docutils"> <dt>
 <a class="reference internal" href="../pandas.read_sql/#pandas.read_sql" title="pandas.read_sql"><code>pandas.read_sql</code></a>
</dt> <dd>read a DataFrame from a table</dd> </dl> </div> <h4 class="rubric">References</h4> <table class="docutils citation" frame="void" id="r16" rules="none">   <tr>
<td class="label">[R16]</td>
<td>
<em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>)</em> <a class="reference external" href="http://docs.sqlalchemy.org" target="_blank">http://docs.sqlalchemy.org</a>
</td>
</tr>  </table> <table class="docutils citation" frame="void" id="r17" rules="none">   <tr>
<td class="label"><a class="fn-backref" href="#id3">[R17]</a></td>
<td><a class="reference external" href="https://www.python.org/dev/peps/pep-0249/" target="_blank">https://www.python.org/dev/peps/pep-0249/</a></td>
</tr>  </table> <h4 class="rubric">Examples</h4> <p>Create an in-memory SQLite database.</p> <pre data-language="python">&gt;&gt;&gt; from sqlalchemy import create_engine
&gt;&gt;&gt; engine = create_engine('sqlite://', echo=False)
</pre> <p>Create a table from scratch with 3 rows.</p> <pre data-language="python">&gt;&gt;&gt; df = pd.DataFrame({'name' : ['User 1', 'User 2', 'User 3']})
&gt;&gt;&gt; df
     name
0  User 1
1  User 2
2  User 3
</pre> <pre data-language="python">&gt;&gt;&gt; df.to_sql('users', con=engine)
&gt;&gt;&gt; engine.execute("SELECT * FROM users").fetchall()
[(0, 'User 1'), (1, 'User 2'), (2, 'User 3')]
</pre> <pre data-language="python">&gt;&gt;&gt; df1 = pd.DataFrame({'name' : ['User 4', 'User 5']})
&gt;&gt;&gt; df1.to_sql('users', con=engine, if_exists='append')
&gt;&gt;&gt; engine.execute("SELECT * FROM users").fetchall()
[(0, 'User 1'), (1, 'User 2'), (2, 'User 3'),
 (0, 'User 4'), (1, 'User 5')]
</pre> <p>Overwrite the table with just <code>df1</code>.</p> <pre data-language="python">&gt;&gt;&gt; df1.to_sql('users', con=engine, if_exists='replace',
...            index_label='id')
&gt;&gt;&gt; engine.execute("SELECT * FROM users").fetchall()
[(0, 'User 4'), (1, 'User 5')]
</pre> <p>Specify the dtype (especially useful for integers with missing values). Notice that while pandas is forced to store the data as floating point, the database supports nullable integers. When fetching the data with Python, we get back integer scalars.</p> <pre data-language="python">&gt;&gt;&gt; df = pd.DataFrame({"A": [1, None, 2]})
&gt;&gt;&gt; df
     A
0  1.0
1  NaN
2  2.0
</pre> <pre data-language="python">&gt;&gt;&gt; from sqlalchemy.types import Integer
&gt;&gt;&gt; df.to_sql('integers', con=engine, index=False,
...           dtype={"A": Integer()})
</pre> <pre data-language="python">&gt;&gt;&gt; engine.execute("SELECT * FROM integers").fetchall()
[(1,), (None,), (2,)]
</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2012, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.to_sql.html" class="_attribution-link" target="_blank">http://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.to_sql.html</a>
  </p>
</div>

				<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
