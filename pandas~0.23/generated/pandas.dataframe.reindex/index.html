
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>DataFrame.reindex() - Pandas 0.23 - W3cubDocs</title>
  
  <meta name="description" content="Conform DataFrame to new index with optional filling logic, placing NA&#47;NaN in locations having no value in the previous index. A new object is &hellip;">
  <meta name="keywords" content="pandas, dataframe, reindex, -, pandas~0.23">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/pandas~0.23/generated/pandas.dataframe.reindex/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/pandas~0.23.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/pandas~0.23/" class="_nav-link" title="" style="margin-left:0;">pandas 0.23</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="pandas-dataframe-reindex">pandas.DataFrame.reindex</h1> <dl class="method"> <dt id="pandas.DataFrame.reindex">
<code>DataFrame.reindex(labels=None, index=None, columns=None, axis=None, method=None, copy=True, level=None, fill_value=nan, limit=None, tolerance=None)</code> <a class="reference external" href="http://github.com/pandas-dev/pandas/blob/v0.23.4/pandas/util/_decorators.py#L3552-L3566" target="_blank"><span class="viewcode-link">[source]</span></a>
</dt> <dd>
<p>Conform DataFrame to new index with optional filling logic, placing NA/NaN in locations having no value in the previous index. A new object is produced unless the new index is equivalent to the current one and copy=False</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>labels</strong> : array-like, optional</p>  <p>New labels / index to conform the axis specified by ‘axis’ to.</p>  <p><strong>index, columns</strong> : array-like, optional (should be specified using keywords)</p>  <p>New labels / index to conform to. Preferably an Index object to avoid duplicating data</p>  <p><strong>axis</strong> : int or str, optional</p>  <p>Axis to target. Can be either the axis name (‘index’, ‘columns’) or number (0, 1).</p>  <p><strong>method</strong> : {None, ‘backfill’/’bfill’, ‘pad’/’ffill’, ‘nearest’}, optional</p>  <p>method to use for filling holes in reindexed DataFrame. Please note: this is only applicable to DataFrames/Series with a monotonically increasing/decreasing index.</p> <ul class="simple"> <li>default: don’t fill gaps</li> <li>pad / ffill: propagate last valid observation forward to next valid</li> <li>backfill / bfill: use next valid observation to fill gap</li> <li>nearest: use nearest valid observations to fill gap</li> </ul>  <p><strong>copy</strong> : boolean, default True</p>  <p>Return a new object, even if the passed indexes are the same</p>  <p><strong>level</strong> : int or name</p>  <p>Broadcast across a level, matching Index values on the passed MultiIndex level</p>  <p><strong>fill_value</strong> : scalar, default np.NaN</p>  <p>Value to use for missing values. Defaults to NaN, but can be any “compatible” value</p>  <p><strong>limit</strong> : int, default None</p>  <p>Maximum number of consecutive elements to forward or backward fill</p>  <p><strong>tolerance</strong> : optional</p>  <p>Maximum distance between original and new labels for inexact matches. The values of the index at the matching locations most satisfy the equation <code>abs(index[indexer] - target) &lt;= tolerance</code>.</p> <p>Tolerance may be a scalar value, which applies the same tolerance to all values, or list-like, which applies variable tolerance per element. List-like includes list, tuple, array, Series, and must be the same size as the index and its dtype must exactly match the index’s type.</p> <div class="versionadded"> <p><span class="versionmodified">New in version 0.21.0: </span>(list-like tolerance)</p> </div>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<dl class="first last docutils"> <dt>
<code>reindexed : DataFrame</code> </dt>  </dl> </td> </tr>  </table> <h4 class="rubric">Examples</h4> <p><code>DataFrame.reindex</code> supports two calling conventions</p> <ul class="simple"> <li><code>(index=index_labels, columns=column_labels, ...)</code></li> <li><code>(labels, axis={'index', 'columns'}, ...)</code></li> </ul> <p>We <em>highly</em> recommend using keyword arguments to clarify your intent.</p> <p>Create a dataframe with some fictional data.</p> <pre data-language="python">&gt;&gt;&gt; index = ['Firefox', 'Chrome', 'Safari', 'IE10', 'Konqueror']
&gt;&gt;&gt; df = pd.DataFrame({
...      'http_status': [200,200,404,404,301],
...      'response_time': [0.04, 0.02, 0.07, 0.08, 1.0]},
...       index=index)
&gt;&gt;&gt; df
           http_status  response_time
Firefox            200           0.04
Chrome             200           0.02
Safari             404           0.07
IE10               404           0.08
Konqueror          301           1.00
</pre> <p>Create a new index and reindex the dataframe. By default values in the new index that do not have corresponding records in the dataframe are assigned <code>NaN</code>.</p> <pre data-language="python">&gt;&gt;&gt; new_index= ['Safari', 'Iceweasel', 'Comodo Dragon', 'IE10',
...             'Chrome']
&gt;&gt;&gt; df.reindex(new_index)
               http_status  response_time
Safari               404.0           0.07
Iceweasel              NaN            NaN
Comodo Dragon          NaN            NaN
IE10                 404.0           0.08
Chrome               200.0           0.02
</pre> <p>We can fill in the missing values by passing a value to the keyword <code>fill_value</code>. Because the index is not monotonically increasing or decreasing, we cannot use arguments to the keyword <code>method</code> to fill the <code>NaN</code> values.</p> <pre data-language="python">&gt;&gt;&gt; df.reindex(new_index, fill_value=0)
               http_status  response_time
Safari                 404           0.07
Iceweasel                0           0.00
Comodo Dragon            0           0.00
IE10                   404           0.08
Chrome                 200           0.02
</pre> <pre data-language="python">&gt;&gt;&gt; df.reindex(new_index, fill_value='missing')
              http_status response_time
Safari                404          0.07
Iceweasel         missing       missing
Comodo Dragon     missing       missing
IE10                  404          0.08
Chrome                200          0.02
</pre> <p>We can also reindex the columns.</p> <pre data-language="python">&gt;&gt;&gt; df.reindex(columns=['http_status', 'user_agent'])
           http_status  user_agent
Firefox            200         NaN
Chrome             200         NaN
Safari             404         NaN
IE10               404         NaN
Konqueror          301         NaN
</pre> <p>Or we can use “axis-style” keyword arguments</p> <pre data-language="python">&gt;&gt;&gt; df.reindex(['http_status', 'user_agent'], axis="columns")
           http_status  user_agent
Firefox            200         NaN
Chrome             200         NaN
Safari             404         NaN
IE10               404         NaN
Konqueror          301         NaN
</pre> <p>To further illustrate the filling functionality in <code>reindex</code>, we will create a dataframe with a monotonically increasing index (for example, a sequence of dates).</p> <pre data-language="python">&gt;&gt;&gt; date_index = pd.date_range('1/1/2010', periods=6, freq='D')
&gt;&gt;&gt; df2 = pd.DataFrame({"prices": [100, 101, np.nan, 100, 89, 88]},
...                    index=date_index)
&gt;&gt;&gt; df2
            prices
2010-01-01     100
2010-01-02     101
2010-01-03     NaN
2010-01-04     100
2010-01-05      89
2010-01-06      88
</pre> <p>Suppose we decide to expand the dataframe to cover a wider date range.</p> <pre data-language="python">&gt;&gt;&gt; date_index2 = pd.date_range('12/29/2009', periods=10, freq='D')
&gt;&gt;&gt; df2.reindex(date_index2)
            prices
2009-12-29     NaN
2009-12-30     NaN
2009-12-31     NaN
2010-01-01     100
2010-01-02     101
2010-01-03     NaN
2010-01-04     100
2010-01-05      89
2010-01-06      88
2010-01-07     NaN
</pre> <p>The index entries that did not have a value in the original data frame (for example, ‘2009-12-29’) are by default filled with <code>NaN</code>. If desired, we can fill in the missing values using one of several options.</p> <p>For example, to backpropagate the last valid value to fill the <code>NaN</code> values, pass <code>bfill</code> as an argument to the <code>method</code> keyword.</p> <pre data-language="python">&gt;&gt;&gt; df2.reindex(date_index2, method='bfill')
            prices
2009-12-29     100
2009-12-30     100
2009-12-31     100
2010-01-01     100
2010-01-02     101
2010-01-03     NaN
2010-01-04     100
2010-01-05      89
2010-01-06      88
2010-01-07     NaN
</pre> <p>Please note that the <code>NaN</code> value present in the original dataframe (at index value 2010-01-03) will not be filled by any of the value propagation schemes. This is because filling while reindexing does not look at dataframe values, but only compares the original and desired indexes. If you do want to fill in the <code>NaN</code> values present in the original dataframe, use the <code>fillna()</code> method.</p> <p>See the <a class="reference internal" href="../../basics/#basics-reindexing"><span class="std std-ref">user guide</span></a> for more.</p> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2012, AQR Capital Management, LLC, Lambda Foundry, Inc. and PyData Development Team<br>Licensed under the 3-clause BSD License.<br>
    <a href="http://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.reindex.html" class="_attribution-link" target="_blank">http://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.reindex.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
