
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Vector - Ruby 2.5 - W3cubDocs</title>
  
  <meta name="description" content=" The Vector class represents a mathematical vector, which is useful in its own right, and also constitutes a row or column of a Matrix. ">
  <meta name="keywords" content="class, vector, -, ruby, ruby~2.5">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ruby~2.5/vector/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/ruby~2.5.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ruby~2.5/" class="_nav-link" title="" style="margin-left:0;">Ruby 2.5</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _rdoc">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="class-Vector" class="class"> class Vector </h1>
<dl class="meta">
<dt>Parent:</dt>
<dd class="meta-parent"><a href="../object/">Object</a></dd>
<dt>Included modules:</dt>
<dd class="meta-includes"><a class="include" href="../enumerable/">Enumerable</a></dd>
</dl> <section class="description"> <p>The <code>Vector</code> class represents a mathematical vector, which is useful in its own right, and also constitutes a row or column of a <a href="../matrix/">Matrix</a>.</p> <h2 id="class-Vector-label-Method+Catalogue">
<a href="../method/">Method</a> Catalogue</h2> <p>To create a Vector:</p> <ul>
<li> <p><a href="../vector/#method-c-5B-5D">::[]</a></p> </li>
<li> <p><a href="../vector/#method-c-elements">::elements</a>(array, copy = true)</p> </li>
<li> <p><a href="../vector/#method-c-basis">::basis</a>(size: n, index: k)</p> </li>
<li> <p><a href="../vector/#method-c-zero">::zero</a></p> </li>
</ul> <p>To access elements:</p> <ul><li> <p><a href="../vector/#method-i-5B-5D">[](i)</a></p> </li></ul> <p>To enumerate the elements:</p> <ul>
<li> <p><a href="../vector/#method-i-each2">each2(v)</a></p> </li>
<li> <p><a href="../vector/#method-i-collect2">collect2(v)</a></p> </li>
</ul> <p>Properties of vectors:</p> <ul>
<li> <p><a href="../vector/#method-i-angle_with">angle_with(v)</a></p> </li>
<li> <p><a href="../vector/#method-c-independent-3F">::independent?</a></p> </li>
<li> <p><a href="../vector/#method-i-independent-3F">independent?(*vs)</a></p> </li>
<li> <p><a href="../vector/#method-i-zero-3F">zero?</a></p> </li>
</ul> <p><a href="../vector/">Vector</a> arithmetic:</p> <ul>
<li> <p>#*(x) “is matrix or number”</p> </li>
<li> <p>#+(v)</p> </li>
<li> <p>#-(v)</p> </li>
<li> <p>#/(v)</p> </li>
<li> <p>#+@</p> </li>
<li> <p>#-@</p> </li>
</ul> <p><a href="../vector/">Vector</a> functions:</p> <ul>
<li> <p><a href="../vector/#method-i-inner_product">inner_product(v)</a>, dot(v)</p> </li>
<li> <p><a href="../vector/#method-i-cross_product">cross_product(v)</a>, cross(v)</p> </li>
<li> <p><a href="../vector/#method-i-collect">collect</a></p> </li>
<li> <p><a href="../vector/#method-i-magnitude">magnitude</a></p> </li>
<li> <p><a href="../vector/#method-i-map">map</a></p> </li>
<li> <p><a href="../vector/#method-i-map2">map2(v)</a></p> </li>
<li> <p><a href="../vector/#method-i-norm">norm</a></p> </li>
<li> <p><a href="../vector/#method-i-normalize">normalize</a></p> </li>
<li> <p><a href="../vector/#method-i-r">r</a></p> </li>
<li> <p><a href="../vector/#method-i-round">round</a></p> </li>
<li> <p><a href="../vector/#method-i-size">size</a></p> </li>
</ul> <p>Conversion to other data types:</p> <ul>
<li> <p><a href="../vector/#method-i-covector">covector</a></p> </li>
<li> <p><a href="../vector/#method-i-to_a">to_a</a></p> </li>
<li> <p><a href="../vector/#method-i-coerce">coerce(other)</a></p> </li>
</ul> <p>String representations:</p> <ul>
<li> <p><a href="../vector/#method-i-to_s">to_s</a></p> </li>
<li> <p><a href="../vector/#method-i-inspect">inspect</a></p> </li>
</ul> </section> <section id="5Buntitled-5D" class="documentation-section"> <section class="attribute-method-details"> <header> <h3>Attributes</h3> </header> <div class="method-detail"> <div class="method-heading attribute-method-heading" id="attribute-i-elements"> <span class="method-name">elements</span><span class="attribute-access-type">[R]</span> </div> <div class="method-description"> <p>INSTANCE CREATION</p> </div> </div> </section> <section id="public-class-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Class Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-c-5B-5D"> <span class="method-name">[]</span><span class="method-args">(*array)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1695
def Vector.[](*array)
  new convert_to_array(array, false)
end</pre> </div> <p>Creates a <a href="../vector/">Vector</a> from a list of elements.</p> <pre>Vector[7, 4, ...]</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-basis"> <span class="method-name">basis</span><span class="method-args">(size:, index:)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="basis-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1712
def Vector.basis(size:, index:)
  raise ArgumentError, "invalid size (#{size} for 1..)" if size &lt; 1
  raise ArgumentError, "invalid index (#{index} for 0...#{size})" unless 0 &lt;= index &amp;&amp; index &lt; size
  array = Array.new(size, 0)
  array[index] = 1
  new convert_to_array(array, false)
end</pre> </div> <p>Returns a standard basis <code>n</code>-vector, where k is the index.</p> <pre>Vector.basis(size:, index:) # =&gt; Vector[0, 1, 0]</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-elements"> <span class="method-name">elements</span><span class="method-args">(array, copy = true)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1703
def Vector.elements(array, copy = true)
  new convert_to_array(array, copy)
end</pre> </div> <p>Creates a vector from an Array. The optional second argument specifies whether the array itself or a copy is used internally.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-independent-3F"> <span class="method-name">independent?</span><span class="method-args">(*vs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="independent-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1823
def Vector.independent?(*vs)
  vs.each do |v|
    raise TypeError, "expected Vector, got #{v.class}" unless v.is_a?(Vector)
    Vector.Raise ErrDimensionMismatch unless v.size == vs.first.size
  end
  return false if vs.count &gt; vs.first.size
  Matrix[*vs].rank.eql?(vs.count)
end</pre> </div> <p>Returns <code>true</code> iff all of vectors are linearly independent.</p> <pre>Vector.independent?(Vector[1,0], Vector[0,1])
  =&gt; true

Vector.independent?(Vector[1,2], Vector[2,4])
  =&gt; false</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-new"> <span class="method-name">new</span><span class="method-args">(array)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="new-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1734
def initialize(array)
  # No checking is done at this point.
  @elements = array
end</pre> </div> <p><a href="../vector/#method-c-new">::new</a> is private; use Vector[] or <a href="../vector/#method-c-elements">::elements</a> to create.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-c-zero"> <span class="method-name">zero</span><span class="method-args">(size)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="zero-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1725
def Vector.zero(size)
  raise ArgumentError, "invalid size (#{size} for 0..)" if size &lt; 0
  array = Array.new(size, 0)
  new convert_to_array(array, false)
end</pre> </div> <p>Return a zero vector.</p> <pre>Vector.zero(3) =&gt; Vector[0, 0, 0]</pre>  </div> </div> </section> <section id="public-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Public Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-2A"> <span class="method-name">*</span><span class="method-args">(x)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2A-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1890
def *(x)
  case x
  when Numeric
    els = @elements.collect{|e| e * x}
    self.class.elements(els, false)
  when Matrix
    Matrix.column_vector(self) * x
  when Vector
    Vector.Raise ErrOperationNotDefined, "*", self.class, x.class
  else
    apply_through_coercion(x, __method__)
  end
end</pre> </div> <p>Multiplies the vector by <code>x</code>, where <code>x</code> is a number or a matrix.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2B"> <span class="method-name">+</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2B-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1907
def +(v)
  case v
  when Vector
    Vector.Raise ErrDimensionMismatch if size != v.size
    els = collect2(v) {|v1, v2|
      v1 + v2
    }
    self.class.elements(els, false)
  when Matrix
    Matrix.column_vector(self) + v
  else
    apply_through_coercion(v, __method__)
  end
end</pre> </div> <p><a href="../vector/">Vector</a> addition.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2B-40"> <span class="method-name">+@</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2B-40-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1955
def +@
  self
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2D"> <span class="method-name">-</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1925
def -(v)
  case v
  when Vector
    Vector.Raise ErrDimensionMismatch if size != v.size
    els = collect2(v) {|v1, v2|
      v1 - v2
    }
    self.class.elements(els, false)
  when Matrix
    Matrix.column_vector(self) - v
  else
    apply_through_coercion(v, __method__)
  end
end</pre> </div> <p><a href="../vector/">Vector</a> subtraction.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2D-40"> <span class="method-name">-@</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2D-40-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1959
def -@
  collect {|e| -e }
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-2F"> <span class="method-name">/</span><span class="method-args">(x)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="2F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1943
def /(x)
  case x
  when Numeric
    els = @elements.collect{|e| e / x}
    self.class.elements(els, false)
  when Matrix, Vector
    Vector.Raise ErrOperationNotDefined, "/", self.class, x.class
  else
    apply_through_coercion(x, __method__)
  end
end</pre> </div> <p><a href="../vector/">Vector</a> division.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-3D-3D"> <span class="method-name">==</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="3D-3D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1859
def ==(other)
  return false unless Vector === other
  @elements == other.elements
end</pre> </div> <p>Returns <code>true</code> iff the two vectors have the same elements in the same order.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-5B-5D"> <span class="method-name">[]</span><span class="method-args">(i)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1744
def [](i)
  @elements[i]
end</pre> </div> <p>Returns element number <code>i</code> (starting at zero) of the vector.</p>  </div> <div class="aliases"> Also aliased as: <a href="../vector/#method-i-element">element</a>, <a href="../vector/#method-i-component">component</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-angle_with"> <span class="method-name">angle_with</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="angle_with-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2064
def angle_with(v)
  raise TypeError, "Expected a Vector, got a #{v.class}" unless v.is_a?(Vector)
  Vector.Raise ErrDimensionMismatch if size != v.size
  prod = magnitude * v.magnitude
  raise ZeroVectorError, "Can't get angle of zero vector" if prod == 0

  Math.acos( inner_product(v) / prod )
end</pre> </div> <p>Returns an angle with another vector. Result is within the [0…Math::PI].</p> <pre class="ruby" data-language="ruby">Vector[1,0].angle_with(Vector[0,1])
# =&gt; Math::PI / 2
</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-clone"> <span class="method-name">clone</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="clone-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1872
def clone
  self.class.elements(@elements)
end</pre> </div> <p>Returns a copy of the vector.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-coerce"> <span class="method-name">coerce</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="coerce-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2120
def coerce(other)
  case other
  when Numeric
    return Matrix::Scalar.new(other), self
  else
    raise TypeError, "#{self.class} can't be coerced into #{other.class}"
  end
end</pre> </div> <p>The coerce method provides support for Ruby type coercion. This coercion mechanism is used by Ruby to handle mixed-type numeric operations: it is intended to find a compatible common type between the two operands of the operator. See also <a href="../numeric/#method-i-coerce">Numeric#coerce</a>.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-collect"> <span class="method-name">collect</span><span class="method-args">() { |e| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="collect-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2019
def collect(&amp;block) # :yield: e
  return to_enum(:collect) unless block_given?
  els = @elements.collect(&amp;block)
  self.class.elements(els, false)
end</pre> </div> <p>Like <a href="../array/#method-i-collect">Array#collect</a>.</p>  </div> <div class="aliases"> Also aliased as: <a href="../vector/#method-i-map">map</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-collect2"> <span class="method-name">collect2</span><span class="method-args">(v) { |e1, e2| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="collect2-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1801
def collect2(v) # :yield: e1, e2
  raise TypeError, "Integer is not like Vector" if v.kind_of?(Integer)
  Vector.Raise ErrDimensionMismatch if size != v.size
  return to_enum(:collect2, v) unless block_given?
  Array.new(size) do |i|
    yield @elements[i], v[i]
  end
end</pre> </div> <p>Collects (as in <a href="../enumerable/#method-i-collect">Enumerable#collect</a>) over the elements of this vector and <code>v</code> in conjunction.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-component"> <span class="method-name">component</span><span class="method-args">(i)</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-5B-5D">[]</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-covector"> <span class="method-name">covector</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="covector-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2080
def covector
  Matrix.row_vector(self)
end</pre> </div> <p>Creates a single-row matrix from this vector.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-cross"> <span class="method-name">cross</span><span class="method-args">(*vs)</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-cross_product">cross_product</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-cross_product"> <span class="method-name">cross_product</span><span class="method-args">(*vs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="cross_product-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1994
def cross_product(*vs)
  raise ErrOperationNotDefined, "cross product is not defined on vectors of dimension #{size}" unless size &gt;= 2
  raise ArgumentError, "wrong number of arguments (#{vs.size} for #{size - 2})" unless vs.size == size - 2
  vs.each do |v|
    raise TypeError, "expected Vector, got #{v.class}" unless v.is_a? Vector
    Vector.Raise ErrDimensionMismatch unless v.size == size
  end
  case size
  when 2
    Vector[-@elements[1], @elements[0]]
  when 3
    v = vs[0]
    Vector[ v[2]*@elements[1] - v[1]*@elements[2],
      v[0]*@elements[2] - v[2]*@elements[0],
      v[1]*@elements[0] - v[0]*@elements[1] ]
  else
    rows = self, *vs, Array.new(size) {|i| Vector.basis(size: size, index: i) }
    Matrix.rows(rows).laplace_expansion(row: size - 1)
  end
end</pre> </div> <p>Returns the cross product of this vector with the others.</p> <pre class="ruby" data-language="ruby">Vector[1, 0, 0].cross_product Vector[0, 1, 0]   =&gt; Vector[0, 0, 1]
</pre> <p>It is generalized to other dimensions to return a vector perpendicular to the arguments.</p> <pre class="ruby" data-language="ruby">Vector[1, 2].cross_product # =&gt; Vector[-2, 1]
Vector[1, 0, 0, 0].cross_product(
   Vector[0, 1, 0, 0],
   Vector[0, 0, 1, 0]
)  #=&gt; Vector[0, 0, 0, 1]
</pre>  </div> <div class="aliases"> Also aliased as: <a href="../vector/#method-i-cross">cross</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-dot"> <span class="method-name">dot</span><span class="method-args">(v)</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-inner_product">inner_product</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-each"> <span class="method-name">each</span><span class="method-args">(&amp;block)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="each-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1778
def each(&amp;block)
  return to_enum(:each) unless block_given?
  @elements.each(&amp;block)
  self
end</pre> </div> <p>Iterate over the elements of this vector</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-each2"> <span class="method-name">each2</span><span class="method-args">(v) { |e1, e2| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="each2-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1787
def each2(v) # :yield: e1, e2
  raise TypeError, "Integer is not like Vector" if v.kind_of?(Integer)
  Vector.Raise ErrDimensionMismatch if size != v.size
  return to_enum(:each2, v) unless block_given?
  size.times do |i|
    yield @elements[i], v[i]
  end
  self
end</pre> </div> <p>Iterate over the elements of this vector and <code>v</code> in conjunction.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-element"> <span class="method-name">element</span><span class="method-args">(i)</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-5B-5D">[]</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-elements_to_f"> <span class="method-name">elements_to_f</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements_to_f-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2098
def elements_to_f
  warn "Vector#elements_to_f is deprecated", uplevel: 1
  map(&amp;:to_f)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-elements_to_i"> <span class="method-name">elements_to_i</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements_to_i-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2103
def elements_to_i
  warn "Vector#elements_to_i is deprecated", uplevel: 1
  map(&amp;:to_i)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-elements_to_r"> <span class="method-name">elements_to_r</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="elements_to_r-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2108
def elements_to_r
  warn "Vector#elements_to_r is deprecated", uplevel: 1
  map(&amp;:to_r)
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-eql-3F"> <span class="method-name">eql?</span><span class="method-args">(other)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="eql-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1864
def eql?(other)
  return false unless Vector === other
  @elements.eql? other.elements
end</pre> </div>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-hash"> <span class="method-name">hash</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="hash-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1879
def hash
  @elements.hash
end</pre> </div> <p>Returns a hash-code for the vector.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-independent-3F"> <span class="method-name">independent?</span><span class="method-args">(*vs)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="independent-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1841
def independent?(*vs)
  self.class.independent?(self, *vs)
end</pre> </div> <p>Returns <code>true</code> iff all of vectors are linearly independent.</p> <pre>Vector[1,0].independent?(Vector[0,1])
  =&gt; true

Vector[1,2].independent?(Vector[2,4])
  =&gt; false</pre>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inner_product"> <span class="method-name">inner_product</span><span class="method-args">(v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inner_product-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1971
def inner_product(v)
  Vector.Raise ErrDimensionMismatch if size != v.size

  p = 0
  each2(v) {|v1, v2|
    p += v1 * v2.conj
  }
  p
end</pre> </div> <p>Returns the inner product of this vector with the other.</p> <pre class="ruby" data-language="ruby">Vector[4,7].inner_product Vector[10,1]  =&gt; 47
</pre>  </div> <div class="aliases"> Also aliased as: <a href="../vector/#method-i-dot">dot</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-inspect"> <span class="method-name">inspect</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="inspect-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2143
def inspect
  "Vector" + @elements.inspect
end</pre> </div> <p>Overrides <a href="../object/#method-i-inspect">Object#inspect</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-magnitude"> <span class="method-name">magnitude</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="magnitude-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2030
def magnitude
  Math.sqrt(@elements.inject(0) {|v, e| v + e.abs2})
end</pre> </div> <p>Returns the modulus (Pythagorean distance) of the vector.</p> <pre>Vector[5,8,2].r =&gt; 9.643650761</pre>  </div> <div class="aliases"> Also aliased as: <a href="../vector/#method-i-r">r</a>, <a href="../vector/#method-i-norm">norm</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-map"> <span class="method-name">map</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-collect">collect</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-map2"> <span class="method-name">map2</span><span class="method-args">(v) { |e1, e2| ... }</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="map2-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2039
def map2(v, &amp;block) # :yield: e1, e2
  return to_enum(:map2, v) unless block_given?
  els = collect2(v, &amp;block)
  self.class.elements(els, false)
end</pre> </div> <p>Like <a href="../vector/#method-i-collect2">#collect2</a>, but returns a <a href="../vector/">Vector</a> instead of an Array.</p>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-norm"> <span class="method-name">norm</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-magnitude">magnitude</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-normalize"> <span class="method-name">normalize</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="normalize-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2053
def normalize
  n = magnitude
  raise ZeroVectorError, "Zero vectors can not be normalized" if n == 0
  self / n
end</pre> </div> <p>Returns a new vector with the same direction but with norm 1.</p> <pre>v = Vector[5,8,2].normalize
# =&gt; Vector[0.5184758473652127, 0.8295613557843402, 0.20739033894608505]
v.norm =&gt; 1.0</pre>  </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-r"> <span class="method-name">r</span><span class="method-args">()</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-magnitude">magnitude</a> </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-round"> <span class="method-name">round</span><span class="method-args">(ndigits=0)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="round-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1760
def round(ndigits=0)
  map{|e| e.round(ndigits)}
end</pre> </div> <p>Returns a vector with entries rounded to the given precision (see <a href="../float/#method-i-round">Float#round</a>)</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-size"> <span class="method-name">size</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="size-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1767
def size
  @elements.size
end</pre> </div> <p>Returns the number of elements in the vector.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_a"> <span class="method-name">to_a</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_a-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2087
def to_a
  @elements.dup
end</pre> </div> <p>Returns the elements of the vector in an array.</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_matrix"> <span class="method-name">to_matrix</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_matrix-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2094
def to_matrix
  Matrix.column_vector(self)
end</pre> </div> <p>Return a single-column matrix from this vector</p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-to_s"> <span class="method-name">to_s</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="to_s-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 2136
def to_s
  "Vector[" + @elements.join(", ") + "]"
end</pre> </div> <p>Overrides <a href="../object/#method-i-to_s">Object#to_s</a></p>  </div> </div> <div class="method-detail "> <div class="method-heading" id="method-i-zero-3F"> <span class="method-name">zero?</span><span class="method-args">()</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="zero-3F-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1848
def zero?
  all?(&amp;:zero?)
end</pre> </div> <p>Returns <code>true</code> iff all elements are zero.</p>  </div> </div> </section> <section id="private-instance-5Buntitled-5D-method-details" class="method-section"> <header> <h3>Private Instance Methods</h3> </header> <div class="method-detail "> <div class="method-heading" id="method-i-5B-5D-3D"> <span class="method-name">[]=</span><span class="method-args">(i, v)</span> <a class="method-click-advice">Show source</a> </div> <div class="method-description">
<div class="method-source-code" id="5B-5D-3D-source"> <pre class="ruby" data-language="ruby"># File lib/matrix.rb, line 1750
def []=(i, v)
  @elements[i]= v
end</pre> </div>  </div> <div class="aliases"> Also aliased as: <a href="../vector/#method-i-set_element">set_element</a>, <a href="../vector/#method-i-set_component">set_component</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-set_component"> <span class="method-name">set_component</span><span class="method-args">(i, v)</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-5B-5D-3D">[]=</a> </div> </div> <div class="method-detail method-alias"> <div class="method-heading" id="method-i-set_element"> <span class="method-name">set_element</span><span class="method-args">(i, v)</span> </div>  <div class="aliases"> Alias for: <a href="../vector/#method-i-5B-5D-3D">[]=</a> </div> </div> </section> </section><div class="_attribution">
  <p class="_attribution-p">
    Ruby Core © 1993–2017 Yukihiro Matsumoto<br>Licensed under the Ruby License.<br>Ruby Standard Library © contributors<br>Licensed under their own licenses.<br>
    
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
