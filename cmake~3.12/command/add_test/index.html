
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Add_test() - CMake 3.12 - W3cubDocs</title>
  
  <meta name="description" content=" Add a test to the project to be run by ctest(1). ">
  <meta name="keywords" content="add, test, -, cmake, cmake~3.12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cmake~3.12/command/add_test/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/cmake~3.12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cmake~3.12/" class="_nav-link" title="" style="margin-left:0;">CMake 3.12</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx_simple">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="command:add_test">add_test</h1> <p id="add-test">Add a test to the project to be run by <a class="reference internal" href="../../manual/ctest.1/#manual:ctest(1)" title="ctest(1)" id="index-0-manual:ctest(1)"><code>ctest(1)</code></a>.</p> <pre data-language="none">add_test(NAME &lt;name&gt; COMMAND &lt;command&gt; [&lt;arg&gt;...]
         [CONFIGURATIONS &lt;config&gt;...]
         [WORKING_DIRECTORY &lt;dir&gt;])
</pre> <p>Add a test called <code>&lt;name&gt;</code>. The test name may not contain spaces, quotes, or other characters special in CMake syntax. The options are:</p> <dl class="docutils"> <dt>
<code>COMMAND</code> </dt> <dd>Specify the test command-line. If <code>&lt;command&gt;</code> specifies an executable target (created by <a class="reference internal" href="../add_executable/#command:add_executable" title="add_executable" id="index-0-command:add_executable"><code>add_executable()</code></a>) it will automatically be replaced by the location of the executable created at build time.</dd> <dt>
<code>CONFIGURATIONS</code> </dt> <dd>Restrict execution of the test only to the named configurations.</dd> <dt>
<code>WORKING_DIRECTORY</code> </dt> <dd>Set the <a class="reference internal" href="../../prop_test/working_directory/#prop_test:WORKING_DIRECTORY" title="WORKING_DIRECTORY" id="index-0-prop_test:WORKING_DIRECTORY"><code>WORKING_DIRECTORY</code></a> test property to specify the working directory in which to execute the test. If not specified the test will be run with the current working directory set to the build directory corresponding to the current source directory.</dd> </dl> <p>The given test command is expected to exit with code <code>0</code> to pass and non-zero to fail, or vice-versa if the <a class="reference internal" href="../../prop_test/will_fail/#prop_test:WILL_FAIL" title="WILL_FAIL" id="index-0-prop_test:WILL_FAIL"><code>WILL_FAIL</code></a> test property is set. Any output written to stdout or stderr will be captured by <a class="reference internal" href="../../manual/ctest.1/#manual:ctest(1)" title="ctest(1)" id="index-1-manual:ctest(1)"><code>ctest(1)</code></a> but does not affect the pass/fail status unless the <a class="reference internal" href="../../prop_test/pass_regular_expression/#prop_test:PASS_REGULAR_EXPRESSION" title="PASS_REGULAR_EXPRESSION" id="index-0-prop_test:PASS_REGULAR_EXPRESSION"><code>PASS_REGULAR_EXPRESSION</code></a> or <a class="reference internal" href="../../prop_test/fail_regular_expression/#prop_test:FAIL_REGULAR_EXPRESSION" title="FAIL_REGULAR_EXPRESSION" id="index-0-prop_test:FAIL_REGULAR_EXPRESSION"><code>FAIL_REGULAR_EXPRESSION</code></a> test property is used.</p> <p>The <code>COMMAND</code> and <code>WORKING_DIRECTORY</code> options may use “generator expressions” with the syntax <code>$&lt;...&gt;</code>. See the <a class="reference internal" href="../../manual/cmake-generator-expressions.7/#manual:cmake-generator-expressions(7)" title="cmake-generator-expressions(7)" id="index-0-manual:cmake-generator-expressions(7)"><code>cmake-generator-expressions(7)</code></a> manual for available expressions.</p> <p>Example usage:</p> <pre data-language="none">add_test(NAME mytest
         COMMAND testDriver --config $&lt;CONFIGURATION&gt;
                            --exe $&lt;TARGET_FILE:myexe&gt;)
</pre> <p>This creates a test <code>mytest</code> whose command runs a <code>testDriver</code> tool passing the configuration name and the full path to the executable file produced by target <code>myexe</code>.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">CMake will generate tests only if the <a class="reference internal" href="../enable_testing/#command:enable_testing" title="enable_testing" id="index-0-command:enable_testing"><code>enable_testing()</code></a> command has been invoked. The <a class="reference internal" href="../../module/ctest/#module:CTest" title="CTest" id="index-0-module:CTest"><code>CTest</code></a> module invokes the command automatically when the <code>BUILD_TESTING</code> option is <code>ON</code>.</p> </div>  <pre data-language="none">add_test(&lt;name&gt; &lt;command&gt; [&lt;arg&gt;...])
</pre> <p>Add a test called <code>&lt;name&gt;</code> with the given command-line. Unlike the above <code>NAME</code> signature no transformation is performed on the command-line to support target names or generator expressions.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2000–2018 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.12/command/add_test.html" class="_attribution-link" target="_blank">https://cmake.org/cmake/help/v3.12/command/add_test.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
