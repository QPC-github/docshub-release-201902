
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Try_run() - CMake 3.12 - W3cubDocs</title>
  
  <meta name="description" content=" Try compiling and then running some code. ">
  <meta name="keywords" content="try, run, -, cmake, cmake~3.12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cmake~3.12/command/try_run/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/cmake~3.12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cmake~3.12/" class="_nav-link" title="" style="margin-left:0;">CMake 3.12</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx_simple">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="command:try_run">try_run</h1>   <ul id="try-run"> <li><a class="reference internal" href="#try-compiling-and-running-source-files" id="id2">Try Compiling and Running Source Files</a></li> <li><a class="reference internal" href="#other-behavior-settings" id="id3">Other Behavior Settings</a></li> <li><a class="reference internal" href="#behavior-when-cross-compiling" id="id4">Behavior when Cross Compiling</a></li> </ul>
  <p>Try compiling and then running some code.</p>  <h2 id="try-compiling-and-running-source-files">Try Compiling and Running Source Files</h2> <pre data-language="none">try_run(RUN_RESULT_VAR COMPILE_RESULT_VAR
        bindir srcfile [CMAKE_FLAGS &lt;flags&gt;...]
        [COMPILE_DEFINITIONS &lt;defs&gt;...]
        [LINK_LIBRARIES &lt;libs&gt;...]
        [COMPILE_OUTPUT_VARIABLE &lt;var&gt;]
        [RUN_OUTPUT_VARIABLE &lt;var&gt;]
        [OUTPUT_VARIABLE &lt;var&gt;]
        [ARGS &lt;args&gt;...])
</pre> <p>Try compiling a <code>&lt;srcfile&gt;</code>. Returns <code>TRUE</code> or <code>FALSE</code> for success or failure in <code>COMPILE_RESULT_VAR</code>. If the compile succeeded, runs the executable and returns its exit code in <code>RUN_RESULT_VAR</code>. If the executable was built, but failed to run, then <code>RUN_RESULT_VAR</code> will be set to <code>FAILED_TO_RUN</code>. See the <a class="reference internal" href="../try_compile/#command:try_compile" title="try_compile" id="index-0-command:try_compile"><code>try_compile()</code></a> command for information on how the test project is constructed to build the source file.</p> <p>The options are:</p> <dl class="docutils"> <dt>
<code>CMAKE_FLAGS &lt;flags&gt;...</code> </dt> <dd>Specify flags of the form <code>-DVAR:TYPE=VALUE</code> to be passed to the <code>cmake</code> command-line used to drive the test build. The example in <a class="reference internal" href="../try_compile/#command:try_compile" title="try_compile" id="index-1-command:try_compile"><code>try_compile()</code></a> shows how values for variables <code>INCLUDE_DIRECTORIES</code>, <code>LINK_DIRECTORIES</code>, and <code>LINK_LIBRARIES</code> are used.</dd> <dt>
<code>COMPILE_DEFINITIONS &lt;defs&gt;...</code> </dt> <dd>Specify <code>-Ddefinition</code> arguments to pass to <code>add_definitions</code> in the generated test project.</dd> <dt>
<code>COMPILE_OUTPUT_VARIABLE &lt;var&gt;</code> </dt> <dd>Report the compile step build output in a given variable.</dd> <dt>
<code>LINK_LIBRARIES &lt;libs&gt;...</code> </dt> <dd>
<p class="first">Specify libraries to be linked in the generated project. The list of libraries may refer to system libraries and to <a class="reference internal" href="../../manual/cmake-buildsystem.7/#imported-targets"><span class="std std-ref">Imported Targets</span></a> from the calling project.</p> <p class="last">If this option is specified, any <code>-DLINK_LIBRARIES=...</code> value given to the <code>CMAKE_FLAGS</code> option will be ignored.</p> </dd> <dt>
<code>OUTPUT_VARIABLE &lt;var&gt;</code> </dt> <dd>Report the compile build output and the output from running the executable in the given variable. This option exists for legacy reasons. Prefer <code>COMPILE_OUTPUT_VARIABLE</code> and <code>RUN_OUTPUT_VARIABLE</code> instead.</dd> <dt>
<code>RUN_OUTPUT_VARIABLE &lt;var&gt;</code> </dt> <dd>Report the output from running the executable in a given variable.</dd> </dl>   <h2 id="other-behavior-settings">Other Behavior Settings</h2> <p>Set the <a class="reference internal" href="../../variable/cmake_try_compile_configuration/#variable:CMAKE_TRY_COMPILE_CONFIGURATION" title="CMAKE_TRY_COMPILE_CONFIGURATION" id="index-0-variable:CMAKE_TRY_COMPILE_CONFIGURATION"><code>CMAKE_TRY_COMPILE_CONFIGURATION</code></a> variable to choose a build configuration.</p>   <h2 id="behavior-when-cross-compiling">Behavior when Cross Compiling</h2> <p>When cross compiling, the executable compiled in the first step usually cannot be run on the build host. The <code>try_run</code> command checks the <a class="reference internal" href="../../variable/cmake_crosscompiling/#variable:CMAKE_CROSSCOMPILING" title="CMAKE_CROSSCOMPILING" id="index-0-variable:CMAKE_CROSSCOMPILING"><code>CMAKE_CROSSCOMPILING</code></a> variable to detect whether CMake is in cross-compiling mode. If that is the case, it will still try to compile the executable, but it will not try to run the executable unless the <a class="reference internal" href="../../variable/cmake_crosscompiling_emulator/#variable:CMAKE_CROSSCOMPILING_EMULATOR" title="CMAKE_CROSSCOMPILING_EMULATOR" id="index-0-variable:CMAKE_CROSSCOMPILING_EMULATOR"><code>CMAKE_CROSSCOMPILING_EMULATOR</code></a> variable is set. Instead it will create cache variables which must be filled by the user or by presetting them in some CMake script file to the values the executable would have produced if it had been run on its actual target platform. These cache entries are:</p> <dl class="docutils"> <dt>
<code>&lt;RUN_RESULT_VAR&gt;</code> </dt> <dd>Exit code if the executable were to be run on the target platform.</dd> <dt>
<code>&lt;RUN_RESULT_VAR&gt;__TRYRUN_OUTPUT</code> </dt> <dd>Output from stdout and stderr if the executable were to be run on the target platform. This is created only if the <code>RUN_OUTPUT_VARIABLE</code> or <code>OUTPUT_VARIABLE</code> option was used.</dd> </dl> <p>In order to make cross compiling your project easier, use <code>try_run</code> only if really required. If you use <code>try_run</code>, use the <code>RUN_OUTPUT_VARIABLE</code> or <code>OUTPUT_VARIABLE</code> options only if really required. Using them will require that when cross-compiling, the cache variables will have to be set manually to the output of the executable. You can also “guard” the calls to <code>try_run</code> with an <a class="reference internal" href="../if/#command:if" title="if" id="index-0-command:if"><code>if()</code></a> block checking the <a class="reference internal" href="../../variable/cmake_crosscompiling/#variable:CMAKE_CROSSCOMPILING" title="CMAKE_CROSSCOMPILING" id="index-1-variable:CMAKE_CROSSCOMPILING"><code>CMAKE_CROSSCOMPILING</code></a> variable and provide an easy-to-preset alternative for this case.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2000–2018 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.12/command/try_run.html" class="_attribution-link" target="_blank">https://cmake.org/cmake/help/v3.12/command/try_run.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
