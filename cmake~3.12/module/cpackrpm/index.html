
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>CPackRPM - CMake 3.12 - W3cubDocs</title>
  
  <meta name="description" content=" The built in (binary) CPack RPM generator (Unix only) ">
  <meta name="keywords" content="cpackrpm, -, cmake, cmake~3.12">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/cmake~3.12/module/cpackrpm/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/cmake~3.12.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/cmake~3.12/" class="_nav-link" title="" style="margin-left:0;">CMake 3.12</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx_simple">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="module:CPackRPM">CPackRPM</h1> <p id="cpackrpm">The built in (binary) CPack RPM generator (Unix only)</p>  <h2 id="variables-specific-to-cpack-rpm-generator">Variables specific to CPack RPM generator</h2> <p>CPackRPM may be used to create RPM packages using <a class="reference internal" href="../cpack/#module:CPack" title="CPack" id="index-0-module:CPack"><code>CPack</code></a>. CPackRPM is a <a class="reference internal" href="../cpack/#module:CPack" title="CPack" id="index-1-module:CPack"><code>CPack</code></a> generator thus it uses the <code>CPACK_XXX</code> variables used by <a class="reference internal" href="../cpack/#module:CPack" title="CPack" id="index-2-module:CPack"><code>CPack</code></a>.</p> <p>CPackRPM has specific features which are controlled by the specifics <code>CPACK_RPM_XXX</code> variables.</p> <p><code>CPACK_RPM_&lt;COMPONENT&gt;_XXXX</code> variables may be used in order to have <strong>component</strong> specific values. Note however that <code>&lt;COMPONENT&gt;</code> refers to the <strong>grouping name</strong> written in upper case. It may be either a component name or a component GROUP name. Usually those variables correspond to RPM spec file entities. One may find information about spec files here <a class="reference external" href="http://www.rpm.org/wiki/Docs" target="_blank">http://www.rpm.org/wiki/Docs</a></p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last"><code>&lt;COMPONENT&gt;</code> part of variables is preferred to be in upper case (for e.g. if component is named <code>foo</code> then use <code>CPACK_RPM_FOO_XXXX</code> variable name format) as is with other <code>CPACK_&lt;COMPONENT&gt;_XXXX</code> variables. For the purposes of back compatibility (CMake/CPack version 3.5 and lower) support for same cased component (e.g. <code>fOo</code> would be used as <code>CPACK_RPM_fOo_XXXX</code>) is still supported for variables defined in older versions of CMake/CPack but is not guaranteed for variables that will be added in the future. For the sake of back compatibility same cased component variables also override upper cased versions where both are present.</p> </div> <p>Here are some CPackRPM wiki resources that are here for historic reasons and are no longer maintained but may still prove useful:</p>  <ul class="simple"> <li><a class="reference external" href="https://gitlab.kitware.com/cmake/community/wikis/doc/cpack/Configuration" target="_blank">https://gitlab.kitware.com/cmake/community/wikis/doc/cpack/Configuration</a></li> <li><a class="reference external" href="https://gitlab.kitware.com/cmake/community/wikis/doc/cpack/PackageGenerators#rpm-unix-only" target="_blank">https://gitlab.kitware.com/cmake/community/wikis/doc/cpack/PackageGenerators#rpm-unix-only</a></li> </ul>  <p>List of CPackRPM specific variables:</p> <dl class="variable"> <dt id="variable:CPACK_RPM_COMPONENT_INSTALL">
<code>CPACK_RPM_COMPONENT_INSTALL</code> </dt> <dd>
<p>Enable component packaging for CPackRPM</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : OFF</li> </ul> <p>If enabled (ON) multiple packages are generated. By default a single package containing files of all components is generated.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_SUMMARY">
<code>CPACK_RPM_PACKAGE_SUMMARY</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_SUMMARY">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_SUMMARY</code> </dt> <dd>
<p>The RPM package summary.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : <a class="reference internal" href="../cpack/#variable:CPACK_PACKAGE_DESCRIPTION_SUMMARY" title="CPACK_PACKAGE_DESCRIPTION_SUMMARY" id="index-0-variable:CPACK_PACKAGE_DESCRIPTION_SUMMARY"><code>CPACK_PACKAGE_DESCRIPTION_SUMMARY</code></a>
</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_NAME">
<code>CPACK_RPM_PACKAGE_NAME</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_NAME">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_NAME</code> </dt> <dd>
<p>The RPM package name.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : <a class="reference internal" href="../cpack/#variable:CPACK_PACKAGE_NAME" title="CPACK_PACKAGE_NAME" id="index-0-variable:CPACK_PACKAGE_NAME"><code>CPACK_PACKAGE_NAME</code></a>
</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_FILE_NAME">
<code>CPACK_RPM_FILE_NAME</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_FILE_NAME">
<code>CPACK_RPM_&lt;component&gt;_FILE_NAME</code> </dt> <dd>
<p>Package file name.</p> <ul> <li>Mandatory : YES </li> <li>
<dl class="first docutils"> <dt>
<code>Default : &lt;CPACK_PACKAGE_FILE_NAME&gt;[-&lt;component&gt;].rpm with spaces</code> </dt> <dd>
<p class="first last">replaced by ‘-‘</p> </dd> </dl> </li> </ul> <p>This may be set to <code>RPM-DEFAULT</code> to allow rpmbuild tool to generate package file name by itself. Alternatively provided package file name must end with <code>.rpm</code> suffix.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">By using user provided spec file, rpm macro extensions such as for generating debuginfo packages or by simply using multiple components more than one rpm file may be generated, either from a single spec file or from multiple spec files (each component execution produces it’s own spec file). In such cases duplicate file names may occur as a result of this variable setting or spec file content structure. Duplicate files get overwritten and it is up to the packager to set the variables in a manner that will prevent such errors.</p> </div> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_MAIN_COMPONENT">
<code>CPACK_RPM_MAIN_COMPONENT</code> </dt> <dd>
<p>Main component that is packaged without component suffix.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>This variable can be set to any component or group name so that component or group rpm package is generated without component suffix in filename and package name.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_EPOCH">
<code>CPACK_RPM_PACKAGE_EPOCH</code> </dt> <dd>
<p>The RPM package epoch</p> <ul class="simple"> <li>Mandatory : No</li> <li>Default : -</li> </ul> <p>Optional number that should be incremented when changing versioning schemas or fixing mistakes in the version numbers of older packages.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_VERSION">
<code>CPACK_RPM_PACKAGE_VERSION</code> </dt> <dd>
<p>The RPM package version.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : <a class="reference internal" href="../cpack/#variable:CPACK_PACKAGE_VERSION" title="CPACK_PACKAGE_VERSION" id="index-0-variable:CPACK_PACKAGE_VERSION"><code>CPACK_PACKAGE_VERSION</code></a>
</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_ARCHITECTURE">
<code>CPACK_RPM_PACKAGE_ARCHITECTURE</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_ARCHITECTURE">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_ARCHITECTURE</code> </dt> <dd>
<p>The RPM package architecture.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : Native architecture output by <code>uname -m</code>
</li> </ul> <p>This may be set to <code>noarch</code> if you know you are building a noarch package.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_RELEASE">
<code>CPACK_RPM_PACKAGE_RELEASE</code> </dt> <dd>
<p>The RPM package release.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : 1</li> </ul> <p>This is the numbering of the RPM package itself, i.e. the version of the packaging and not the version of the content (see <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_VERSION" title="CPACK_RPM_PACKAGE_VERSION" id="index-0-variable:CPACK_RPM_PACKAGE_VERSION"><code>CPACK_RPM_PACKAGE_VERSION</code></a>). One may change the default value if the previous packaging was buggy and/or you want to put here a fancy Linux distro specific numbering.</p> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">This is the string that goes into the RPM <code>Release:</code> field. Some distros (e.g. Fedora, CentOS) require <code>1%{?dist}</code> format and not just a number. <code>%{?dist}</code> part can be added by setting <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_RELEASE_DIST" title="CPACK_RPM_PACKAGE_RELEASE_DIST" id="index-0-variable:CPACK_RPM_PACKAGE_RELEASE_DIST"><code>CPACK_RPM_PACKAGE_RELEASE_DIST</code></a>.</p> </div> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_RELEASE_DIST">
<code>CPACK_RPM_PACKAGE_RELEASE_DIST</code> </dt> <dd>
<p>The dist tag that is added RPM <code>Release:</code> field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : OFF</li> </ul> <p>This is the reported <code>%{dist}</code> tag from the current distribution or empty <code>%{dist}</code> if RPM macro is not set. If this variable is set then RPM <code>Release:</code> field value is set to <code>${CPACK_RPM_PACKAGE_RELEASE}%{?dist}</code>.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_LICENSE">
<code>CPACK_RPM_PACKAGE_LICENSE</code> </dt> <dd>
<p>The RPM package license policy.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : “unknown”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_GROUP">
<code>CPACK_RPM_PACKAGE_GROUP</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_GROUP">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_GROUP</code> </dt> <dd>
<p>The RPM package group.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : “unknown”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_VENDOR">
<code>CPACK_RPM_PACKAGE_VENDOR</code> </dt> <dd>
<p>The RPM package vendor.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : CPACK_PACKAGE_VENDOR if set or “unknown”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_URL">
<code>CPACK_RPM_PACKAGE_URL</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_URL">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_URL</code> </dt> <dd>
<p>The projects URL.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : <a class="reference internal" href="../../variable/cmake_project_homepage_url/#variable:CMAKE_PROJECT_HOMEPAGE_URL" title="CMAKE_PROJECT_HOMEPAGE_URL" id="index-0-variable:CMAKE_PROJECT_HOMEPAGE_URL"><code>CMAKE_PROJECT_HOMEPAGE_URL</code></a>
</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_DESCRIPTION">
<code>CPACK_RPM_PACKAGE_DESCRIPTION</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_DESCRIPTION">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_DESCRIPTION</code> </dt> <dd>
<p>RPM package description.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : <a class="reference internal" href="#" title="CPACK_COMPONENT_&lt;compName&gt;_DESCRIPTION" id="index-0-variable:CPACK_COMPONENT_&lt;compName&gt;_DESCRIPTION"><code>CPACK_COMPONENT_&lt;compName&gt;_DESCRIPTION</code></a> (component based installers only) if set, <a class="reference internal" href="../cpack/#variable:CPACK_PACKAGE_DESCRIPTION_FILE" title="CPACK_PACKAGE_DESCRIPTION_FILE" id="index-0-variable:CPACK_PACKAGE_DESCRIPTION_FILE"><code>CPACK_PACKAGE_DESCRIPTION_FILE</code></a> if set or “no package description available”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_COMPRESSION_TYPE">
<code>CPACK_RPM_COMPRESSION_TYPE</code> </dt> <dd>
<p>RPM compression type.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to override RPM compression type to be used to build the RPM. For example some Linux distribution now default to lzma or xz compression whereas older cannot use such RPM. Using this one can enforce compression type to be used.</p> <p>Possible values are:</p> <ul class="simple"> <li>lzma</li> <li>xz</li> <li>bzip2</li> <li>gzip</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_AUTOREQ">
<code>CPACK_RPM_PACKAGE_AUTOREQ</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOREQ">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOREQ</code> </dt> <dd>
<p>RPM spec autoreq field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to enable (1, yes) or disable (0, no) automatic shared libraries dependency detection. Dependencies are added to requires list.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">By default automatic dependency detection is enabled by rpm generator.</p> </div> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_AUTOPROV">
<code>CPACK_RPM_PACKAGE_AUTOPROV</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOPROV">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOPROV</code> </dt> <dd>
<p>RPM spec autoprov field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to enable (1, yes) or disable (0, no) automatic listing of shared libraries that are provided by the package. Shared libraries are added to provides list.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">By default automatic provides detection is enabled by rpm generator.</p> </div> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_AUTOREQPROV">
<code>CPACK_RPM_PACKAGE_AUTOREQPROV</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOREQPROV">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_AUTOREQPROV</code> </dt> <dd>
<p>RPM spec autoreqprov field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>Variable enables/disables autoreq and autoprov at the same time. See <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_AUTOREQ" title="CPACK_RPM_PACKAGE_AUTOREQ" id="index-0-variable:CPACK_RPM_PACKAGE_AUTOREQ"><code>CPACK_RPM_PACKAGE_AUTOREQ</code></a> and <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_AUTOPROV" title="CPACK_RPM_PACKAGE_AUTOPROV" id="index-0-variable:CPACK_RPM_PACKAGE_AUTOPROV"><code>CPACK_RPM_PACKAGE_AUTOPROV</code></a> for more details.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">By default automatic detection feature is enabled by rpm.</p> </div> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES">
<code>CPACK_RPM_PACKAGE_REQUIRES</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES</code> </dt> <dd>
<p>RPM spec requires field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM dependencies (requires). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="none">set(CPACK_RPM_PACKAGE_REQUIRES "python &gt;= 2.5.0, cmake &gt;= 2.8")
</pre> <p>The required package list of an RPM file could be printed with:</p> <pre data-language="none">rpm -qp --requires file.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_CONFLICTS">
<code>CPACK_RPM_PACKAGE_CONFLICTS</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_CONFLICTS">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_CONFLICTS</code> </dt> <dd>
<p>RPM spec conflicts field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set negative RPM dependencies (conflicts). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="none">set(CPACK_RPM_PACKAGE_CONFLICTS "libxml2")
</pre> <p>The conflicting package list of an RPM file could be printed with:</p> <pre data-language="none">rpm -qp --conflicts file.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_PRE">
<code>CPACK_RPM_PACKAGE_REQUIRES_PRE</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_PRE">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_PRE</code> </dt> <dd>
<p>RPM spec requires(pre) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM preinstall dependencies (requires(pre)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="none">set(CPACK_RPM_PACKAGE_REQUIRES_PRE "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_POST">
<code>CPACK_RPM_PACKAGE_REQUIRES_POST</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_POST">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_POST</code> </dt> <dd>
<p>RPM spec requires(post) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM postinstall dependencies (requires(post)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="none">set(CPACK_RPM_PACKAGE_REQUIRES_POST "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_POSTUN">
<code>CPACK_RPM_PACKAGE_REQUIRES_POSTUN</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_POSTUN">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_POSTUN</code> </dt> <dd>
<p>RPM spec requires(postun) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM postuninstall dependencies (requires(postun)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="none">set(CPACK_RPM_PACKAGE_REQUIRES_POSTUN "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_REQUIRES_PREUN">
<code>CPACK_RPM_PACKAGE_REQUIRES_PREUN</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_PREUN">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_REQUIRES_PREUN</code> </dt> <dd>
<p>RPM spec requires(preun) field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM preuninstall dependencies (requires(preun)). Note that you must enclose the complete requires string between quotes, for example:</p> <pre data-language="none">set(CPACK_RPM_PACKAGE_REQUIRES_PREUN "shadow-utils, initscripts")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_SUGGESTS">
<code>CPACK_RPM_PACKAGE_SUGGESTS</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_SUGGESTS">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_SUGGESTS</code> </dt> <dd>
<p>RPM spec suggest field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set weak RPM dependencies (suggests). Note that you must enclose the complete requires string between quotes.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_PROVIDES">
<code>CPACK_RPM_PACKAGE_PROVIDES</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_PROVIDES">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_PROVIDES</code> </dt> <dd>
<p>RPM spec provides field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM dependencies (provides). The provided package list of an RPM file could be printed with:</p> <pre data-language="none">rpm -qp --provides file.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_OBSOLETES">
<code>CPACK_RPM_PACKAGE_OBSOLETES</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_PACKAGE_OBSOLETES">
<code>CPACK_RPM_&lt;component&gt;_PACKAGE_OBSOLETES</code> </dt> <dd>
<p>RPM spec obsoletes field.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set RPM packages that are obsoleted by this one.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_RELOCATABLE">
<code>CPACK_RPM_PACKAGE_RELOCATABLE</code> </dt> <dd>
<p>build a relocatable RPM.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : CPACK_PACKAGE_RELOCATABLE</li> </ul> <p>If this variable is set to TRUE or ON CPackRPM will try to build a relocatable RPM package. A relocatable RPM may be installed using:</p> <pre data-language="none">rpm --prefix or --relocate
</pre> <p>in order to install it at an alternate place see rpm(8). Note that currently this may fail if <a class="reference internal" href="../../variable/cpack_set_destdir/#variable:CPACK_SET_DESTDIR" title="CPACK_SET_DESTDIR" id="index-0-variable:CPACK_SET_DESTDIR"><code>CPACK_SET_DESTDIR</code></a> is set to <code>ON</code>. If <a class="reference internal" href="../../variable/cpack_set_destdir/#variable:CPACK_SET_DESTDIR" title="CPACK_SET_DESTDIR" id="index-1-variable:CPACK_SET_DESTDIR"><code>CPACK_SET_DESTDIR</code></a> is set then you will get a warning message but if there is file installed with absolute path you’ll get unexpected behavior.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_SPEC_INSTALL_POST">
<code>CPACK_RPM_SPEC_INSTALL_POST</code> </dt> <dd>
<p>Deprecated - use <a class="reference internal" href="#variable:CPACK_RPM_SPEC_MORE_DEFINE" title="CPACK_RPM_SPEC_MORE_DEFINE" id="index-0-variable:CPACK_RPM_SPEC_MORE_DEFINE"><code>CPACK_RPM_SPEC_MORE_DEFINE</code></a> instead.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> <li>Deprecated: YES</li> </ul> <p>May be used to override the <code>__spec_install_post</code> section within the generated spec file. This affects the install step during package creation, not during package installation. For adding operations to be performed during package installation, use <a class="reference internal" href="#variable:CPACK_RPM_POST_INSTALL_SCRIPT_FILE" title="CPACK_RPM_POST_INSTALL_SCRIPT_FILE" id="index-0-variable:CPACK_RPM_POST_INSTALL_SCRIPT_FILE"><code>CPACK_RPM_POST_INSTALL_SCRIPT_FILE</code></a> instead.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_SPEC_MORE_DEFINE">
<code>CPACK_RPM_SPEC_MORE_DEFINE</code> </dt> <dd>
<p>RPM extended spec definitions lines.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to add any <code>%define</code> lines to the generated spec file. An example of its use is to prevent stripping of executables (but note that this may also disable other default post install processing):</p> <pre data-language="none">set(CPACK_RPM_SPEC_MORE_DEFINE "%define __spec_install_post /bin/true")
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_DEBUG">
<code>CPACK_RPM_PACKAGE_DEBUG</code> </dt> <dd>
<p>Toggle CPackRPM debug output.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be set when invoking cpack in order to trace debug information during CPack RPM run. For example you may launch CPack like this:</p> <pre data-language="none">cpack -D CPACK_RPM_PACKAGE_DEBUG=1 -G RPM
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_USER_BINARY_SPECFILE">
<code>CPACK_RPM_USER_BINARY_SPECFILE</code> </dt> <dt id="variable:CPACK_RPM_&lt;componentName&gt;_USER_BINARY_SPECFILE">
<code>CPACK_RPM_&lt;componentName&gt;_USER_BINARY_SPECFILE</code> </dt> <dd>
<p>A user provided spec file.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be set by the user in order to specify a USER binary spec file to be used by CPackRPM instead of generating the file. The specified file will be processed by configure_file( @ONLY).</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_GENERATE_USER_BINARY_SPECFILE_TEMPLATE">
<code>CPACK_RPM_GENERATE_USER_BINARY_SPECFILE_TEMPLATE</code> </dt> <dd>
<p>Spec file template.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>If set CPack will generate a template for USER specified binary spec file and stop with an error. For example launch CPack like this:</p> <pre data-language="none">cpack -D CPACK_RPM_GENERATE_USER_BINARY_SPECFILE_TEMPLATE=1 -G RPM
</pre> <p>The user may then use this file in order to hand-craft is own binary spec file which may be used with <a class="reference internal" href="#variable:CPACK_RPM_USER_BINARY_SPECFILE" title="CPACK_RPM_USER_BINARY_SPECFILE" id="index-0-variable:CPACK_RPM_USER_BINARY_SPECFILE"><code>CPACK_RPM_USER_BINARY_SPECFILE</code></a>.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_PRE_INSTALL_SCRIPT_FILE">
<code>CPACK_RPM_PRE_INSTALL_SCRIPT_FILE</code> </dt> <dt id="variable:CPACK_RPM_PRE_UNINSTALL_SCRIPT_FILE">
<code>CPACK_RPM_PRE_UNINSTALL_SCRIPT_FILE</code> </dt> <dd>
<p>Path to file containing pre (un)install script.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to embed a pre (un)installation script in the spec file. The referred script file (or both) will be read and directly put after the <code>%pre</code> or <code>%preun</code> section If <a class="reference internal" href="#variable:CPACK_RPM_COMPONENT_INSTALL" title="CPACK_RPM_COMPONENT_INSTALL" id="index-0-variable:CPACK_RPM_COMPONENT_INSTALL"><code>CPACK_RPM_COMPONENT_INSTALL</code></a> is set to ON the (un)install script for each component can be overridden with <code>CPACK_RPM_&lt;COMPONENT&gt;_PRE_INSTALL_SCRIPT_FILE</code> and <code>CPACK_RPM_&lt;COMPONENT&gt;_PRE_UNINSTALL_SCRIPT_FILE</code>. One may verify which scriptlet has been included with:</p> <pre data-language="none">rpm -qp --scripts  package.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_POST_INSTALL_SCRIPT_FILE">
<code>CPACK_RPM_POST_INSTALL_SCRIPT_FILE</code> </dt> <dt id="variable:CPACK_RPM_POST_UNINSTALL_SCRIPT_FILE">
<code>CPACK_RPM_POST_UNINSTALL_SCRIPT_FILE</code> </dt> <dd>
<p>Path to file containing post (un)install script.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to embed a post (un)installation script in the spec file. The referred script file (or both) will be read and directly put after the <code>%post</code> or <code>%postun</code> section. If <a class="reference internal" href="#variable:CPACK_RPM_COMPONENT_INSTALL" title="CPACK_RPM_COMPONENT_INSTALL" id="index-1-variable:CPACK_RPM_COMPONENT_INSTALL"><code>CPACK_RPM_COMPONENT_INSTALL</code></a> is set to ON the (un)install script for each component can be overridden with <code>CPACK_RPM_&lt;COMPONENT&gt;_POST_INSTALL_SCRIPT_FILE</code> and <code>CPACK_RPM_&lt;COMPONENT&gt;_POST_UNINSTALL_SCRIPT_FILE</code>. One may verify which scriptlet has been included with:</p> <pre data-language="none">rpm -qp --scripts  package.rpm
</pre> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_USER_FILELIST">
<code>CPACK_RPM_USER_FILELIST</code> </dt> <dt id="variable:CPACK_RPM_&lt;COMPONENT&gt;_USER_FILELIST">
<code>CPACK_RPM_&lt;COMPONENT&gt;_USER_FILELIST</code> </dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to explicitly specify <code>%(&lt;directive&gt;)</code> file line in the spec file. Like <code>%config(noreplace)</code> or any other directive that be found in the <code>%files</code> section. You can have multiple directives per line, as in <code>%attr(600,root,root) %config(noreplace)</code>. Since CPackRPM is generating the list of files (and directories) the user specified files of the <code>CPACK_RPM_&lt;COMPONENT&gt;_USER_FILELIST</code> list will be removed from the generated list. If referring to directories do not add a trailing slash.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_CHANGELOG_FILE">
<code>CPACK_RPM_CHANGELOG_FILE</code> </dt> <dd>
<p>RPM changelog file.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to embed a changelog in the spec file. The referred file will be read and directly put after the <code>%changelog</code> section.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST">
<code>CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST</code> </dt> <dd>
<p>list of path to be excluded.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>
<dl class="first docutils"> <dt>
<code>Default : /etc /etc/init.d /usr /usr/bin /usr/include /usr/lib</code> </dt> <dd>/usr/libx32 /usr/lib64 /usr/share /usr/share/aclocal /usr/share/doc</dd> </dl> </li> </ul> <p>May be used to exclude path (directories or files) from the auto-generated list of paths discovered by CPack RPM. The default value contains a reasonable set of values if the variable is not defined by the user. If the variable is defined by the user then CPackRPM will NOT any of the default path. If you want to add some path to the default list then you can use <a class="reference internal" href="#variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION" title="CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION" id="index-0-variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION"><code>CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION</code></a> variable.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION">
<code>CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST_ADDITION</code> </dt> <dd>
<p>additional list of path to be excluded.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to add more exclude path (directories or files) from the initial default list of excluded paths. See <a class="reference internal" href="#variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST" title="CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST" id="index-0-variable:CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST"><code>CPACK_RPM_EXCLUDE_FROM_AUTO_FILELIST</code></a>.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_RELOCATION_PATHS">
<code>CPACK_RPM_RELOCATION_PATHS</code> </dt> <dd>
<p>Packages relocation paths list.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to specify more than one relocation path per relocatable RPM. Variable contains a list of relocation paths that if relative are prefixed by the value of <a class="reference internal" href="#variable:CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX" title="CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX" id="index-0-variable:CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX"><code>CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX</code></a> or by the value of <a class="reference internal" href="../../variable/cpack_packaging_install_prefix/#variable:CPACK_PACKAGING_INSTALL_PREFIX" title="CPACK_PACKAGING_INSTALL_PREFIX" id="index-0-variable:CPACK_PACKAGING_INSTALL_PREFIX"><code>CPACK_PACKAGING_INSTALL_PREFIX</code></a> if the component version is not provided. Variable is not component based as its content can be used to set a different path prefix for e.g. binary dir and documentation dir at the same time. Only prefixes that are required by a certain component are added to that component - component must contain at least one file/directory/symbolic link with <a class="reference internal" href="#variable:CPACK_RPM_RELOCATION_PATHS" title="CPACK_RPM_RELOCATION_PATHS" id="index-0-variable:CPACK_RPM_RELOCATION_PATHS"><code>CPACK_RPM_RELOCATION_PATHS</code></a> prefix for a certain relocation path to be added. Package will not contain any relocation paths if there are no files/directories/symbolic links on any of the provided prefix locations. Packages that either do not contain any relocation paths or contain files/directories/symbolic links that are outside relocation paths print out an <code>AUTHOR_WARNING</code> that RPM will be partially relocatable.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX">
<code>CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX</code> </dt> <dd>
<p>Per component relocation path install prefix.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : CPACK_PACKAGING_INSTALL_PREFIX</li> </ul> <p>May be used to set per component <a class="reference internal" href="../../variable/cpack_packaging_install_prefix/#variable:CPACK_PACKAGING_INSTALL_PREFIX" title="CPACK_PACKAGING_INSTALL_PREFIX" id="index-1-variable:CPACK_PACKAGING_INSTALL_PREFIX"><code>CPACK_PACKAGING_INSTALL_PREFIX</code></a> for relocatable RPM packages.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_NO_INSTALL_PREFIX_RELOCATION">
<code>CPACK_RPM_NO_INSTALL_PREFIX_RELOCATION</code> </dt> <dt id="variable:CPACK_RPM_NO_&lt;COMPONENT&gt;_INSTALL_PREFIX_RELOCATION">
<code>CPACK_RPM_NO_&lt;COMPONENT&gt;_INSTALL_PREFIX_RELOCATION</code> </dt> <dd>
<p>Removal of default install prefix from relocation paths list.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>
<dl class="first docutils"> <dt>
<code>Default : CPACK_PACKAGING_INSTALL_PREFIX or CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX</code> </dt> <dd>are treated as one of relocation paths</dd> </dl> </li> </ul> <p>May be used to remove CPACK_PACKAGING_INSTALL_PREFIX and CPACK_RPM_&lt;COMPONENT&gt;_PACKAGE_PREFIX from relocatable RPM prefix paths.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_ADDITIONAL_MAN_DIRS">
<code>CPACK_RPM_ADDITIONAL_MAN_DIRS</code> </dt> <dd>
<ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set additional man dirs that could potentially be compressed by brp-compress RPM macro. Variable content must be a list of regular expressions that point to directories containing man files or to man files directly. Note that in order to compress man pages a path must also be present in brp-compress RPM script and that brp-compress script must be added to RPM configuration by the operating system.</p> <p>Regular expressions that are added by default were taken from brp-compress RPM macro:</p> <ul class="simple"> <li>/usr/man/man.*</li> <li>/usr/man/.*/man.*</li> <li>/usr/info.*</li> <li>/usr/share/man/man.*</li> <li>/usr/share/man/.*/man.*</li> <li>/usr/share/info.*</li> <li>/usr/kerberos/man.*</li> <li>/usr/X11R6/man/man.*</li> <li>/usr/lib/perl5/man/man.*</li> <li>/usr/share/doc/.*/man/man.*</li> <li>/usr/lib/.*/man/man.*</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_DEFAULT_USER">
<code>CPACK_RPM_DEFAULT_USER</code> </dt> <dt id="variable:CPACK_RPM_&lt;compName&gt;_DEFAULT_USER">
<code>CPACK_RPM_&lt;compName&gt;_DEFAULT_USER</code> </dt> <dd>
<p>default user ownership of RPM content</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : root</li> </ul> <p>Value should be user name and not UID. Note that &lt;compName&gt; must be in upper-case.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_DEFAULT_GROUP">
<code>CPACK_RPM_DEFAULT_GROUP</code> </dt> <dt id="variable:CPACK_RPM_&lt;compName&gt;_DEFAULT_GROUP">
<code>CPACK_RPM_&lt;compName&gt;_DEFAULT_GROUP</code> </dt> <dd>
<p>default group ownership of RPM content</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : root</li> </ul> <p>Value should be group name and not GID. Note that &lt;compName&gt; must be in upper-case.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_DEFAULT_FILE_PERMISSIONS">
<code>CPACK_RPM_DEFAULT_FILE_PERMISSIONS</code> </dt> <dt id="variable:CPACK_RPM_&lt;compName&gt;_DEFAULT_FILE_PERMISSIONS">
<code>CPACK_RPM_&lt;compName&gt;_DEFAULT_FILE_PERMISSIONS</code> </dt> <dd>
<p>default permissions used for packaged files</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : - (system default)</li> </ul> <p>Accepted values are lists with <code>PERMISSIONS</code>. Valid permissions are:</p> <ul class="simple"> <li>OWNER_READ</li> <li>OWNER_WRITE</li> <li>OWNER_EXECUTE</li> <li>GROUP_READ</li> <li>GROUP_WRITE</li> <li>GROUP_EXECUTE</li> <li>WORLD_READ</li> <li>WORLD_WRITE</li> <li>WORLD_EXECUTE</li> </ul> <p>Note that &lt;compName&gt; must be in upper-case.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_DEFAULT_DIR_PERMISSIONS">
<code>CPACK_RPM_DEFAULT_DIR_PERMISSIONS</code> </dt> <dt id="variable:CPACK_RPM_&lt;compName&gt;_DEFAULT_DIR_PERMISSIONS">
<code>CPACK_RPM_&lt;compName&gt;_DEFAULT_DIR_PERMISSIONS</code> </dt> <dd>
<p>default permissions used for packaged directories</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : - (system default)</li> </ul> <p>Accepted values are lists with PERMISSIONS. Valid permissions are the same as for <a class="reference internal" href="#variable:CPACK_RPM_DEFAULT_FILE_PERMISSIONS" title="CPACK_RPM_DEFAULT_FILE_PERMISSIONS" id="index-0-variable:CPACK_RPM_DEFAULT_FILE_PERMISSIONS"><code>CPACK_RPM_DEFAULT_FILE_PERMISSIONS</code></a>. Note that &lt;compName&gt; must be in upper-case.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_INSTALL_WITH_EXEC">
<code>CPACK_RPM_INSTALL_WITH_EXEC</code> </dt> <dd>
<p>force execute permissions on programs and shared libraries</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : - (system default)</li> </ul> <p>Force set owner, group and world execute permissions on programs and shared libraries. This can be used for creating valid rpm packages on systems such as Debian where shared libraries do not have execute permissions set.</p> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Programs and shared libraries without execute permissions are ignored during separation of debug symbols from the binary for debuginfo packages.</p> </div>   <h2 id="packaging-of-symbolic-links">Packaging of Symbolic Links</h2> <p>CPackRPM supports packaging of symbolic links:</p> <pre data-language="none">execute_process(COMMAND ${CMAKE_COMMAND}
  -E create_symlink &lt;relative_path_location&gt; &lt;symlink_name&gt;)
install(FILES ${CMAKE_CURRENT_BINARY_DIR}/&lt;symlink_name&gt;
  DESTINATION &lt;symlink_location&gt; COMPONENT libraries)
</pre> <p>Symbolic links will be optimized (paths will be shortened if possible) before being added to the package or if multiple relocation paths are detected, a post install symlink relocation script will be generated.</p> <p>Symbolic links may point to locations that are not packaged by the same package (either a different component or even not packaged at all) but those locations will be treated as if they were a part of the package while determining if symlink should be either created or present in a post install script - depending on relocation paths.</p> <p>Symbolic links that point to locations outside packaging path produce a warning and are treated as non relocatable permanent symbolic links.</p> <p>Currently there are a few limitations though:</p> <ul class="simple"> <li>For component based packaging component interdependency is not checked when processing symbolic links. Symbolic links pointing to content of a different component are treated the same way as if pointing to location that will not be packaged.</li> <li>Symbolic links pointing to a location through one or more intermediate symbolic links will not be handled differently - if the intermediate symbolic link(s) is also on a relocatable path, relocating it during package installation may cause initial symbolic link to point to an invalid location.</li> </ul>   <h2 id="packaging-of-debug-information">Packaging of debug information</h2> <p>Debuginfo packages contain debug symbols and sources for debugging packaged binaries.</p> <p>Debuginfo RPM packaging has it’s own set of variables:</p> <dl class="variable"> <dt id="variable:CPACK_RPM_DEBUGINFO_PACKAGE">
<code>CPACK_RPM_DEBUGINFO_PACKAGE</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_DEBUGINFO_PACKAGE">
<code>CPACK_RPM_&lt;component&gt;_DEBUGINFO_PACKAGE</code> </dt> <dd>
<p>Enable generation of debuginfo RPM package(s).</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : OFF</li> </ul> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Binaries must contain debug symbols before packaging so use either <code>Debug</code> or <code>RelWithDebInfo</code> for <a class="reference internal" href="../../variable/cmake_build_type/#variable:CMAKE_BUILD_TYPE" title="CMAKE_BUILD_TYPE" id="index-0-variable:CMAKE_BUILD_TYPE"><code>CMAKE_BUILD_TYPE</code></a> variable value.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Packages generated from packages without binary files, with binary files but without execute permissions or without debug symbols will cause packaging termination.</p> </div> <dl class="variable"> <dt id="variable:CPACK_BUILD_SOURCE_DIRS">
<code>CPACK_BUILD_SOURCE_DIRS</code> </dt> <dd>
<p>Provides locations of root directories of source files from which binaries were built.</p> <ul class="simple"> <li>Mandatory : YES if <a class="reference internal" href="#variable:CPACK_RPM_DEBUGINFO_PACKAGE" title="CPACK_RPM_DEBUGINFO_PACKAGE" id="index-0-variable:CPACK_RPM_DEBUGINFO_PACKAGE"><code>CPACK_RPM_DEBUGINFO_PACKAGE</code></a> is set</li> <li>Default : -</li> </ul> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">For CMake project <a class="reference internal" href="#variable:CPACK_BUILD_SOURCE_DIRS" title="CPACK_BUILD_SOURCE_DIRS" id="index-0-variable:CPACK_BUILD_SOURCE_DIRS"><code>CPACK_BUILD_SOURCE_DIRS</code></a> is set by default to point to <a class="reference internal" href="../../variable/cmake_source_dir/#variable:CMAKE_SOURCE_DIR" title="CMAKE_SOURCE_DIR" id="index-0-variable:CMAKE_SOURCE_DIR"><code>CMAKE_SOURCE_DIR</code></a> and <a class="reference internal" href="../../variable/cmake_binary_dir/#variable:CMAKE_BINARY_DIR" title="CMAKE_BINARY_DIR" id="index-0-variable:CMAKE_BINARY_DIR"><code>CMAKE_BINARY_DIR</code></a> paths.</p> </div> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Sources with path prefixes that do not fall under any location provided with <a class="reference internal" href="#variable:CPACK_BUILD_SOURCE_DIRS" title="CPACK_BUILD_SOURCE_DIRS" id="index-1-variable:CPACK_BUILD_SOURCE_DIRS"><code>CPACK_BUILD_SOURCE_DIRS</code></a> will not be present in debuginfo package.</p> </div> <dl class="variable"> <dt id="variable:CPACK_RPM_BUILD_SOURCE_DIRS_PREFIX">
<code>CPACK_RPM_BUILD_SOURCE_DIRS_PREFIX</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_BUILD_SOURCE_DIRS_PREFIX">
<code>CPACK_RPM_&lt;component&gt;_BUILD_SOURCE_DIRS_PREFIX</code> </dt> <dd>
<p>Prefix of location where sources will be placed during package installation.</p> <ul class="simple"> <li>Mandatory : YES if <a class="reference internal" href="#variable:CPACK_RPM_DEBUGINFO_PACKAGE" title="CPACK_RPM_DEBUGINFO_PACKAGE" id="index-1-variable:CPACK_RPM_DEBUGINFO_PACKAGE"><code>CPACK_RPM_DEBUGINFO_PACKAGE</code></a> is set</li> <li>
<dl class="first docutils"> <dt>
<code>Default : “/usr/src/debug/&lt;CPACK_PACKAGE_FILE_NAME&gt;” and</code> </dt> <dd>for component packaging “/usr/src/debug/&lt;CPACK_PACKAGE_FILE_NAME&gt;-&lt;component&gt;”</dd> </dl> </li> </ul> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Each source path prefix is additionally suffixed by <code>src_&lt;index&gt;</code> where index is index of the path used from <a class="reference internal" href="#variable:CPACK_BUILD_SOURCE_DIRS" title="CPACK_BUILD_SOURCE_DIRS" id="index-2-variable:CPACK_BUILD_SOURCE_DIRS"><code>CPACK_BUILD_SOURCE_DIRS</code></a> variable. This produces <code>&lt;CPACK_RPM_BUILD_SOURCE_DIRS_PREFIX&gt;/src_&lt;index&gt;</code> replacement path. Limitation is that replaced path part must be shorter or of equal length than the length of its replacement. If that is not the case either <a class="reference internal" href="#variable:CPACK_RPM_BUILD_SOURCE_DIRS_PREFIX" title="CPACK_RPM_BUILD_SOURCE_DIRS_PREFIX" id="index-0-variable:CPACK_RPM_BUILD_SOURCE_DIRS_PREFIX"><code>CPACK_RPM_BUILD_SOURCE_DIRS_PREFIX</code></a> variable has to be set to a shorter path or source directories must be placed on a longer path.</p> </div> <dl class="variable"> <dt id="variable:CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS">
<code>CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS</code> </dt> <dd>
<p>Directories containing sources that should be excluded from debuginfo packages.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : “/usr /usr/src /usr/src/debug”</li> </ul> <p>Listed paths are owned by other RPM packages and should therefore not be deleted on debuginfo package uninstallation.</p> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS_ADDITION">
<code>CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS_ADDITION</code> </dt> <dd>
<p>Paths that should be appended to <a class="reference internal" href="#variable:CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS" title="CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS" id="index-0-variable:CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS"><code>CPACK_RPM_DEBUGINFO_EXCLUDE_DIRS</code></a> for exclusion.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_DEBUGINFO_SINGLE_PACKAGE">
<code>CPACK_RPM_DEBUGINFO_SINGLE_PACKAGE</code> </dt> <dd>
<p>Create a single debuginfo package even if components packaging is set.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : OFF</li> </ul> <p>When this variable is enabled it produces a single debuginfo package even if component packaging is enabled.</p> <p>When using this feature in combination with components packaging and there is more than one component this variable requires <a class="reference internal" href="#variable:CPACK_RPM_MAIN_COMPONENT" title="CPACK_RPM_MAIN_COMPONENT" id="index-0-variable:CPACK_RPM_MAIN_COMPONENT"><code>CPACK_RPM_MAIN_COMPONENT</code></a> to be set.</p> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">If none of the <a class="reference internal" href="#variable:CPACK_RPM_&lt;component&gt;_DEBUGINFO_PACKAGE" title="CPACK_RPM_&lt;component&gt;_DEBUGINFO_PACKAGE" id="index-0-variable:CPACK_RPM_&lt;component&gt;_DEBUGINFO_PACKAGE"><code>CPACK_RPM_&lt;component&gt;_DEBUGINFO_PACKAGE</code></a> variables is set then <a class="reference internal" href="#variable:CPACK_RPM_DEBUGINFO_PACKAGE" title="CPACK_RPM_DEBUGINFO_PACKAGE" id="index-2-variable:CPACK_RPM_DEBUGINFO_PACKAGE"><code>CPACK_RPM_DEBUGINFO_PACKAGE</code></a> is automatically set to <code>ON</code> when <a class="reference internal" href="#variable:CPACK_RPM_DEBUGINFO_SINGLE_PACKAGE" title="CPACK_RPM_DEBUGINFO_SINGLE_PACKAGE" id="index-0-variable:CPACK_RPM_DEBUGINFO_SINGLE_PACKAGE"><code>CPACK_RPM_DEBUGINFO_SINGLE_PACKAGE</code></a> is set.</p> </div> <dl class="variable"> <dt id="variable:CPACK_RPM_DEBUGINFO_FILE_NAME">
<code>CPACK_RPM_DEBUGINFO_FILE_NAME</code> </dt> <dt id="variable:CPACK_RPM_&lt;component&gt;_DEBUGINFO_FILE_NAME">
<code>CPACK_RPM_&lt;component&gt;_DEBUGINFO_FILE_NAME</code> </dt> <dd>
<p>Debuginfo package file name.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : rpmbuild tool generated package file name</li> </ul> <p>Alternatively provided debuginfo package file name must end with <code>.rpm</code> suffix and should differ from file names of other generated packages.</p> <p>Variable may contain <code>@cpack_component@</code> placeholder which will be replaced by component name if component packaging is enabled otherwise it deletes the placeholder.</p> <p>Setting the variable to <code>RPM-DEFAULT</code> may be used to explicitly set filename generation to default.</p> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last"><a class="reference internal" href="#variable:CPACK_RPM_FILE_NAME" title="CPACK_RPM_FILE_NAME" id="index-0-variable:CPACK_RPM_FILE_NAME"><code>CPACK_RPM_FILE_NAME</code></a> also supports rpmbuild tool generated package file name - disabled by default but can be enabled by setting the variable to <code>RPM-DEFAULT</code>.</p> </div>   <h2 id="packaging-of-sources-srpm">Packaging of sources (SRPM)</h2> <p>SRPM packaging is enabled by setting <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_SOURCES" title="CPACK_RPM_PACKAGE_SOURCES" id="index-0-variable:CPACK_RPM_PACKAGE_SOURCES"><code>CPACK_RPM_PACKAGE_SOURCES</code></a> variable while usually using <a class="reference internal" href="../cpack/#variable:CPACK_INSTALLED_DIRECTORIES" title="CPACK_INSTALLED_DIRECTORIES" id="index-0-variable:CPACK_INSTALLED_DIRECTORIES"><code>CPACK_INSTALLED_DIRECTORIES</code></a> variable to provide directory containing CMakeLists.txt and source files.</p> <p>For CMake projects SRPM package would be produced by executing:</p> <pre data-language="none">cpack -G RPM --config ./CPackSourceConfig.cmake
</pre> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">Produced SRPM package is expected to be built with <a class="reference internal" href="../../manual/cmake.1/#manual:cmake(1)" title="cmake(1)" id="index-0-manual:cmake(1)"><code>cmake(1)</code></a> executable and packaged with <a class="reference internal" href="../../manual/cpack.1/#manual:cpack(1)" title="cpack(1)" id="index-0-manual:cpack(1)"><code>cpack(1)</code></a> executable so CMakeLists.txt has to be located in root source directory and must be able to generate binary rpm packages by executing <code>cpack -G</code> command. The two executables as well as rpmbuild must also be present when generating binary rpm packages from the produced SRPM package.</p> </div> <p>Once the SRPM package is generated it can be used to generate binary packages by creating a directory structure for rpm generation and executing rpmbuild tool:</p> <pre data-language="none">mkdir -p build_dir/{BUILD,BUILDROOT,RPMS,SOURCES,SPECS,SRPMS}
rpmbuild --define "_topdir &lt;path_to_build_dir&gt;" --rebuild &lt;SRPM_file_name&gt;
</pre> <p>Generated packages will be located in build_dir/RPMS directory or its sub directories.</p> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">SRPM package internally uses CPack/RPM generator to generate binary packages so CMakeScripts.txt can decide during the SRPM to binary rpm generation step what content the package(s) should have as well as how they should be packaged (monolithic or components). CMake can decide this for e.g. by reading environment variables set by the package manager before starting the process of generating binary rpm packages. This way a single SRPM package can be used to produce different binary rpm packages on different platforms depending on the platform’s packaging rules.</p> </div> <p>Source RPM packaging has it’s own set of variables:</p> <dl class="variable"> <dt id="variable:CPACK_RPM_PACKAGE_SOURCES">
<code>CPACK_RPM_PACKAGE_SOURCES</code> </dt> <dd>
<p>Should the content be packaged as a source rpm (default is binary rpm).</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : OFF</li> </ul> </dd>
</dl> <div class="admonition note"> <p class="first admonition-title">Note</p> <p class="last">For cmake projects <a class="reference internal" href="#variable:CPACK_RPM_PACKAGE_SOURCES" title="CPACK_RPM_PACKAGE_SOURCES" id="index-1-variable:CPACK_RPM_PACKAGE_SOURCES"><code>CPACK_RPM_PACKAGE_SOURCES</code></a> variable is set to <code>OFF</code> in CPackConfig.cmake and <code>ON</code> in CPackSourceConfig.cmake generated files.</p> </div> <dl class="variable"> <dt id="variable:CPACK_RPM_SOURCE_PKG_BUILD_PARAMS">
<code>CPACK_RPM_SOURCE_PKG_BUILD_PARAMS</code> </dt> <dd>
<p>Additional command-line parameters provided to <a class="reference internal" href="../../manual/cmake.1/#manual:cmake(1)" title="cmake(1)" id="index-1-manual:cmake(1)"><code>cmake(1)</code></a> executable.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_SOURCE_PKG_PACKAGING_INSTALL_PREFIX">
<code>CPACK_RPM_SOURCE_PKG_PACKAGING_INSTALL_PREFIX</code> </dt> <dd>
<p>Packaging install prefix that would be provided in <a class="reference internal" href="../../variable/cpack_packaging_install_prefix/#variable:CPACK_PACKAGING_INSTALL_PREFIX" title="CPACK_PACKAGING_INSTALL_PREFIX" id="index-2-variable:CPACK_PACKAGING_INSTALL_PREFIX"><code>CPACK_PACKAGING_INSTALL_PREFIX</code></a> variable for producing binary RPM packages.</p> <ul class="simple"> <li>Mandatory : YES</li> <li>Default : “/”</li> </ul> </dd>
</dl> <dl class="variable"> <dt id="variable:CPACK_RPM_BUILDREQUIRES">
<code>CPACK_RPM_BUILDREQUIRES</code> </dt> <dd>
<p>List of source rpm build dependencies.</p> <ul class="simple"> <li>Mandatory : NO</li> <li>Default : -</li> </ul> <p>May be used to set source RPM build dependencies (BuildRequires). Note that you must enclose the complete build requirements string between quotes, for example:</p> <pre data-language="none">set(CPACK_RPM_BUILDREQUIRES "python &gt;= 2.5.0, cmake &gt;= 2.8")
</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2000–2018 Kitware, Inc. and Contributors<br>Licensed under the BSD 3-clause License.<br>
    <a href="https://cmake.org/cmake/help/v3.12/module/CPackRPM.html" class="_attribution-link" target="_blank">https://cmake.org/cmake/help/v3.12/module/CPackRPM.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
