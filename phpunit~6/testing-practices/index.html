
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Testing Practices - PHPUnit 6 - W3cubDocs</title>
  
  <meta name="description" content="You can always write more tests. However, you will quickly find that only a fraction of the tests you can imagine are actually useful. What you want &hellip;">
  <meta name="keywords" content="testing, practices, -, phpunit, phpunit~6">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/phpunit~6/testing-practices/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/phpunit~6.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/phpunit~6/" class="_nav-link" title="" style="margin-left:0;">PHPUnit 6</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _phpunit">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 class="title" id="testing-practices">Testing Practices</h1>
<div class="blockquote"><table class="blockquote" summary="Block quote">
<tr>
<td width="10%"> </td>
<td width="80%"><p> You can always write more tests. However, you will quickly find that only a fraction of the tests you can imagine are actually useful. What you want is to write tests that fail even though you think they should work, or tests that succeed even though you think they should fail. Another way to think of it is in cost/benefit terms. You want to write tests that will pay you back with information. </p></td>
<td width="10%"> </td>
</tr>
<tr>
<td width="10%"> </td>
<td colspan="2" align="right">--<span class="attribution">Erich Gamma</span>
</td>
</tr>
</table></div>
<h2 class="title" id="testing-practices.during-development">During Development</h2>
<p id="idp441632">  When you need to make a change to the internal structure of the software you are working on to make it easier to understand and cheaper to modify without changing its observable behavior, a test suite is invaluable in applying these so called <a class="ulink" href="http://martinfowler.com/bliki/DefinitionOfRefactoring.html" target="_blank">refactorings</a> safely. Otherwise, you might not notice the system breaking while you are carrying out the restructuring. </p>
<p> The following conditions will help you to improve the code and design of your project, while using unit tests to verify that the refactoring's transformation steps are, indeed, behavior-preserving and do not introduce errors: </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p>All unit tests run correctly.</p></li>
<li class="listitem"><p>The code communicates its design principles.</p></li>
<li class="listitem"><p>The code contains no redundancies.</p></li>
<li class="listitem"><p>The code contains the minimal number of classes and methods.</p></li>
</ol></div>
<p> When you need to add new functionality to the system, write the tests first. Then, you will be done developing when the test runs. This practice will be discussed in detail in the next chapter. </p>
<h2 class="title" id="testing-practices.during-debugging">During Debugging</h2>
<p> When you get a defect report, your impulse might be to fix the defect as quickly as possible. Experience shows that this impulse will not serve you well; it is likely that the fix for the defect causes another defect. </p>
<p> You can hold your impulse in check by doing the following: </p>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem"><p> Verify that you can reproduce the defect. </p></li>
<li class="listitem"><p> Find the smallest-scale demonstration of the defect in the code. For example, if a number appears incorrectly in an output, find the object that is computing that number. </p></li>
<li class="listitem"><p> Write an automated test that fails now but will succeed when the defect is fixed. </p></li>
<li class="listitem"><p> Fix the defect. </p></li>
</ol></div>
<p> Finding the smallest reliable reproduction of the defect gives you the opportunity to really examine the cause of the defect. The test you write will improve the chances that when you fix the defect, you really fix it, because the new test reduces the likelihood of undoing the fix with future code changes. All the tests you wrote before reduce the likelihood of inadvertently causing a different problem. </p>
<div class="blockquote"><table class="blockquote" summary="Block quote">
<tr>
<td width="10%"> </td>
<td width="80%">
<p> Unit testing offers many advantages: </p>
<div class="itemizedlist"><ul class="itemizedlist">
<li class="listitem"><p>Testing gives code authors and reviewers confidence that patches produce the correct results.</p></li>
<li class="listitem"><p>Authoring testcases is a good impetus for developers to discover edge cases.</p></li>
<li class="listitem"><p>Testing provides a good way to catch regressions quickly, and to make sure that no regression will be repeated twice.</p></li>
<li class="listitem"><p>Unit tests provide working examples for how to use an API and can significantly aid documentation efforts.</p></li>
</ul></div>
<p> Overall, integrated unit testing makes the cost and risk of any individual change smaller. It will allow the project to make [...] major architectural improvements [...] quickly and confidently. </p>
</td>
<td width="10%"> </td>
</tr>
<tr>
<td width="10%"> </td>
<td colspan="2" align="right">--<span class="attribution">Benjamin Smedberg</span>
</td>
</tr>
</table></div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2017 Sebastian Bergmann<br>Licensed under the Creative Commons Attribution 3.0 Unported License.<br>
    <a href="https://phpunit.de/manual/6.5/en/testing-practices.html" class="_attribution-link" target="_blank">https://phpunit.de/manual/6.5/en/testing-practices.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
