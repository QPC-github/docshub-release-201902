
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>ufunc.reduceat() - NumPy 1.14 - W3cubDocs</title>
  
  <meta name="description" content=" Performs a (local) reduce with specified slices over a single axis. ">
  <meta name="keywords" content="numpy, ufunc, reduceat, -, numpy~1.14">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/numpy~1.14/generated/numpy.ufunc.reduceat/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/numpy~1.14.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/numpy~1.14/" class="_nav-link" title="" style="margin-left:0;">NumPy 1.14</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="numpy-ufunc-reduceat">numpy.ufunc.reduceat</h1> <dl class="method"> <dt id="numpy.ufunc.reduceat">
<code>ufunc.reduceat(a, indices, axis=0, dtype=None, out=None)</code> </dt> <dd>
<p>Performs a (local) reduce with specified slices over a single axis.</p> <p>For i in <code>range(len(indices))</code>, <a class="reference internal" href="#numpy.ufunc.reduceat" title="numpy.ufunc.reduceat"><code>reduceat</code></a> computes <code>ufunc.reduce(a[indices[i]:indices[i+1]])</code>, which becomes the i-th generalized “row” parallel to <code>axis</code> in the final result (i.e., in a 2-D array, for example, if <code>axis = 0</code>, it becomes the i-th row, but if <code>axis = 1</code>, it becomes the i-th column). There are three exceptions to this:</p> <ul class="simple"> <li>when <code>i = len(indices) - 1</code> (so for the last index), <code>indices[i+1] = a.shape[axis]</code>.</li> <li>if <code>indices[i] &gt;= indices[i + 1]</code>, the i-th generalized “row” is simply <code>a[indices[i]]</code>.</li> <li>if <code>indices[i] &gt;= len(a)</code> or <code>indices[i] &lt; 0</code>, an error is raised.</li> </ul> <p>The shape of the output depends on the size of <a class="reference internal" href="../numpy.indices/#numpy.indices" title="numpy.indices"><code>indices</code></a>, and may be larger than <code>a</code> (this happens if <code>len(indices) &gt; a.shape[axis]</code>).</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>a</strong> : array_like</p>  <p>The array to act on.</p>  <p><strong>indices</strong> : array_like</p>  <p>Paired indices, comma separated (not colon), specifying slices to reduce.</p>  <p><strong>axis</strong> : int, optional</p>  <p>The axis along which to apply the reduceat.</p>  <p><strong>dtype</strong> : data-type code, optional</p>  <p>The type used to represent the intermediate results. Defaults to the data type of the output array if this is provided, or the data type of the input array if no output array is provided.</p>  <p><strong>out</strong> : ndarray, None, or tuple of ndarray and None, optional</p>  <p>A location into which the result is stored. If not provided or <code>None</code>, a freshly-allocated array is returned. For consistency with <span class="xref std std-ref">ufunc.__call__</span>, if given as a keyword, this may be wrapped in a 1-element tuple.</p> <div class="versionchanged"> <p><span class="versionmodified">Changed in version 1.13.0: </span>Tuples are allowed for keyword argument.</p> </div>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>r</strong> : ndarray</p>  <p>The reduced values. If <code>out</code> was supplied, <code>r</code> is a reference to <code>out</code>.</p>  </td> </tr>  </table> <h4 class="rubric">Notes</h4> <p>A descriptive example:</p> <p>If <code>a</code> is 1-D, the function <code>ufunc.accumulate(a)</code> is the same as <code>ufunc.reduceat(a, indices)[::2]</code> where <a class="reference internal" href="../numpy.indices/#numpy.indices" title="numpy.indices"><code>indices</code></a> is <code>range(len(array) - 1)</code> with a zero placed in every other element: <code>indices = zeros(2 * len(a) - 1)</code>, <code>indices[1::2] = range(1, len(a))</code>.</p> <p>Don’t be fooled by this attribute’s name: <code>reduceat(a)</code> is not necessarily smaller than <code>a</code>.</p> <h4 class="rubric">Examples</h4> <p>To take the running sum of four successive values:</p> <pre data-language="python">&gt;&gt;&gt; np.add.reduceat(np.arange(8),[0,4, 1,5, 2,6, 3,7])[::2]
array([ 6, 10, 14, 18])
</pre> <p>A 2-D example:</p> <pre data-language="python">&gt;&gt;&gt; x = np.linspace(0, 15, 16).reshape(4,4)
&gt;&gt;&gt; x
array([[  0.,   1.,   2.,   3.],
       [  4.,   5.,   6.,   7.],
       [  8.,   9.,  10.,  11.],
       [ 12.,  13.,  14.,  15.]])
</pre> <pre data-language="python"># reduce such that the result has the following five rows:
# [row1 + row2 + row3]
# [row4]
# [row2]
# [row3]
# [row1 + row2 + row3 + row4]
</pre> <pre data-language="python">&gt;&gt;&gt; np.add.reduceat(x, [0, 3, 1, 2, 0])
array([[ 12.,  15.,  18.,  21.],
       [ 12.,  13.,  14.,  15.],
       [  4.,   5.,   6.,   7.],
       [  8.,   9.,  10.,  11.],
       [ 24.,  28.,  32.,  36.]])
</pre> <pre data-language="python"># reduce such that result has the following two columns:
# [col1 * col2 * col3, col4]
</pre> <pre data-language="python">&gt;&gt;&gt; np.multiply.reduceat(x, [0, 3], 1)
array([[    0.,     3.],
       [  120.,     7.],
       [  720.,    11.],
       [ 2184.,    15.]])
</pre> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2008–2017 NumPy Developers<br>Licensed under the NumPy License.<br>
    <a href="https://docs.scipy.org/doc/numpy-1.14.2/reference/generated/numpy.ufunc.reduceat.html" class="_attribution-link" target="_blank">https://docs.scipy.org/doc/numpy-1.14.2/reference/generated/numpy.ufunc.reduceat.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
