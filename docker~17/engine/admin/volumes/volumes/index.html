
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Volumes (Engine) - Docker 17 - W3cubDocs</title>
  
  <meta name="description" content="Volumes are the preferred mechanism for persisting data generated by and used by Docker containers. While bind mounts are dependent on the directory &hellip;">
  <meta name="keywords" content="use, volumes, engine, -, docker, docker~17">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/docker~17/engine/admin/volumes/volumes/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/docker~17.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/docker~17/" class="_nav-link" title="" style="margin-left:0;">Docker 17</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _simple">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1>Use volumes</h1>  <p>Volumes are the preferred mechanism for persisting data generated by and used by Docker containers. While <a href="../bind-mounts/">bind mounts</a> are dependent on the directory structure of the host machine, volumes are completely managed by Docker. Volumes have several advantages over bind mounts:</p> <ul> <li>Volumes are easier to back up or migrate than bind mounts.</li> <li>You can manage volumes using Docker CLI commands or the Docker API.</li> <li>Volumes work on both Linux and Windows containers.</li> <li>Volumes can be more safely shared among multiple containers.</li> <li>Volume drivers allow you to store volumes on remote hosts or cloud providers, to encrypt the contents of volumes, or to add other functionality.</li> <li>A new volume’s contents can be pre-populated by a container.</li> </ul> <p>In addition, volumes are often a better choice than persisting data in a container’s writable layer, because using a volume does not increase the size of containers using it, and the volume’s contents exist outside the lifecycle of a given container.</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfYAAAD/CAMAAAA0TQTyAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAFxUExUReDk5yVDVpKhqwAAABJ8tP+rQIKTn////wRKcIKluOHv9sTe7DCMvRuBt2qt0KfO42KOpk2dx4m+2uv1+SOFuvz9/mKozvH3+XKx0vj7/SNihMPHyrjX6Tg5OllZWfX5+xZ+tZKWlI2PkXy31lqkyzmSwb/c6xscHCmJuwYGBmNlZXFzdNnq84O72MvQ1ECWwp7J4VOgyamsrkiaxdrf4sfg7YmUeqzR5eXx9+Tc0uLp7WmNiZbF3Y7B3Hp9ftLm8c3j8KG8yglOc9Pb37u/w56rs7LU5+anTLO6v4aIijOOvy4uL6TM4U+IllRWV5mcna6ztyMjJOzPqUV5lfuzVUNFRd7t9DZujREREtLW2WV7iIqcqMagXcLT3WttbqeZazqEoqSnqZWzwxZXek1PUCuBqC5MXsfMzxd9sazE0PSpRVODndaiVJuXcSB+rXKZrunv8neQgridY4usvT1ZaXeLlp+io1RrenyhtdnUykyNsAOzBrsAABtySURBVHja7J37T9paHMBhPdnBQnmXAnYWx0NAkJdEQ3wAMjIf2XUhA3XBZLLMGJOridnN/vx7Hi1DfAEWKXC+P9ACbT2cT7/P8wVNkMkciolNAcPOZC6x37YrFwtMZk8uKld7yuPYpbuGhcnsSrVxIT3EftHR/y81mJ4ZQ26c10HEo3PRh126RreD7tgXmBc1jkiVlsVyLfVil1pjgM6wG02uOpbrHuxiYyzUGXajyXrHcvEX+914qDPsRhPxytKRNOxSZ0zBI8NuOGkQdSfYb8ak7Ay78aRiaWjYgxam7XMTz1erCsW+Pi5lZ9gNKC3LHsVeGVth6A+bZcPJteWKYr97Bty1WrDtOEfxBE42y4YTp6VCsS88A66kmoIgOvxxCT5zP1yzWTac3OBQ/vXYr545vcFm2XCygCOuYbFXg537al6Vnjn9hs3yLGDvVHDwj9199U6CUGl3rm+pv2CR/Oxir67fOluNtniNYnTxptVyXliC17DSaHQY9hnDbqoQucLY/6CkD8Fv31Yt7bZm6p87nWGfVuxSiQrG3japaVnDcic6qwz7fBj50hXZb6H9zhUsLXQY9jnDjh4vJOUPwz4H2Pf21CLMNa3cVZC1Z9hnHvudSFL1iqJG7lX4x9Jh2Gcde0dqBy1Vp3iHwroWqcagFP62XWXYZ7tc0yrBkgQriPMVlEoS5o/ieqm0wLDPFvZWUOut79CNky7FVVtO2nqNDnE+uTp3x2Z5OrG/rgOjwmZ5SrG/StpslucRe0nnIZc+vTOivK8pDHtPYKDvgMUzs0Hl12+GfWwR3Wez+ey9EeW72Vxi2DUh37/QUd6Zz0zGlDPzJ4ZdkwuoN/b3BsX+3vyOYdca6USGff6wByXIsM8d9sYtZNjnDXv1jwgZ9jnD3rm5HceAGXadsbecqjRaraAqDedosnDRhlBk2KcA+3QskDLsDDvDzrAz7Aw7w86wM+wMO8POsDPsDDvDPrXYz5d65JxhnxPsS088Wc9/XF58gdvxzz2GfaawH3/lThLcI9x3an/3l0/WGPZZwn568rVmWv+Bdy81tJen+I1EntiCxdO/Z63RI9YX19WT1xj2qcBeW03un/Zi3+F+0J38V447REq/kkQ7X0xr6JHLm74kuMQXk+kjMgcffn7guG8I+P4Jl1g1mVa/rSa+MexvLhJvrWfdfrvdheTAZvu38yL2/FIyuZQ87cH+M0G3eyeHtc9fDxH2xPLiOZdfX+aWkVLnj037iD7Bzq0u7nMfTcfcDnozb1pNHP5XGxR70FZw5ez29JF1k2EfTTyxbDiSsYVAvwRfxJ7Ecr7fg/3DCt3+g7V+n6uZVhD6GqKb54iRv8wvoycE+wky79yqKZn4kc+fnJtWucvBfXvw7yiFaCRc9zDsA0ug7Ej7MgJ4Sl7GvkSwn9/TduqnMViCegXZ9EUN+9ph4sM3DTu6H0wI+5fECpIkwm4aCTsVmz27y7C/KLtH/ofAvbYoMp1+t9vhiFlT382DafvqTg/2fe4fsv2vq+292JOJNaL6BPsHij2p3ihDYf/OF60xh8NtL3h79N4uBxj2J436Rrhwj7gtkt6wNvnA8CFdHlHfSdZ6sK+vJPZrxztoq/l2Fftn5MrXkonLvZ992I+5pdPTH4vDYe8J6ZTdejrTJR/ZGOv34zx1hyxNH3ZFDkd71dvlz5aVV0Ty+fOl1c/3srlFFJ9zKyR/5w5rf7GbvnHccm2FS+ys3MeOI3nupDYydorDYY93yctjmz4Zq8vWdGEXi+5CN24TMvYt2TOOKp3pdJGm35d9WTh+vr74WHlu8VKPck1526UasYMtaejZaToGOCgKXA63Z4qwB2S7ZthDuXQ9NUDT5ajYJ1iTV2Q/NWaCvzzkBNnBACYegNQU+XZlw6cx99oHdn4vYE/2LsUkjbMUk/LTz+oqDlW0EADP8xDyHqhY5Sa+jlzG0U4AvxKLERVPAVBET6FSlK2SwbErGxGNeTRdHKK1emoXXj1pGt5HBk/pHPQMCEFGxrt2TwE9xtEFrCCygeZPyEK4TebR3t0aGHtZs+1CLsvrWpw18nq7tEUDvEhz0FgtDIDb7UbYUUjojiCrGE+jm6eAsQuCH78iQwc6KOyW0SvbjnRhy7DYPVtq2B7314fPa6a6zSJwdEDiGP+AARgPqG+nWlwAwiaEdQACCDtAig59+BZAByHV2cK7xvXtVtWhZ9Llkc6f8u4aUSbZvNcxJPYYie9yUKWMsGM3LoOQhj2Gbo2UQbEHslTRQ77yqJeY/qYqa47EdqmhsDcJdnsPdqjtU+wwjdJgV8yA2KVt6tu86VesUcxCLx2JzwR3YAjs/IvYYdOPLus2GnZPmMalmaNXlahnooXS4yMpTOo12DeJkRdgFzvSKz8QAobC3qR5ayhSfOWFZqRzdoMo/NHL2D1PYd9G+xHs7Sl2Ra3ceAyE3eMn9VdvmH/1pWalYXozgmfE93wqI6JszR1+FHsoZMcJXEzD7s6kHUc5kDGOkVfcRNOjWT0WIGenT96BZ+Xg+djWEaLlmofY41m1XKNizxLFyqSMgl3MkkBu4CBzbrBD3oXd3sbzdlKWcXGWx3VMDy7BQhE/wSGdJ0ZXrUT6rlSsywNncGPHLpMChU23ZceZ+lYM1thBg+/7SSAAr5rFMWPnSY46SK4yl9hhCtcx7OJsYRe3iFOP8Dpe07jYf4/y46NkccUlzRL23QKJ5GK6XvSTUX9z9vKXeW+UeBdPUnTY+tWuy2VQ7AFcLQTCts6/V1Uym38b8Qemf/8yn41mEn2jcH+ljA37Lqm+2/X/ON91/An4YDCo38XOpNE+kGh/e+7jwr6FVT1THMeQL3X7hw/fAfhXt4tdjv6Jwm/OfTzYJVyCErIiNLbwKLM0xEDcb819LNjLNqzqTQgZ9kGNo57cU46JYCcGPhyADPvgsoHmrKCTdcyBCWAnEYpXhlMgZTBUJ9J4uT/W/6jwCtyUrQrKi4rdymtZbZAN8Dw9ZhPvK9ATi5EX+BDg+c03xq7gulyGnwbquOjhMsxg0oAupvaKA2z7cZRUj+F1jRw2oDFc7BbSYrdk48AWywrCZL3LL9IVnpesmN7YN3urjQVbvXs3hB/v6Qzbwgw7tZJYX+r92HGD7AF6dLnt5AtP5RDIuf0CCPdjF0I+tw+ADSjbcbvt1pti3433ri3YQDe4qNN2kAdiH7Sze+axQw8KhIXdPuwAecsmIL2TPhDBfttHBh7i+7CTTtoIfneQwq2+2IvCvZXEHuyeiB8aDnuMzqdhQg00e1HlPnYv3sQJ0yy6R0WB9NDCKNL8PuwKSQRdE8COqXut8DHsT8lEsTvAJP/6o+MB/vsv2Og8WskTV7dvzoes/H3sNjgp7Jh6vHelH2HPFmwu7LDo2oHLr2xnbAVyM4hozxXzM+w94u9z7w7qhAyN/QF1NNwCiAs4zlDHAgT6QpboOfB6QYZh7w3rMmhS+Geww4dGPj1Z7ClvP3U0XKEMA37gDWjYQRy94AMH6CYh8LMTnXg3AGljpZSb8XtVm4fYfWpIB5r4m65llCId9GMv4m9LvRX2ZvwBdTRc7KkUfIdq2HFiUcT7YVopKUwSe/hhpjxpiYWoLXwKe0oALpzA4YlFwNPpqNCPHc13zh1+G+wKyteF/g4+GyCN4JmuRQJk/KTpPwfC1JtNEDvyMw6DYcdVG6/naeywfEC+O4ktQhFny9FyP3baRPs22H2I+oNlVjWSd6FMXsPe1LC7aHrvniT2HEmLjSWBeI/fU0ivLNwkP9ykPoG79ZikHlvcQGZ+kxRnSVVEUo+XY543wb4NHlMcG7VXUbTRsPMa9gjV9vAksRcAKBoNOzwCbzAqfbBjj/RIOcZG4g9PCNmoB9jTBvDttv/ZO9ff1HEsgIfGWyQgdIEk0KW5UN7hDaULGrVpJdqqPFRgdqlor6Y7ldhe7Zfd+TD3jjR//doOtFBoCeAkTpujGQ2PoHH9s4/POT4+fj49RpM1D5fLpGAF7C5oxFeEZd0aLUcaFdAWFrGfAeCPBP2mWvKcekqcNqsOzFp1FGOHa6QnsHQ24ZOd0ZRzETvOJAKcaCZ2oCXteG/P6NKxPugTCfRj34Nklx7lisedB6IvhAz8vBfh9eKUygB+7awn4Fcub9c06nD4ZbSMDbfB7ToDunsYBLAHoIo3cfd0iwATXERpxI4cy7ZAO3bYSE/Eiti17buagL3B6T3dt8eOLJCUFamjxUmc7WwXtu8EF/aSz+oHrhfsDRce2Pgr6Cfvp+p45aqnJuP99uqKZMZoQe/pvj32Em37GZrlVUh+sgecAlzQmS89Fx3A2CeBJ/U1h8NjlUBimjQYETWUKFhHgrzOgaStscPJzgWsiR2uTt25vwQXfglBFRDIgJK/4MFrwCJ2wFX8IbR/WPC3sVFYAaVytzSnOrYU6OYkqMbus6g9h0NF86uTB9Sdzn20cRQHJQHbqgdLsaPRIOL9rzwq8+sGfBDXhyWn56ExH21QjB2aRVGLTnZnBsyD8qMZdoDmb1Itz+5Foccl2Mv44eT0kziouKCU0KghJW19Nwe3xZ6w7MruFF5Ha1xoVRfRFhGvqgG8obUEu3v6nfqJd1oOn6D1XdD35MaW2Btwst9aFHt+oWd9oBvhUCCRVw0qzdhLfiwErwM609c/2hL7Cfnc0wjnNwZ7asFt3wOVOv7sSFXy4isl71qOvaCH+dXW1WbaEvvRvDFMQurAIOzlhV3DfY4T8QJ9ihOXG9yzSefDjxaWYz8GUTzPiZ76K2gKIZqDPRB916ATK8JJyeOrO89FT1Itpp33Jj1HJygUcerDelNElcvivv09n6fkh3195QEen8+I+E9h0WoKAY7HGQ1tkCzE+RcH7hREvX4RcEuxQy3PhU78CaKYkJZ3UYq9+3540wMqOFE2HuUy6inDgyhAL9EurVed1Vh9+uCDPI+CZi7ixtHbgxIsmN7HUwXQ8M2HayI4NFMWl2MX4mppJtJavkwp9sT7F1F5AOd2BkuwL/fRCMk7Izx6eZ5B02wee3QPp+g0nrOt9JcS9rznxeWahtpcbndg8hFW3rfu44gziIOz+INJ/tLk28jx9HGSMcQEpdjb719KpGbOlkE06ETWsRuu27yAP/G8xo7+QoFTl1FjsAt0Jlk8yy1A5aNpxB6B7pvwLvayc+5Ez8TmzaMOn8funz5iGPY8PTUNlguv4+K+FfbzFdam6vbMYJ/sduAjPfPYu4Zjr+sc9t5a9Mzr3Qp7F7y//bCA/VT18s/Q+cwJ9oyKfc9w7AXqjsS8Ej0Pb2yFfVXDFrDjTU0U5ElOAt5o4r/CXjEIe2KhiABlsgdI7ukRxL7qVMkCdiEJEq79Kw6t+X7AHzvzRwvYQ6AUiBiwu5PZ4I5MQ+VMx4CNsdidefWSIJw+j19mEq+xH0c3LLa9ngT1NJSJyD7Ysp6wXtgrK7YL4l50vOPYq55/wdeUBU8TvpBqqbjilUoh4EbPnOIHJ4+kRJ+o/2GVY6D1gg0zTfkAjdh9JqQXkpIy/TvGOh7a+bTYQ+vedG+86Ni9nxZ7if5834R+jvtW2JdsZlhFIlG6Q7NaLGazsIf0P6Onl7jpt+ioxe4HRu2WEZfTpSezbewareGQRbEnKKxfYhXsBxbQlG/7xLc29s2wB6iPdL0leU1nnG3sy4X6uPY7y1OC+kaK+m0WbZ1UZU0Pzkt/sAanJVMZrrGEPbxUkkvy6KgTWoOzaD8jY0XqyCih/y6bqIYqoqZgRwbxuQWx16m6P+Dtsck76cQeoj0z6c2l/ZT6RlKbZoE997YFsWesoKS6tCZV4SIAFtTyZzqqT3JCbQqlquVFy2E/tcShfB+tCdNOHO6yXjULnyXCDfwbl2nRgB3FFE4tRh3ttdM/VG/1XIm2xg59IVSwx0pijR2kMr1HH6EIbcttulvD6xTpPeiMZM9yhek8NN4esDCdeD23uQjUnC1ZLDAP3TdOoL6V57oeyCWAHS6VUSttvxYs4b7p20oS9eQr5G6cN0LaFF4MtCgZXVtJAnueU3evG5YoTHhmid23Y6AW/qAYO8qgRTdQi69MeubicscsuQz/tqn2/MnYVu9eCMu9DT0NJiLYhSMA2pGD+Xtpf7t3mCpPO8FNdLxgeLOfLhdbsc/r622QuRDsFqr5hAfMXjsf/N3xdP991yz5/rvDcb+Jjr+GvzO0pfeOr4ut6OpcWIfQ9X/1abXd5xui+o6nJmOmQH7NDXT8juPe2HbuOnYWW5HUOdeP1GWf8Sl3nzDtvu+MuXLvuNzAjt9x7JqPPaV3xJsUdrQYqRIyqfu0TaOVdjwV2Ct6381ACnsZPEuZZuyhVXY8DdjR3REuK2Bv8C/Yo256sSOl5KYeu6h77goh7CKYEd5FLfa9lWmJpmIPJJBl5IoCcGYF7AdgTlAxdjqxH620kE3FLuId4Tj5uxn0wR7PzHNPUIo9v3qT2EzsV/imEN0vgSNo0jUO4j7uhbufTuzx1YumidjRZbmAb/gNSP4hhV21QLuh0oT7FY3YkUGXohe7aiAd8QZUXCCKHUnEfZKAKp/7H4XY6xpCnuZhv3qxjQTLYZ+q/D+1dF+xxzCxmGHYfRqyfE3DHnjxgfWv+qYP9pXd10tDkZgHtshI0vvdEi6Swn6mJaffNOwvPjDX+KjYY6wSi/WYuz6zErsUI4XdqyUKYhb2qxlH6Ej4sNjDeNLfqNiLWWn4iP8jZe9yOfiNkmWqQ2nYquVY6abK3MEH4IJQzfaH0gN8M75YH3sgquW8nknYZ1Q8MCCf21zsORZjrw0GrSxbZYbpVmtcU+RvTFPOFuVx7EG5y7LD3HWtgx74AX82UMbs6Isy6qyPPa7pULtJ2MX5wEfqo2LvSJIyxf6Dhcq+M2akARoMRVlhDtn+NzZbQ0s7C5X8IxwTTGcIf9ZjajJUDw/s2tg1RkHMwX71Ksx58lGxZ3O53hR7joUGHqRZTctDOADGHWY4gGjlUfZOxd6aPBBjoXJP36hqYk3sfm1VAlZgz7FYz1RZliT2WRXPid0PbNLNKnmFrYbDyGKvHQ7kMJzbfTjhGebbAySNsccmD+CfbYY9qDEKsgr7CLf8i0wU+7OKTxbchqSeU4H9mkWUm8wdA18eQrAducjUoIrPysw39N0Fi8y82jbY4WRvCwSwDwawKbXREDWgP+yMYYOUltKRfsA3aFVqZjudHGp6L9aJDdHfNc6uauaVcdOcJuxwqe5I6RgjdcbpEWSvsEO4qMvDofyFYQay1EK6FT2wOXatk30l9vQDXH96oxZswIV80xvC9t7Iw1ZHHihZNEKlkZKTkYMySGerN6MaHLKtFc38yhs3zc3FHo7h/MprZK49onmjKD9gD7Vyh3d45YTOWu1RUdBXRUWBC/qFovRq6s96VfWHa2GPa5zsq7FfsNfM8EsMYkdQi1A73cg1aJXG8IDsI8gKHJ3SCC5afeh9PMh3K5r5DwOnubnY35fxqEY4OIsyug+cRLAznYeiXEXYJRkamhD3TRqN1CrGHkNOCXqjRqEGY/TP+rlfnxC7MpB7pGPyXvUecSLYc+nWgMHYB9DODDfnsPdYqKF+PGNvyVX0gY19tTwq16S3Ys6B5kMmq7F/Y0cPGHtOhqtPszaHvYjMkfGoOcF+J3fSjI3dpI3XI+05iauxMxJcuhH2piRLEnQ4Z7HD+T0YyLHnrYYb9sHGbhL2LvSOXGTafQ3Xn/4hskkZbHW2oGaqws+KsaJqbEK7tIW8lEdVt7dUl8XGbjx25Lz5zWl3rSMxNnZzsEN7zrNvSruHafnaxm4O9hRYJxOVaLsPW0XGxm4K9ohnrTMmVJyBs7Fv3Z8hAPiAjf2TYUcqvu60sX8u7IHMmjU8bewfAXsCgEzAxv7JsJ+unZdmYyeLPfwVV+i5xG+Kk3o9ZN5dv9WfqejaZSFs7ESxXzyp5bj+UGOcDvLvlucv+AQbu4nYdx1/6Dbbvy70ZegX9H/k113Ybeyksffv+8Z1ZQKIsD//C0D03GljN9mk+/kv+sk/Z/c/KpB3k/kVbHIljI3dothr+Ix9yAs2usXGxm5N7E2Pmn4M//3TaWP/JNh/eSmj87cdK2D/vrRYpo19Lez1l2NFv240jS4NrjnbfHKEPzD28GXYAOz/mSmb9NeNsP/kcHw3tsD0U/BD++27+mM/ic4Uw/z3ZovmV6Pryfednxz73/+1Hfb/t3c/PW3DcBiAm8lezI3DEFMvbBqHadLGZbIE3g5tYelh0Q5MQhupErVKl4YkbQJibJ9+vyQt/YO0SQyaNHlfCVqn6cWP7ThuDW+XtwsP7zdX+rHe/3PxTa8Nu0UorjJW7Zj5X+zPl9XvN6WrR4piN6ViburuT/ENf4F9dvD2xcWyMX3qr7Cv/EEIyjl8S8YuaUinX76iGbfFuR0xKhF74DpGdjDg0kuirB2E9KLpc+WEnkoLUch57DEqLLCnS3MrefEbvuVjD0hZsTh0Iz/wHFtaxG64NATELCR9ahaeKdOzg9CiQ3RupBJ6U6CYxRPbMulhzp4tzT17fXCwv//81ccPnz/1ClkHAfu/2A1id6O01yeSZZM55jhewLnjSekwIx0N8vE8oSuCJHY7PVlRIeSGLU22MAO0yLlTguUvsN/5BG6FPWGKe24qacu84zLmefTE9UyKMW0L3Hc9lbPTVT1mDr1mB1EUL7F/LcmqJ9j/skqXsgcOS6hjG8RphVnvp94epIO8SQe5z2fsFoupiUzZQ+rpPGsq1ALAvmnsUcS8rMe7Do31hstMN5vSJemP5yrTvGUP6JruzNh9h4aCyLCZo1ywbxh7oJQMsxsxK1aS7sSMWMUBV9QQQhXwgEoJT9R0ymar2JAJPWS3b1Kp0KfTpKEssG8U++N+zQLsYEcKZV/PJ3BgL/N9O9jBDnawgx3sYK8A+88vh2l+vczzgKXrN9eHYC8le1fTrvIdTNPvEj1kqTzfRAb7yn17d7pVrbO0ce1hSmAv8XJNowb7DsAOdrCDHexgBzvYwQ52sG/iVtK6s3fXvHP0Tt4PtXfwXTf70VA7KZT9XBvuwnfd7PqJpl09LS7fNe0YvOtn3zkZakVm2IVuAew0znefFJfjCXCLYUfAjoAdATsCdgTsyGNlLC5n7DeojdpkW7Ry9pbYRm3UJqeil7P3RBO1UZfsDcQkZ9cHooH6qEd2euJMn7JvY05Xo0v7zYy9Iwa7qJBapNFuT2bs+gUmdTUZ40/FWL9lbwzSWT1S+WyJ5mTOro9Ee4RKqXz6ot3TF9j1G9He2kG9VDq7Y9Hu60vs1BBEc7SHuqkueqs5H9LnN+y9phCDi/EWUsWML9pCnHX0O+z6Xv9MINXNaWt+FV9enmuMLtExKpn+6GgJGhe9OuYPGYxcnsoucMgAAAAASUVORK5CYII=" alt="volumes on the Docker host"></p> <p>If your container generates non-persistent state data, consider using a <a href="../tmpfs/">tmpfs mount</a> to avoid storing the data anywhere permanently, and to increase the container’s performance by avoiding writing into the container’s writable layer.</p> <p>Volumes use <code class="highlighter-rouge">rprivate</code> bind propagation, and bind propagation is not configurable for volumes.</p> <h2 id="choosing-the--v-or-mount-flag">Choosing the -v or –mount flag</h2> <p>Originally, the <code class="highlighter-rouge">-v</code> or <code class="highlighter-rouge">--volume</code> flag was used for standalone containers and the <code class="highlighter-rouge">--mount</code> flag was used for swarm services. However, starting with Docker 17.06, you can also use <code class="highlighter-rouge">--mount</code> with standalone containers. In general, <code class="highlighter-rouge">--mount</code> is more explicit and verbose. The biggest difference is that the <code class="highlighter-rouge">-v</code> syntax combines all the options together in one field, while the <code class="highlighter-rouge">--mount</code> syntax separates them. Here is a comparison of the syntax for each flag.</p> <blockquote> <p><strong>Tip</strong>: New users should use the <code class="highlighter-rouge">--mount</code> syntax. Experienced users may be more familiar with the <code class="highlighter-rouge">-v</code> or <code class="highlighter-rouge">--volume</code> syntax, but are encouraged to use <code class="highlighter-rouge">--mount</code>, because research has shown it to be easier to use.</p> </blockquote> <p>If you need to specify volume driver options, you must use <code class="highlighter-rouge">--mount</code>.</p> <ul> <li>
<strong><code class="highlighter-rouge">-v</code> or <code class="highlighter-rouge">--volume</code></strong>: Consists of three fields, separated by colon characters (<code class="highlighter-rouge">:</code>). The fields must be in the correct order, and the meaning of each field is not immediately obvious. <ul> <li>In the case of named volumes, the first field is the name of the volume, and is unique on a given host machine. For anonymous volumes, the first field is omitted.</li> <li>The second field is the path where the file or directory will be mounted in the container.</li> <li>The third field is optional, and is a comma-separated list of options, such as <code class="highlighter-rouge">ro</code>. These options are discussed below.</li> </ul> </li> <li>
<strong><code class="highlighter-rouge">--mount</code></strong>: Consists of multiple key-value pairs, separated by commas and each consisting of a <code class="highlighter-rouge">&lt;key&gt;=&lt;value&gt;</code> tuple. The <code class="highlighter-rouge">--mount</code> syntax is more verbose than <code class="highlighter-rouge">-v</code> or <code class="highlighter-rouge">--volume</code>, but the order of the keys is not significant, and the value of the flag is easier to understand. <ul> <li>The <code class="highlighter-rouge">type</code> of the mount, which can be <a href="../bind-mounts-md/"><code class="highlighter-rouge">bind</code></a>, <code class="highlighter-rouge">volume</code>, or <a href="../tmpfs/"><code class="highlighter-rouge">tmpfs</code></a>. This topic discusses volumes, so the type will always be <code class="highlighter-rouge">volume</code>.</li> <li>The <code class="highlighter-rouge">source</code> of the mount. For named volumes, this is the name of the volume. For anonymous volumes, this field is omitted. May be specified as <code class="highlighter-rouge">source</code> or <code class="highlighter-rouge">src</code>.</li> <li>The <code class="highlighter-rouge">destination</code> takes as its value the path where the file or directory will be mounted in the container. May be specified as <code class="highlighter-rouge">destination</code>, <code class="highlighter-rouge">dst</code>, or <code class="highlighter-rouge">target</code>.</li> <li>The <code class="highlighter-rouge">readonly</code> option, if present, causes the bind mount to be <a href="#use-a-read-only-bind-mount">mounted into the container as read-only</a>.</li> <li>The <code class="highlighter-rouge">volume-opt</code> option, which can be specified more than once, takes a key-value pair consisting of the option name and its value.</li> </ul> </li> </ul> <p>The examples below show both the <code class="highlighter-rouge">--mount</code> and <code class="highlighter-rouge">-v</code> syntax where possible, and <code class="highlighter-rouge">--mount</code> is presented first.</p> <h3 id="differences-between--v-and---mount-behavior">Differences between <code class="highlighter-rouge">-v</code> and <code class="highlighter-rouge">--mount</code> behavior</h3> <p>As opposed to bind mounts, all options for volumes are available for both <code class="highlighter-rouge">--mount</code> and <code class="highlighter-rouge">-v</code> flags.</p> <p>When using volumes with services, only <code class="highlighter-rouge">--mount</code> is supported.</p> <h2 id="create-and-manage-volumes">Create and manage volumes</h2> <p>Unlike a bind mount, you can create and manage volumes outside the scope of any container.</p> <p><strong>Create a volume</strong>:</p> <pre class="highlight" data-language="bash">$ docker volume create my-vol
</pre>  <p><strong>List volumes</strong>:</p> <pre class="highlight" data-language="bash">$ docker volume ls

local               my-vol
</pre>  <p><strong>Inspect a volume</strong>:</p> <pre class="highlight" data-language="bash">$ docker volume inspect my-vol
[
    {
        "Driver": "local",
        "Labels": {},
        "Mountpoint": "/var/lib/docker/volumes/my-vol/_data",
        "Name": "my-vol",
        "Options": {},
        "Scope": "local"
    }
]
</pre>  <p><strong>Remove a volume</strong>:</p> <pre class="highlight" data-language="bash">$ docker volume rm my-vol
</pre>  <h2 id="start-a-container-with-a-volume">Start a container with a volume</h2> <p>If you start a container with a volume that does not yet exist, Docker creates the volume for you. The following example mounts the volume <code class="highlighter-rouge">myvol2</code> into <code class="highlighter-rouge">/app/</code> in the container.</p> <p>The <code class="highlighter-rouge">-v</code> and <code class="highlighter-rouge">--mount</code> examples below produce the same result. You can’t run them both unless you remove the <code class="highlighter-rouge">devtest</code> container and the <code class="highlighter-rouge">myvol2</code> volume after running the first one.</p> <ul class="nav nav-tabs"> <li class="active"><a data-toggle="tab" data-group="mount" data-target="#mount-run"><code>--mount</code></a></li> <li><a data-toggle="tab" data-group="volume" data-target="#v-run"><code>-v</code></a></li> </ul> <div class="tab-content"> <div id="mount-run" class="tab-pane fade in active"> <pre class="highlight" data-language="bash">$ docker run -d \
  -it \
  --name devtest \
  --mount source=myvol2,target=/app \
  nginx:latest
</pre>  </div>  <div id="v-run" class="tab-pane fade"> <pre class="highlight" data-language="bash">$ docker run -d \
  -it \
  --name devtest \
  -v myvol2:/app \
  nginx:latest
</pre>  </div>  </div>  <p>Use <code class="highlighter-rouge">docker inspect devtest</code> to verify that the volume was created and mounted correctly. Look for the <code class="highlighter-rouge">Mounts</code> section:</p> <pre class="highlight" data-language="json">"Mounts": [
    {
        "Type": "volume",
        "Name": "myvol2",
        "Source": "/var/lib/docker/volumes/myvol2/_data",
        "Destination": "/app",
        "Driver": "local",
        "Mode": "",
        "RW": true,
        "Propagation": ""
    }
],
</pre>  <p>This shows that the mount is a volume, it shows the correct source and destination, and that the mount is read-write.</p> <p>Stop the container and remove the volume.</p> <pre class="highlight" data-language="bash">$ docker container stop devtest

$ docker container rm devtest

$ docker volume rm myvol2
</pre>  <h3 id="start-a-service-with-volumes">Start a service with volumes</h3> <p>When you start a service and define a volume, each service container will use its own local volume. None of the containers can share this data if you use the <code class="highlighter-rouge">local</code> volume driver, but some volume drivers do support shared storage. Docker for AWS and Docker for Azure both support persistent storage using the Cloudstor plugin.</p> <p>The following example starts a <code class="highlighter-rouge">nginx</code> service with four replicas, each of which uses a local volume called <code class="highlighter-rouge">myvol2</code>.</p> <pre class="highlight" data-language="bash">$ docker service create -d \
  --name devtest-service \
  --mount source=myvol2,target=/app \
  nginx:latest
</pre>  <p>Use <code class="highlighter-rouge">docker service ps devtest-service</code> to verify that the service is running:</p> <pre class="highlight" data-language="bash">$ docker service ps devtest-service

ID                  NAME                IMAGE               NODE                DESIRED STATE       CURRENT STATE            ERROR               PORTS
4d7oz1j85wwn        devtest-service.1   nginx:latest        moby                Running             Running 14 seconds ago   
</pre>  <p>Remove the service, which stops all its tasks:</p> <pre class="highlight" data-language="bash">$ docker service rm devtest-service
</pre>  <h4 id="syntax-differences-for-services">Syntax differences for services</h4> <p>The <code class="highlighter-rouge">docker service create</code> command does not support the <code class="highlighter-rouge">-v</code> or <code class="highlighter-rouge">--volume</code> flag. When mounting a volume into a service’s containers, you must use the <code class="highlighter-rouge">--mount</code> flag.</p> <h3 id="populating-a-volume-using-a-container">Populating a volume using a container</h3> <p>If you start a container which creates a new volume, as above, and the container has files or directories in the directory to be mounted (such as <code class="highlighter-rouge">/app/</code> above), the directory’s contents will be copied into the volume. The container will then mount and use the volume, and other containers which use the volume will also have access to the pre-populated content.</p> <p>To illustrate this, this example starts an <code class="highlighter-rouge">nginx</code> container and populates the new volume <code class="highlighter-rouge">nginx-vol</code> with the contents of the container’s <code class="highlighter-rouge">/usr/share/nginx/html</code> directory, which is where Nginx stores its default HTML content.</p> <p>The <code class="highlighter-rouge">--mount</code> and <code class="highlighter-rouge">-v</code> examples have the same end result.</p> <ul class="nav nav-tabs"> <li class="active"><a data-toggle="tab" data-group="mount" data-target="#mount-empty-run"><code>--mount</code></a></li> <li><a data-toggle="tab" data-group="volume" data-target="#v-empty-run"><code>-v</code></a></li> </ul> <div class="tab-content"> <div id="mount-empty-run" class="tab-pane fade in active"> <pre class="highlight" data-language="bash">$ docker run -d \
  -it \
  --name=nginxtest \
  --mount source=nginx-vol,destination=/usr/share/nginx/html \
  nginx:latest
</pre>  </div>  <div id="v-empty-run" class="tab-pane fade"> <pre class="highlight" data-language="bash">$ docker run -d \
  -it \
  --name=nginxtest \
  -v nginx-vol:/usr/share/nginx/html \
  nginx:latest
</pre>  </div>  </div>  <p>After running either of these examples, run the following commands to clean up the containers and volumes.</p> <pre class="highlight" data-language="bash">$ docker container stop nginxtest

$ docker container rm nginxtest

$ docker volume rm nginx-vol
</pre>  <h2 id="use-a-read-only-volume">Use a read-only volume</h2> <p>For some development applications, it is useful for the container to be able to write into the bind mount, in order for changes to be propagated back to the Docker host. At other times, the container should only be able to read the data and not modify it. Remember that multiple containers can mount the same volume, and it can be mounted read-write for some of them and read-only for others, simultaneously.</p> <p>This example modifies the one above but mounts the directory as a read-only volume, by adding <code class="highlighter-rouge">ro</code> to the (empty by default) list of options, after the mount point within the container. Where multiple options are present, separate them by commas.</p> <p>The <code class="highlighter-rouge">--mount</code> and <code class="highlighter-rouge">-v</code> examples have the same result.</p> <ul class="nav nav-tabs"> <li class="active"><a data-toggle="tab" data-group="mount" data-target="#mount-readonly"><code>--mount</code></a></li> <li><a data-toggle="tab" data-group="volume" data-target="#v-readonly"><code>-v</code></a></li> </ul> <div class="tab-content"> <div id="mount-readonly" class="tab-pane fade in active"> <pre class="highlight" data-language="bash">$ docker run -d \
  -it \
  --name=nginxtest \
  --mount source=nginx-vol,destination=/usr/share/nginx/html,readonly \
  nginx:latest
</pre>  </div>  <div id="v-readonly" class="tab-pane fade"> <pre class="highlight" data-language="bash">$ docker run -d \
  -it \
  --name=nginxtest \
  -v nginx-vol:/usr/share/nginx/html:ro \
  nginx:latest
</pre>  </div>  </div>  <p>Use <code class="highlighter-rouge">docker inspect nginxtest</code> to verify that the bind mount was created correctly. Look for the <code class="highlighter-rouge">Mounts</code> section:</p> <pre class="highlight" data-language="json">"Mounts": [
    {
        "Type": "volume",
        "Name": "nginx-vol",
        "Source": "/var/lib/docker/volumes/nginx-vol/_data",
        "Destination": "/usr/share/nginx/html",
        "Driver": "local",
        "Mode": "",
        "RW": false,
        "Propagation": ""
    }
],
</pre>  <p>Stop and remove the container, and remove the volume:</p> <pre class="highlight" data-language="bash">$ docker container stop nginxtest

$ docker container rm nginxtest

$ docker volume rm nginx-vol
</pre>  <h2 id="use-a-volume-driver">Use a volume driver</h2> <p>When you create a volume using <code class="highlighter-rouge">docker volume create</code>, or when you start a container which uses a not-yet-created volume, you can specify a volume driver. The following examples use the <code class="highlighter-rouge">vieux/sshfs</code> volume driver, first when creating a standalone volume, and then when starting a container which will create a new volume.</p> <h3 id="initial-set-up">Initial set-up</h3> <p>This example assumes that you have two nodes, the first of which is a Docker host and can connect to the second using SSH.</p> <p>On the Docker host, install the <code class="highlighter-rouge">vieux/sshfs</code> plugin:</p> <pre class="highlight" data-language="bash">$ docker plugin install --grant-all-permissions vieux/sshfs
</pre>  <h3 id="create-a-volume-using-a-volume-driver">Create a volume using a volume driver</h3> <p>This example specifies a SSH password, but if the two hosts have shared keys configured, you can omit the password. Each volume driver may have zero or more configurable options, each of which is specified using an <code class="highlighter-rouge">-o</code> flag.</p> <pre class="highlight" data-language="bash">$ docker volume create --driver vieux/sshfs \
  -o sshcmd=test@node2:/home/test \
  -o password=testpassword \
  sshvolume
</pre>  <h3 id="start-a-container-which-creates-a-volume-using-a-volume-driver">Start a container which creates a volume using a volume driver</h3> <p>This example specifies a SSH password, but if the two hosts have shared keys configured, you can omit the password. Each volume driver may have zero or more configurable options. <strong>If the volume driver requires you to pass options, you must use the <code class="highlighter-rouge">--mount</code> flag to mount the volume, rather than <code class="highlighter-rouge">-v</code>.</strong></p> <pre class="highlight" data-language="bash">$ docker run -d \
  --it \
  --name sshfs-container \
  --volume-driver vieux/sshfs \
  --mount src=sshvolume,target=/app,volume-opt=sshcmd=test@node2:/home/test,volume-opt=password=testpassword \
  nginx:latest
</pre>  <h2 id="next-steps">Next steps</h2> <ul> <li>Learn about <a href="../bind-mounts/">bind mounts</a>.</li> <li>Learn about <a href="../tmpfs/">tmpfs mounts</a>.</li> <li>Learn about <a href="../../../userguide/storagedriver/">storage drivers</a>.</li> </ul>  
<p><a href="https://docs.docker.com/glossary/?term=storage" target="_blank">storage</a>, <a href="https://docs.docker.com/glossary/?term=persistence" target="_blank">persistence</a>, <a href="https://docs.docker.com/glossary/?term=data%20persistence" target="_blank">data persistence</a>, <a href="https://docs.docker.com/glossary/?term=volumes" target="_blank">volumes</a></p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2017 Docker, Inc.<br>Licensed under the Apache License, Version 2.0.<br>Docker and the Docker logo are trademarks or registered trademarks of Docker, Inc. in the United States and/or other countries.<br>Docker, Inc. and other parties may also have trademark rights in other terms used herein.<br>
    <a href="https://docs.docker.com/engine/admin/volumes/volumes/" class="_attribution-link" target="_blank">https://docs.docker.com/engine/admin/volumes/volumes/</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
