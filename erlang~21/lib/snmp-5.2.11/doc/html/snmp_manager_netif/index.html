
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>13. Definition of Manager Net if - Erlang 21 - W3cubDocs</title>
  
  <meta name="description" content=" Figure 13.1&#58; The Purpose of Manager Net if ">
  <meta name="keywords" content="definition, manager, net, if, -, erlang, erlang~21">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/erlang~21/lib/snmp-5.2.11/doc/html/snmp_manager_netif/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/erlang~21.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~21/" class="_nav-link" title="" style="margin-left:0;">Erlang 21</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _erlang">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1>13 Definition of Manager Net if</h1>  <div class="doc-image-wrapper">  <p class="doc-image-caption">Figure 13.1: The Purpose of Manager Net if</p> </div> <p>The Network Interface (Net if) process delivers SNMP PDUs to the manager server, and receives SNMP PDUs from the manager server. The most common behaviour of a Net if process is that is receives request PDU from the manager server, encodes the PDU into bytes and transmits the bytes onto the network to an agent. When the reply from the agent is received by the Net if process, which it decodes into an SNMP PDU, which it sends to the manager server. </p> <p>However, that simple behaviour can be modified in numerous ways. For example, the Net if process can apply some kind of encrypting/decrypting scheme on the bytes. </p> <p>The snmp application provides two different modules, <code class="code">snmpm_net_if</code> (the default) and <code class="code">snmpm_net_if_mt</code>, both uses UDP as the transport protocol i.e the transport domains <code class="code">transportDomainUdpIpv4</code> and/or <code class="code">transportDomainUdpIpv6</code>. The difference between the two modules is that the latter is "multi-threaded", i.e. for each message/request a new process is created that processes the message/request and then exits. </p> <p>It is also possible to write your own Net if process and this section describes how to do that.</p> <h2> <span onmouseover="document.getElementById('ghlink-mandatory-functions-id90191').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-mandatory-functions-id90191').style.visibility = 'hidden';" id="mandatory_functions">13.1 Mandatory Functions</span> </h2> <p>A Net if process must implement the SNMP manager <code><a href="../snmpm_network_interface/">network interface behaviour</a></code>. </p> <h2><span onmouseover="document.getElementById('ghlink-messages-id90216').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-messages-id90216').style.visibility = 'hidden';" id="messages">13.2 Messages</span></h2> <p>The section <strong>Messages</strong> describes mandatory messages, which Net if must send to the manager server process. </p> <p>In this section a <code class="code">Domain</code> field is the transport domain i.e one of <code class="code">transportDomainUdpIpv4</code> or <code class="code">transportDomainUdpIpv6</code>, and an <code class="code">Addr</code> field is an <code class="code">{</code><code><span class="code">IpAddr</span></code><code class="code">,IpPort}</code> tuple.</p> <p>Net if must send the following message when it receives an SNMP PDU from the network that is aimed for the MasterAgent: </p> <pre data-language="erlang">
Server ! {snmp_pdu, Pdu, Domain, Addr}
    </pre> <ul> <li> <p><code class="code">Pdu</code> is an SNMP PDU record, as defined in <code class="code">snmp_types.hrl</code>, with the SNMP request.</p> </li> <li> <p><code class="code">Domain</code> is the source transport domain. </p> </li> <li> <p><code class="code">Addr</code> is the source address. </p> </li> </ul> <pre data-language="erlang">
Server ! {snmp_trap, Trap, Domain, Addr}
    </pre> <ul> <li> <p><code class="code">Trap</code> is either an SNMP pdu record or an trappdu record, as defined in <code class="code">snmp_types.hrl</code>, with the SNMP request.</p> </li> <li> <p><code class="code">Domain</code> is the source transport domain. </p> </li> <li> <p><code class="code">Addr</code> is the source address. </p> </li> </ul> <pre data-language="erlang">
Server ! {snmp_inform, Ref, Pdu, PduMS, Domain, Addr}
    </pre> <ul> <li> <p><code class="code">Ref</code> is either the atom <code class="code">ignore</code> or something that can be used to identify the inform-request (e.g. request-id). <code class="code">ignore</code> is used if the response (acknowledgment) to the inform-request has already been sent (this means that the server will not make the call to the <code><a href="../snmpm_network_interface/#inform_response">inform_response</a></code> function). See the <code><span>inform request behaviour</span></code> configuration option for more info.</p> </li> <li> <p><code class="code">Pdu</code> is an SNMP PDU record, as defined in <code class="code">snmp_types.hrl</code>, with the SNMP request.</p> </li> <li> <p><code class="code">Domain</code> is the source transport domain. </p> </li> <li> <p><code class="code">Addr</code> is the source address. </p> </li> </ul> <pre data-language="erlang">
Server ! {snmp_report, Data, Domain, Addr}
    </pre> <ul> <li> <p><code class="code">Data</code> is either <code class="code">{ok, Pdu}</code> or <code class="code">{error, ReqId, ReasonInfo, Pdu}</code>. Which one is used depends on the return value from the MPD <code><a href="../snmpm_mpd/#process_msg">process_msg</a></code> function. If the MsgData is <code class="code">ok</code>, the first is used, and if it is <code class="code">{error, ReqId, Reason}</code> the latter is used.</p> </li> <li> <p><code class="code">Pdu</code> is an SNMP PDU record, as defined in <code class="code">snmp_types.hrl</code>, with the SNMP request.</p> </li> <li> <p><code class="code">ReqId</code> is an integer.</p> </li> <li> <p><code class="code">ReasonInfo</code> is a term().</p> </li> <li> <p><code class="code">Domain</code> is the source transport domain. </p> </li> <li> <p><code class="code">Addr</code> is the source address. </p> </li> </ul> <h4><span onmouseover="document.getElementById('ghlink-notes-id90529').style.visibility = 'visible';" onmouseout="document.getElementById('ghlink-notes-id90529').style.visibility = 'hidden';" id="notes">Notes</span></h4> <p>Since the Net if process is responsible for encoding and decoding of SNMP messages, it must also update the relevant counters in the SNMP group in MIB-II. It can use the functions in the module <code class="code">snmpm_mpd</code> for this purpose (refer to the Reference Manual, section <code class="code">snmp</code>, module <code class="code">snmpm_mpd</code> for more details). </p> <p>There are also some useful functions for encoding and decoding of SNMP messages in the module <code class="code">snmp_pdus</code>. </p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
