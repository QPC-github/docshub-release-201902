
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Ansible-vault - Ansible 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" encryption&#47;decryption utility for Ansible data files ">
  <meta name="keywords" content="ansible-vault, -, ansible, ansible~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible~2.7/cli/ansible-vault/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/ansible~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.7/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="id1">ansible-vault</h1> <p id="ansible-vault"><strong>encryption/decryption utility for Ansible data files</strong></p>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id2">Synopsis</a></li> <li><a class="reference internal" href="#description" id="id3">Description</a></li> <li><a class="reference internal" href="#common-options" id="id4">Common Options</a></li> <li>
<a class="reference internal" href="#actions" id="id5">Actions</a><ul> <li><a class="reference internal" href="#encrypt" id="id6">encrypt</a></li> <li><a class="reference internal" href="#rekey" id="id7">rekey</a></li> <li><a class="reference internal" href="#encrypt-string" id="id8">encrypt_string</a></li> <li><a class="reference internal" href="#edit" id="id9">edit</a></li> <li><a class="reference internal" href="#create" id="id10">create</a></li> <li><a class="reference internal" href="#decrypt" id="id11">decrypt</a></li> <li><a class="reference internal" href="#view" id="id12">view</a></li> </ul> </li> <li><a class="reference internal" href="#environment" id="id13">Environment</a></li> <li><a class="reference internal" href="#files" id="id14">Files</a></li> <li><a class="reference internal" href="#author" id="id15">Author</a></li> <li><a class="reference internal" href="#copyright" id="id16">Copyright</a></li> <li><a class="reference internal" href="#see-also" id="id17">See also</a></li> </ul>   <h2 id="synopsis">Synopsis</h2> <pre data-language="bash">ansible-vault [create|decrypt|edit|encrypt|encrypt_string|rekey|view] [options] [vaultfile.yml]
</pre>   <h2 id="description">Description</h2> <p>can encrypt any structured data file used by Ansible. This can include <em>group_vars/</em> or <em>host_vars/</em> inventory variables, variables loaded by <em>include_vars</em> or <em>vars_files</em>, or variable files passed on the ansible-playbook command line with <em>-e @file.yml</em> or <em>-e @file.json</em>. Role variables and defaults are also included!</p> <p>Because Ansible tasks, handlers, and other objects are data, these can also be encrypted with vault. If you’d like to not expose what variables you are using, you can keep an individual task file entirely encrypted.</p> <p>The password used with vault currently must be the same for all files you wish to use together at the same time.</p>   <h2 id="common-options">Common Options</h2> <dl class="option"> <dt id="cmdoption-ansible-vault-ask-vault-pass">
<code>--ask-vault-pass</code> </dt> <dd>
<p>ask for vault password</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-new-vault-id">
<code>--new-vault-id &lt;NEW_VAULT_ID&gt;</code> </dt> <dd>
<p>the new vault identity to use for rekey</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-new-vault-password-file">
<code>--new-vault-password-file</code> </dt> <dd>
<p>new vault password file for rekey</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-vault-id">
<code>--vault-id</code> </dt> <dd>
<p>the vault identity to use</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-vault-password-file">
<code>--vault-password-file</code> </dt> <dd>
<p>vault password file</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-version">
<code>--version</code> </dt> <dd>
<p>show program’s version number and exit</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-h">
<code>-h, --help</code> </dt> <dd>
<p>show this help message and exit</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-v">
<code>-v, --verbose</code> </dt> <dd>
<p>verbose mode (-vvv for more, -vvvv to enable connection debugging)</p> </dd>
</dl>   <h2 id="actions">Actions</h2>  <h3 id="ansible-vault-encrypt">encrypt</h3> <p id="encrypt">encrypt the supplied file using the provided vault secret</p> <dl class="option"> <dt id="cmdoption-ansible-vault-encrypt-encrypt-vault-id">
<code>--encrypt-vault-id  &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than vault-id is provided)</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-encrypt-output">
<code>--output</code> </dt> <dd>
<p>output file name for encrypt or decrypt; use - for stdout</p> </dd>
</dl>   <h3 id="ansible-vault-rekey">rekey</h3> <p id="rekey">re-encrypt a vaulted file with a new secret, the previous secret is required</p> <dl class="option"> <dt id="cmdoption-ansible-vault-rekey-encrypt-vault-id">
<code>--encrypt-vault-id  &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than vault-id is provided)</p> </dd>
</dl>   <h3 id="ansible-vault-encrypt-string">encrypt_string</h3> <p id="encrypt-string">encrypt the supplied string using the provided vault secret</p> <dl class="option"> <dt id="cmdoption-ansible-vault-encrypt-string-encrypt-vault-id">
<code>--encrypt-vault-id  &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than vault-id is provided)</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-encrypt-string-output">
<code>--output</code> </dt> <dd>
<p>output file name for encrypt or decrypt; use - for stdout</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-encrypt-string-stdin-name">
<code>--stdin-name  &lt;ENCRYPT_STRING_STDIN_NAME&gt;</code> </dt> <dd>
<p>Specify the variable name for stdin</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-encrypt-string-n">
<code>-n, --name</code> </dt> <dd>
<p>Specify the variable name</p> </dd>
</dl> <dl class="option"> <dt id="cmdoption-ansible-vault-encrypt-string-p">
<code>-p, --prompt</code> </dt> <dd>
<p>Prompt for the string to encrypt</p> </dd>
</dl>   <h3 id="ansible-vault-edit">edit</h3> <p id="edit">open and decrypt an existing vaulted file in an editor, that will be encryped again when closed</p> <dl class="option"> <dt id="cmdoption-ansible-vault-edit-encrypt-vault-id">
<code>--encrypt-vault-id  &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than vault-id is provided)</p> </dd>
</dl>   <h3 id="ansible-vault-create">create</h3> <p id="create">create and open a file in an editor that will be encryped with the provided vault secret when closed</p> <dl class="option"> <dt id="cmdoption-ansible-vault-create-encrypt-vault-id">
<code>--encrypt-vault-id  &lt;ENCRYPT_VAULT_ID&gt;</code> </dt> <dd>
<p>the vault id used to encrypt (required if more than vault-id is provided)</p> </dd>
</dl>   <h3 id="ansible-vault-decrypt">decrypt</h3> <p id="decrypt">decrypt the supplied file using the provided vault secret</p> <dl class="option"> <dt id="cmdoption-ansible-vault-decrypt-output">
<code>--output</code> </dt> <dd>
<p>output file name for encrypt or decrypt; use - for stdout</p> </dd>
</dl>   <h3 id="ansible-vault-view">view</h3> <p id="view">open, decrypt and view an existing vaulted file using a pager using the supplied vault secret</p>    <h2 id="environment">Environment</h2> <p>The following environment variables may be specified.</p> <p><a class="reference internal" href="../../reference_appendices/config/#envvar-ANSIBLE_CONFIG" id="index-0"><code>ANSIBLE_CONFIG</code></a> – Override the default ansible config file</p> <p>Many more are available for most options in ansible.cfg</p>   <h2 id="files">Files</h2> <p><code>/etc/ansible/ansible.cfg</code> – Config file, used if present</p> <p><code>~/.ansible.cfg</code> – User config file, overrides the default config if present</p>   <h2 id="author">Author</h2> <p>Ansible was originally written by Michael DeHaan.</p> <p>See the <code>AUTHORS</code> file for a complete list of contributors.</p>   <h2 id="copyright">Copyright</h2> <p>Copyright © 2017 Red Hat, Inc | Ansible.</p> <p>Ansible is released under the terms of the GPLv3 License.</p>   <h2 id="see-also">See also</h2> <p><em class="manpage">ansible(1)</em>, <em class="manpage">ansible-config(1)</em>, <em class="manpage">ansible-console(1)</em>, <em class="manpage">ansible-doc(1)</em>, <em class="manpage">ansible-galaxy(1)</em>, <em class="manpage">ansible-inventory(1)</em>, <em class="manpage">ansible-playbook(1)</em>, <em class="manpage">ansible-pull(1)</em>, <em class="manpage">ansible-vault(1)</em>,</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.7/cli/ansible-vault.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.7/cli/ansible-vault.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
