
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Rax_files_objects - Ansible 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 1.5. ">
  <meta name="keywords" content="rax, files, objects, -, upload, download, and, delete, rackspace, cloud, ansible, ansible~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible~2.7/modules/rax_files_objects_module/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/ansible~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.7/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.7</a></span>
  
  <nav class="_nav">
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
				
<h1 id="rax-files-objects-module">rax_files_objects - Upload, download, and delete objects in Rackspace Cloud Files</h1> <div class="versionadded" id="rax-files-objects-upload-download-and-delete-objects-in-rackspace-cloud-files"> <p><span class="versionmodified">New in version 1.5.</span></p> </div>  <ul class="simple"> <li>
<a class="reference internal" href="#synopsis" id="id1">Synopsis</a><ul> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> </ul> </li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#status" id="id6">Status</a></li> <li>
<a class="reference internal" href="#maintenance" id="id7">Maintenance</a><ul> <li><a class="reference internal" href="#author" id="id8">Author</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Upload, download, and delete objects in Rackspace Cloud Files</li> </ul>  <h3 id="requirements">Requirements</h3> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>pyrax</li> <li>python &gt;= 2.6</li> </ul>    <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1"> <b>api_key</b> </td> <td> </td> <td> <div>Rackspace API key, overrides <em>credentials</em>.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: password</div> </td> </tr> <tr> <td colspan="1"> <b>auth_endpoint</b> <br><div style="font-size: small; color: darkgreen">(added in 1.5)</div> </td> <td> <b>Default:</b><br><div style="color: blue">https://identity.api.rackspacecloud.com/v2.0/</div> </td> <td> <div>The URI of the authentication service.</div> </td> </tr> <tr> <td colspan="1"> <b>clear_meta</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Optionally clear existing metadata when applying metadata to existing objects. Selecting this option is only appropriate when setting type=meta</div> </td> </tr> <tr> <td colspan="1"> <b>container</b> <br><div style="font-size: small; color: red">required</div> </td> <td> </td> <td> <div>The container to use for file object operations.</div> </td> </tr> <tr> <td colspan="1"> <b>credentials</b> </td> <td> </td> <td> <div>File to find the Rackspace credentials in. Ignored if <em>api_key</em> and <em>username</em> are provided.</div> <div style="font-size: small; color: darkgreen">
<br>aliases: creds_file</div> </td> </tr> <tr> <td colspan="1"> <b>dest</b> </td> <td> </td> <td> <div>The destination of a "get" operation; i.e. a local directory, "/home/user/myfolder". Used to specify the destination of an operation on a remote object; i.e. a file name, "file1", or a comma-separated list of remote objects, "file1,file2,file17"</div> </td> </tr> <tr> <td colspan="1"> <b>env</b> <br><div style="font-size: small; color: darkgreen">(added in 1.5)</div> </td> <td> </td> <td> <div>Environment as configured in <em>~/.pyrax.cfg</em>, see <a href="https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#pyrax-configuration" target="_blank">https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#pyrax-configuration</a>.</div> </td> </tr> <tr> <td colspan="1"> <b>expires</b> </td> <td> </td> <td> <div>Used to set an expiration on a file or folder uploaded to Cloud Files. Requires an integer, specifying expiration in seconds</div> </td> </tr> <tr> <td colspan="1"> <b>identity_type</b> <br><div style="font-size: small; color: darkgreen">(added in 1.5)</div> </td> <td> <b>Default:</b><br><div style="color: blue">rackspace</div> </td> <td> <div>Authentication mechanism to use, such as rackspace or keystone.</div> </td> </tr> <tr> <td colspan="1"> <b>meta</b> </td> <td> </td> <td> <div>A hash of items to set as metadata values on an uploaded file or folder</div> </td> </tr> <tr> <td colspan="1"> <b>method</b> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>get</b> ←</div></li> <li>put</li> <li>delete</li> </ul> </td> <td> <div>The method of operation to be performed. For example, put to upload files to Cloud Files, get to download files from Cloud Files or delete to delete remote objects in Cloud Files</div> </td> </tr> <tr> <td colspan="1"> <b>region</b> </td> <td> <b>Default:</b><br><div style="color: blue">DFW</div> </td> <td> <div>Region to create an instance in.</div> </td> </tr> <tr> <td colspan="1"> <b>src</b> </td> <td> </td> <td> <div>Source from which to upload files. Used to specify a remote object as a source for an operation, i.e. a file name, "file1", or a comma-separated list of remote objects, "file1,file2,file17". src and dest are mutually exclusive on remote-only object operations</div> </td> </tr> <tr> <td colspan="1"> <b>state</b> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>present</b> ←</div></li> <li>absent</li> </ul> </td> <td> <div>Indicate desired state of the resource</div> </td> </tr> <tr> <td colspan="1"> <b>structure</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div style="color: blue">
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Used to specify whether to maintain nested directory structure when downloading objects from Cloud Files. Setting to false downloads the contents of a container to a single, flat directory</div> </td> </tr> <tr> <td colspan="1"> <b>tenant_id</b> <br><div style="font-size: small; color: darkgreen">(added in 1.5)</div> </td> <td> </td> <td> <div>The tenant ID used for authentication.</div> </td> </tr> <tr> <td colspan="1"> <b>tenant_name</b> <br><div style="font-size: small; color: darkgreen">(added in 1.5)</div> </td> <td> </td> <td> <div>The tenant name used for authentication.</div> </td> </tr> <tr> <td colspan="1"> <b>type</b> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>file</b> ←</div></li> <li>meta</li> </ul> </td> <td> <div>Type of object to do work on</div> <div>Metadata object or a file object</div> </td> </tr> <tr> <td colspan="1"> <b>username</b> </td> <td> </td> <td> <div>Rackspace username, overrides <em>credentials</em>.</div> </td> </tr> <tr> <td colspan="1"> <b>verify_ssl</b> <br><div style="font-size: small; color: darkgreen">(added in 1.5)</div> </td> <td> </td> <td> <div>Whether or not to require SSL validation of API endpoints.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>The following environment variables can be used, <code>RAX_USERNAME</code>, <code>RAX_API_KEY</code>, <code>RAX_CREDS_FILE</code>, <code>RAX_CREDENTIALS</code>, <code>RAX_REGION</code>.</li> <li>
<code>RAX_CREDENTIALS</code> and <code>RAX_CREDS_FILE</code> points to a credentials file appropriate for pyrax. See <a class="reference external" href="https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#authenticating" target="_blank">https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#authenticating</a>
</li> <li>
<code>RAX_USERNAME</code> and <code>RAX_API_KEY</code> obviate the use of a credentials file</li> <li>
<code>RAX_REGION</code> defines a Rackspace Public Cloud region (DFW, ORD, LON, ...)</li> <li>The following environment variables can be used, <code>RAX_USERNAME</code>, <code>RAX_API_KEY</code>, <code>RAX_CREDS_FILE</code>, <code>RAX_CREDENTIALS</code>, <code>RAX_REGION</code>.</li> <li>
<code>RAX_CREDENTIALS</code> and <code>RAX_CREDS_FILE</code> points to a credentials file appropriate for pyrax. See <a class="reference external" href="https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#authenticating" target="_blank">https://github.com/rackspace/pyrax/blob/master/docs/getting_started.md#authenticating</a>
</li> <li>
<code>RAX_USERNAME</code> and <code>RAX_API_KEY</code> obviate the use of a credentials file</li> <li>
<code>RAX_REGION</code> defines a Rackspace Public Cloud region (DFW, ORD, LON, ...)</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: "Test Cloud Files Objects"
  hosts: local
  gather_facts: False
  tasks:
    - name: "Get objects from test container"
      rax_files_objects:
        container: testcont
        dest: ~/Downloads/testcont

    - name: "Get single object from test container"
      rax_files_objects:
        container: testcont
        src: file1
        dest: ~/Downloads/testcont

    - name: "Get several objects from test container"
      rax_files_objects:
        container: testcont
        src: file1,file2,file3
        dest: ~/Downloads/testcont

    - name: "Delete one object in test container"
      rax_files_objects:
        container: testcont
        method: delete
        dest: file1

    - name: "Delete several objects in test container"
      rax_files_objects:
        container: testcont
        method: delete
        dest: file2,file3,file4

    - name: "Delete all objects in test container"
      rax_files_objects:
        container: testcont
        method: delete

    - name: "Upload all files to test container"
      rax_files_objects:
        container: testcont
        method: put
        src: ~/Downloads/onehundred

    - name: "Upload one file to test container"
      rax_files_objects:
        container: testcont
        method: put
        src: ~/Downloads/testcont/file1

    - name: "Upload one file to test container with metadata"
      rax_files_objects:
        container: testcont
        src: ~/Downloads/testcont/file2
        method: put
        meta:
          testkey: testdata
          who_uploaded_this: someuser@example.com

    - name: "Upload one file to test container with TTL of 60 seconds"
      rax_files_objects:
        container: testcont
        method: put
        src: ~/Downloads/testcont/file3
        expires: 60

    - name: "Attempt to get remote object that does not exist"
      rax_files_objects:
        container: testcont
        method: get
        src: FileThatDoesNotExist.jpg
        dest: ~/Downloads/testcont
      ignore_errors: yes

    - name: "Attempt to delete remote object that does not exist"
      rax_files_objects:
        container: testcont
        method: delete
        dest: FileThatDoesNotExist.jpg
      ignore_errors: yes

- name: "Test Cloud Files Objects Metadata"
  hosts: local
  gather_facts: false
  tasks:
    - name: "Get metadata on one object"
      rax_files_objects:
        container: testcont
        type: meta
        dest: file2

    - name: "Get metadata on several objects"
      rax_files_objects:
        container: testcont
        type: meta
        src: file2,file1

    - name: "Set metadata on an object"
      rax_files_objects:
        container: testcont
        type: meta
        dest: file17
        method: put
        meta:
          key1: value1
          key2: value2
        clear_meta: true

    - name: "Verify metadata is set"
      rax_files_objects:
        container: testcont
        type: meta
        src: file17

    - name: "Delete metadata"
      rax_files_objects:
        container: testcont
        type: meta
        dest: file17
        method: delete
        meta:
          key1: ''
          key2: ''

    - name: "Get metadata on all objects"
      rax_files_objects:
        container: testcont
        type: meta
</pre>   <h2 id="status">Status</h2> <p>This module is flagged as <strong>preview</strong> which means that it is not guaranteed to have a backwards compatible interface.</p>   <h2 id="maintenance">Maintenance</h2> <p>This module is flagged as <strong>community</strong> which means that it is maintained by the Ansible Community. See <a class="reference internal" href="../../user_guide/modules_support/#modules-support"><span class="std std-ref">Module Maintenance &amp; Support</span></a> for more info.</p> <p>For a list of other modules that are also maintained by the Ansible Community, see <a class="reference internal" href="../community_maintained/#community-supported"><span class="std std-ref">here</span></a>.</p>  <h3 id="author">Author</h3> <ul class="simple"> <li>Paul Durivage (@angstwad)</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/cloud/rackspace/rax_files_objects.py?description=%3C!---%20Your%20description%20here%20--%3E%0A%0A%2Blabel:%20docsite_pr" target="_blank">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.7/modules/rax_files_objects_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.7/modules/rax_files_objects_module.html</a>
  </p>
</div>

				<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
