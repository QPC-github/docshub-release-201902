
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Panos_security_rule - Ansible 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.4. ">
  <meta name="keywords" content="panos, security, rule, -, create, policy, on, pan-os, devices, or, panorama, management, console, ansible, ansible~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible~2.7/modules/panos_security_rule_module/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/ansible~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.7/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="panos-security-rule-module">panos_security_rule - Create security rule policy on PAN-OS devices or Panorama management console.</h1> <div class="versionadded" id="panos-security-rule-create-security-rule-policy-on-pan-os-devices-or-panorama-management-console"> <p><span class="versionmodified">New in version 2.4.</span></p> </div>  <ul class="simple"> <li>
<a class="reference internal" href="#synopsis" id="id1">Synopsis</a><ul> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> </ul> </li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#notes" id="id4">Notes</a></li> <li><a class="reference internal" href="#examples" id="id5">Examples</a></li> <li><a class="reference internal" href="#status" id="id6">Status</a></li> <li>
<a class="reference internal" href="#maintenance" id="id7">Maintenance</a><ul> <li><a class="reference internal" href="#author" id="id8">Author</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Security policies allow you to enforce rules and take action, and can be as general or specific as needed. The policy rules are compared against the incoming traffic in sequence, and because the first rule that matches the traffic is applied, the more specific rules must precede the more general ones.</li> </ul>  <h3 id="requirements">Requirements</h3> <p>The below requirements are needed on the host that executes this module.</p> <ul class="simple"> <li>pan-python can be obtained from PyPi <a class="reference external" href="https://pypi.org/project/pan-python/" target="_blank">https://pypi.org/project/pan-python/</a>
</li> <li>pandevice can be obtained from PyPi <a class="reference external" href="https://pypi.org/project/pandevice/" target="_blank">https://pypi.org/project/pandevice/</a>
</li> <li>xmltodict can be obtained from PyPi <a class="reference external" href="https://pypi.org/project/xmltodict/" target="_blank">https://pypi.org/project/xmltodict/</a>
</li> </ul>    <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1"> <b>action</b> </td> <td> <b>Default:</b><br><div style="color: blue">allow</div> </td> <td> <div>Action to apply once rules maches.</div> </td> </tr> <tr> <td colspan="1"> <b>antivirus</b> </td> <td> </td> <td> <div>Name of the already defined antivirus profile.</div> </td> </tr> <tr> <td colspan="1"> <b>api_key</b> </td> <td> </td> <td> <div>API key that can be used instead of <em>username</em>/<em>password</em> credentials.</div> </td> </tr> <tr> <td colspan="1"> <b>application</b> </td> <td> <b>Default:</b><br><div style="color: blue">any</div> </td> <td> <div>List of applications.</div> </td> </tr> <tr> <td colspan="1"> <b>commit</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div style="color: blue">
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Commit configuration if changed.</div> </td> </tr> <tr> <td colspan="1"> <b>data_filtering</b> </td> <td> </td> <td> <div>Name of the already defined data_filtering profile.</div> </td> </tr> <tr> <td colspan="1"> <b>description</b> </td> <td> </td> <td> <div>Description for the security rule.</div> </td> </tr> <tr> <td colspan="1"> <b>destination_ip</b> </td> <td> <b>Default:</b><br><div style="color: blue">any</div> </td> <td> <div>List of destination addresses.</div> </td> </tr> <tr> <td colspan="1"> <b>destination_zone</b> </td> <td> <b>Default:</b><br><div style="color: blue">any</div> </td> <td> <div>List of destination zones.</div> </td> </tr> <tr> <td colspan="1"> <b>devicegroup</b> </td> <td> </td> <td> <div>- Device groups are used for the Panorama interaction with Firewall(s). The group must exists on Panorama. If device group is not define we assume that we are contacting Firewall.</div> </td> </tr> <tr> <td colspan="1"> <b>file_blocking</b> </td> <td> </td> <td> <div>Name of the already defined file_blocking profile.</div> </td> </tr> <tr> <td colspan="1"> <b>group_profile</b> </td> <td> </td> <td> <div>- Security profile group that is already defined in the system. This property supersedes antivirus, vulnerability, spyware, url_filtering, file_blocking, data_filtering, and wildfire_analysis properties.</div> </td> </tr> <tr> <td colspan="1"> <b>hip_profiles</b> </td> <td> <b>Default:</b><br><div style="color: blue">any</div> </td> <td> <div>- If you are using GlobalProtect with host information profile (HIP) enabled, you can also base the policy on information collected by GlobalProtect. For example, the user access level can be determined HIP that notifies the firewall about the user's local configuration.</div> </td> </tr> <tr> <td colspan="1"> <b>ip_address</b> <br><div style="font-size: small; color: red">required</div> </td> <td> </td> <td> <div>IP address (or hostname) of PAN-OS device being configured.</div> </td> </tr> <tr> <td colspan="1"> <b>log_end</b> </td> <td> <b>Default:</b><br><div style="color: blue">yes</div> </td> <td> <div>Whether to log at session end.</div> </td> </tr> <tr> <td colspan="1"> <b>log_start</b> </td> <td> </td> <td> <div>Whether to log at session start.</div> </td> </tr> <tr> <td colspan="1"> <b>operation</b> </td> <td> <b>Default:</b><br><div style="color: blue">add</div> </td> <td> <div>The action to be taken. Supported values are <em>add</em>/<em>update</em>/<em>find</em>/<em>delete</em>.</div> </td> </tr> <tr> <td colspan="1"> <b>password</b> <br><div style="font-size: small; color: red">required</div> </td> <td> </td> <td> <div>Password credentials to use for auth unless <em>api_key</em> is set.</div> </td> </tr> <tr> <td colspan="1"> <b>rule_name</b> <br><div style="font-size: small; color: red">required</div> </td> <td> </td> <td> <div>Name of the security rule.</div> </td> </tr> <tr> <td colspan="1"> <b>rule_type</b> </td> <td> <b>Default:</b><br><div style="color: blue">universal</div> </td> <td> <div>Type of security rule (version 6.1 of PanOS and above).</div> </td> </tr> <tr> <td colspan="1"> <b>service</b> </td> <td> <b>Default:</b><br><div style="color: blue">application-default</div> </td> <td> <div>List of services.</div> </td> </tr> <tr> <td colspan="1"> <b>source_ip</b> </td> <td> <b>Default:</b><br><div style="color: blue">any</div> </td> <td> <div>List of source addresses.</div> </td> </tr> <tr> <td colspan="1"> <b>source_user</b> </td> <td> <b>Default:</b><br><div style="color: blue">any</div> </td> <td> <div>Use users to enforce policy for individual users or a group of users.</div> </td> </tr> <tr> <td colspan="1"> <b>source_zone</b> </td> <td> <b>Default:</b><br><div style="color: blue">any</div> </td> <td> <div>List of source zones.</div> </td> </tr> <tr> <td colspan="1"> <b>spyware</b> </td> <td> </td> <td> <div>Name of the already defined spyware profile.</div> </td> </tr> <tr> <td colspan="1"> <b>tag_name</b> </td> <td> </td> <td> <div>Administrative tags that can be added to the rule. Note, tags must be already defined.</div> </td> </tr> <tr> <td colspan="1"> <b>url_filtering</b> </td> <td> </td> <td> <div>Name of the already defined url_filtering profile.</div> </td> </tr> <tr> <td colspan="1"> <b>username</b> </td> <td> <b>Default:</b><br><div style="color: blue">admin</div> </td> <td> <div>Username credentials to use for auth unless <em>api_key</em> is set.</div> </td> </tr> <tr> <td colspan="1"> <b>vulnerability</b> </td> <td> </td> <td> <div>Name of the already defined vulnerability profile.</div> </td> </tr> <tr> <td colspan="1"> <b>wildfire_analysis</b> </td> <td> </td> <td> <div>Name of the already defined wildfire_analysis profile.</div> </td> </tr> </table> <br>  <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>Checkmode is not supported.</li> <li>Panorama is supported.</li> </ul> </div>   <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: add an SSH inbound rule to devicegroup
  panos_security_rule:
    ip_address: '{{ ip_address }}'
    username: '{{ username }}'
    password: '{{ password }}'
    operation: 'add'
    rule_name: 'SSH permit'
    description: 'SSH rule test'
    tag_name: ['ProjectX']
    source_zone: ['public']
    destination_zone: ['private']
    source_ip: ['any']
    source_user: ['any']
    destination_ip: ['1.1.1.1']
    category: ['any']
    application: ['ssh']
    service: ['application-default']
    hip_profiles: ['any']
    action: 'allow'
    devicegroup: 'Cloud Edge'

- name: add a rule to allow HTTP multimedia only from CDNs
  panos_security_rule:
    ip_address: '10.5.172.91'
    username: 'admin'
    password: 'paloalto'
    operation: 'add'
    rule_name: 'HTTP Multimedia'
    description: 'Allow HTTP multimedia only to host at 1.1.1.1'
    source_zone: ['public']
    destination_zone: ['private']
    source_ip: ['any']
    source_user: ['any']
    destination_ip: ['1.1.1.1']
    category: ['content-delivery-networks']
    application: ['http-video', 'http-audio']
    service: ['service-http', 'service-https']
    hip_profiles: ['any']
    action: 'allow'

- name: add a more complex rule that uses security profiles
  panos_security_rule:
    ip_address: '{{ ip_address }}'
    username: '{{ username }}'
    password: '{{ password }}'
    operation: 'add'
    rule_name: 'Allow HTTP w profile'
    log_start: false
    log_end: true
    action: 'allow'
    antivirus: 'default'
    vulnerability: 'default'
    spyware: 'default'
    url_filtering: 'default'
    wildfire_analysis: 'default'

- name: delete a devicegroup security rule
  panos_security_rule:
    ip_address: '{{ ip_address }}'
    api_key: '{{ api_key }}'
    operation: 'delete'
    rule_name: 'Allow telnet'
    devicegroup: 'DC Firewalls'

- name: find a specific security rule
  panos_security_rule:
    ip_address: '{{ ip_address }}'
    password: '{{ password }}'
    operation: 'find'
    rule_name: 'Allow RDP to DCs'
  register: result
- debug: msg='{{result.stdout_lines}}'
</pre>   <h2 id="status">Status</h2> <p>This module is flagged as <strong>preview</strong> which means that it is not guaranteed to have a backwards compatible interface.</p>   <h2 id="maintenance">Maintenance</h2> <p>This module is flagged as <strong>community</strong> which means that it is maintained by the Ansible Community. See <a class="reference internal" href="../../user_guide/modules_support/#modules-support"><span class="std std-ref">Module Maintenance &amp; Support</span></a> for more info.</p> <p>For a list of other modules that are also maintained by the Ansible Community, see <a class="reference internal" href="../community_maintained/#community-supported"><span class="std std-ref">here</span></a>.</p>  <h3 id="author">Author</h3> <ul class="simple"> <li>Ivan Bojer (@ivanbojer), Robert Hagen (@rnh556)</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/network/panos/panos_security_rule.py?description=%3C!---%20Your%20description%20here%20--%3E%0A%0A%2Blabel:%20docsite_pr" target="_blank">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.7/modules/panos_security_rule_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.7/modules/panos_security_rule_module.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
