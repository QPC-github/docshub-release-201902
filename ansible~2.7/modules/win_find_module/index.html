
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Win_find - Ansible 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.3. ">
  <meta name="keywords" content="win, find, -, return, list, files, based, on, specific, criteria, ansible, ansible~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible~2.7/modules/win_find_module/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/ansible~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.7/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.7</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="win-find-module">win_find - Return a list of files based on specific criteria</h1> <div class="versionadded" id="win-find-return-a-list-of-files-based-on-specific-criteria"> <p><span class="versionmodified">New in version 2.3.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#parameters" id="id2">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id4">Return Values</a></li> <li><a class="reference internal" href="#status" id="id5">Status</a></li> <li>
<a class="reference internal" href="#maintenance" id="id6">Maintenance</a><ul> <li><a class="reference internal" href="#author" id="id7">Author</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Return a list of files based on specified criteria.</li> <li>Multiple criteria are AND’d together.</li> <li>For non-Windows targets, use the <a class="reference internal" href="../find_module/#find-module"><span class="std std-ref">find</span></a> module instead.</li> </ul>   <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1"> <b>age</b> </td> <td> </td> <td> <div>Select files or folders whose age is equal to or greater than the specified time. Use a negative age to find files equal to or less than the specified time. You can choose seconds, minutes, hours, days or weeks by specifying the first letter of an of those words (e.g., "2s", "10d", 1w").</div> </td> </tr> <tr> <td colspan="1"> <b>age_stamp</b> </td> <td> <ul>
<b>Choices:</b> <li>atime</li> <li>ctime</li> <li><div style="color: blue">
<b>mtime</b> ←</div></li> </ul> </td> <td> <div>Choose the file property against which we compare <code>age</code>. The default attribute we compare with is the last modification time.</div> </td> </tr> <tr> <td colspan="1"> <b>checksum_algorithm</b> </td> <td> <ul>
<b>Choices:</b> <li>md5</li> <li><div style="color: blue">
<b>sha1</b> ←</div></li> <li>sha256</li> <li>sha384</li> <li>sha512</li> </ul> </td> <td> <div>Algorithm to determine the checksum of a file. Will throw an error if the host is unable to use specified algorithm.</div> </td> </tr> <tr> <td colspan="1"> <b>file_type</b> </td> <td> <ul>
<b>Choices:</b> <li>directory</li> <li><div style="color: blue">
<b>file</b> ←</div></li> </ul> </td> <td> <div>Type of file to search for.</div> </td> </tr> <tr> <td colspan="1"> <b>follow</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Set this to <code>yes</code> to follow symlinks in the path.</div> <div>This needs to be used in conjunction with <code>recurse</code>.</div> </td> </tr> <tr> <td colspan="1"> <b>get_checksum</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li>no</li> <li><div style="color: blue">
<b>yes</b> ←</div></li> </ul> </td> <td> <div>Whether to return a checksum of the file in the return info (default sha1), use <code>checksum_algorithm</code> to change from the default.</div> </td> </tr> <tr> <td colspan="1"> <b>hidden</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Set this to include hidden files or folders.</div> </td> </tr> <tr> <td colspan="1"> <b>paths</b> <br><div style="font-size: small; color: red">required</div> </td> <td> </td> <td> <div>List of paths of directories to search for files or folders in. This can be supplied as a single path or a list of paths.</div> </td> </tr> <tr> <td colspan="1"> <b>patterns</b> </td> <td> </td> <td> <div>One or more (powershell or regex) patterns to compare filenames with. The type of pattern matching is controlled by <code>use_regex</code> option. The patterns retrict the list of files or folders to be returned based on the filenames. For a file to be matched it only has to match with one pattern in a list provided.</div> </td> </tr> <tr> <td colspan="1"> <b>recurse</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Will recursively descend into the directory looking for files or folders.</div> </td> </tr> <tr> <td colspan="1"> <b>size</b> </td> <td> </td> <td> <div>Select files or folders whose size is equal to or greater than the specified size. Use a negative value to find files equal to or less than the specified size. You can specify the size with a suffix of the byte type i.e. kilo = k, mega = m... Size is not evaluated for symbolic links.</div> </td> </tr> <tr> <td colspan="1"> <b>use_regex</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> <div>Will set patterns to run as a regex check if set to <code>yes</code>.</div> </td> </tr> </table> <br>  <h2 id="examples">Examples</h2> <pre data-language="yaml">- name: Find files in path
  win_find:
    paths: D:\Temp

- name: Find hidden files in path
  win_find:
    paths: D:\Temp
    hidden: yes

- name: Find files in multiple paths
  win_find:
    paths:
    - C:\Temp
    - D:\Temp

- name: Find files in directory while searching recursively
  win_find:
    paths: D:\Temp
    recurse: yes

- name: Find files in directory while following symlinks
  win_find:
    paths: D:\Temp
    recurse: yes
    follow: yes

- name: Find files with .log and .out extension using powershell wildcards
  win_find:
    paths: D:\Temp
    patterns: [ '*.log', '*.out' ]

- name: Find files in path based on regex pattern
  win_find:
    paths: D:\Temp
    patterns: out_\d{8}-\d{6}.log

- name: Find files older than 1 day
  win_find:
    paths: D:\Temp
    age: 86400

- name: Find files older than 1 day based on create time
  win_find:
    paths: D:\Temp
    age: 86400
    age_stamp: ctime

- name: Find files older than 1 day with unit syntax
  win_find:
    paths: D:\Temp
    age: 1d

- name: Find files newer than 1 hour
  win_find:
    paths: D:\Temp
    age: -3600

- name: Find files newer than 1 hour with unit syntax
  win_find:
    paths: D:\Temp
    age: -1h

- name: Find files larger than 1MB
  win_find:
    paths: D:\Temp
    size: 1048576

- name: Find files larger than 1GB with unit syntax
  win_find:
    paths: D:\Temp
    size: 1g

- name: Find files smaller than 1MB
  win_find:
    paths: D:\Temp
    size: -1048576

- name: Find files smaller than 1GB with unit syntax
  win_find:
    paths: D:\Temp
    size: -1g

- name: Find folders/symlinks in multiple paths
  win_find:
    paths:
    - C:\Temp
    - D:\Temp
    file_type: directory

- name: Find files and return SHA256 checksum of files found
  win_find:
    paths: C:\Temp
    get_checksum: yes
    checksum_algorithm: sha256

- name: Find files and do not return the checksum
  win_find:
    paths: C:\Temp
    get_checksum: no
</pre>   <h2 id="return-values">Return Values</h2> <p>Common return values are documented <a class="reference internal" href="../../reference_appendices/common_return_values/#common-return-values"><span class="std std-ref">here</span></a>, the following are the fields unique to this module:</p> <table class="documentation-table"> <tr> <th colspan="2">Key</th> <th>Returned</th> <th width="100%">Description</th> </tr> <tr> <td colspan="2"> <b>examined</b> <br><div style="font-size: small; color: red">int</div> </td> <td>always</td> <td> <div>The number of files/folders that was checked</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">10</div> </td> </tr> <tr> <td colspan="2"> <b>files</b> <br><div style="font-size: small; color: red">complex</div> </td> <td>success</td> <td> <div>Information on the files/folders that match the criteria returned as a list of dictionary elements for each file matched</div> <br> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>lastwritetime</b> <br><div style="font-size: small; color: red">float</div> </td> <td>success, path exists</td> <td> <div>the last modification time of the file represented in seconds since epoch</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">1477984205.15</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>creationtime</b> <br><div style="font-size: small; color: red">float</div> </td> <td>success, path exists</td> <td> <div>the create time of the file represented in seconds since epoch</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">1477984205.15</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>lastaccesstime</b> <br><div style="font-size: small; color: red">float</div> </td> <td>success, path exists</td> <td> <div>the last access time of the file represented in seconds since epoch</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">1477984205.15</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>owner</b> <br><div style="font-size: small; color: red">string</div> </td> <td>success, path exists</td> <td> <div>the owner of the file</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">BUILTIN\Administrators</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>path</b> <br><div style="font-size: small; color: red">string</div> </td> <td>success, path exists</td> <td> <div>the full absolute path to the file</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">BUILTIN\Administrators</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>isarchive</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td>success, path exists</td> <td> <div>if the path is ready for archiving or not</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>ishidden</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td>success, path exists</td> <td> <div>if the path is hidden or not</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>lnk_source</b> <br><div style="font-size: small; color: red">string</div> </td> <td></td> <td> <div>the target of the symbolic link, will return null if not a link or the link is broken</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">C:\temp</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>size</b> <br><div style="font-size: small; color: red">int</div> </td> <td>success, path exists, path is not a link</td> <td> <div>the size in bytes of a file or folder</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">1024</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>isdir</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td>success, path exists</td> <td> <div>if the path is a directory or not</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>extension</b> <br><div style="font-size: small; color: red">string</div> </td> <td>success, path exists, path is a file</td> <td> <div>the extension of the file at path</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">.ps1</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>isreadonly</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td>success, path exists</td> <td> <div>if the path is read only or not</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>sharename</b> <br><div style="font-size: small; color: red">string</div> </td> <td>success, path exists, path is a directory and isshared == True</td> <td> <div>the name of share if folder is shared</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">file-share</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>checksum</b> <br><div style="font-size: small; color: red">string</div> </td> <td>success, path exists, path is a file, get_checksum == True</td> <td> <div>The checksum of a file based on checksum_algorithm specified</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">09cb79e8fc7453c84a07f644e441fd81623b7f98</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>islnk</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td>success, path exists</td> <td> <div>if the path is a symbolic link or junction or not</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>attributes</b> <br><div style="font-size: small; color: red">string</div> </td> <td>success, path exists</td> <td> <div>attributes of the file at path in raw form</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">Archive, Hidden</div> </td> </tr> <tr> <td class="elbow-placeholder"> </td> <td colspan="1"> <b>isshared</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td>success, path exists</td> <td> <div>if the path is shared or not</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">True</div> </td> </tr> <tr> <td colspan="2"> <b>matched</b> <br><div style="font-size: small; color: red">int</div> </td> <td>always</td> <td> <div>The number of files/folders that match the criteria</div> <br> <div style="font-size: smaller"><b>Sample:</b></div> <div style="font-size: smaller; color: blue; word-wrap: break-word; word-break: break-all;">2</div> </td> </tr> </table> <br><br>  <h2 id="status">Status</h2> <p>This module is flagged as <strong>preview</strong> which means that it is not guaranteed to have a backwards compatible interface.</p>   <h2 id="maintenance">Maintenance</h2> <p>This module is flagged as <strong>community</strong> which means that it is maintained by the Ansible Community. See <a class="reference internal" href="../../user_guide/modules_support/#modules-support"><span class="std std-ref">Module Maintenance &amp; Support</span></a> for more info.</p> <p>For a list of other modules that are also maintained by the Ansible Community, see <a class="reference internal" href="../community_maintained/#community-supported"><span class="std std-ref">here</span></a>.</p>  <h3 id="author">Author</h3> <ul class="simple"> <li>Jordan Borean (@jborean93)</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/windows/win_find.py?description=%3C!---%20Your%20description%20here%20--%3E%0A%0A%2Blabel:%20docsite_pr" target="_blank">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.7/modules/win_find_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.7/modules/win_find_module.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
