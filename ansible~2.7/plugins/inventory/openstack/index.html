
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Openstack - Ansible 2.7 - W3cubDocs</title>
  
  <meta name="description" content=" The below requirements are needed on the local master node that executes this inventory. ">
  <meta name="keywords" content="openstack, -, inventory, source, ansible, ansible~2.7">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible~2.7/plugins/inventory/openstack/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6ca5be81b81eb73e654078d9aaa623884afe18900617ed9a60729a4905026f77.css">
  <script type="text/javascript" src="/assets/application-2fa35d54abf92f248ac868261a14d3f99b325c34fcc70df314719245e248d73c.js"></script>
  <script src="/json/ansible~2.7.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible~2.7/" class="_nav-link" title="" style="margin-left:0;">Ansible 2.7</a></span>
  
  <nav class="_nav">
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
				
<h1 id="openstack-inventory">openstack - OpenStack inventory source</h1>  <ul class="simple" id="openstack-openstack-inventory-source"> <li>
<a class="reference internal" href="#synopsis" id="id1">Synopsis</a><ul> <li><a class="reference internal" href="#requirements" id="id2">Requirements</a></li> </ul> </li> <li><a class="reference internal" href="#parameters" id="id3">Parameters</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li>
<a class="reference internal" href="#status" id="id5">Status</a><ul> <li><a class="reference internal" href="#author" id="id6">Author</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Get inventory hosts from OpenStack clouds</li> <li>Uses openstack.(yml|yaml) YAML configuration file to configure the inventory plugin</li> <li>Uses standard clouds.yaml YAML configuration file to configure cloud credentials</li> </ul>  <h3 id="requirements">Requirements</h3> <p>The below requirements are needed on the local master node that executes this inventory.</p> <ul class="simple"> <li>openstacksdk</li> </ul>    <h2 id="parameters">Parameters</h2> <table class="documentation-table"> <tr> <th colspan="1">Parameter</th> <th>Choices/Defaults</th> <th>Configuration</th> <th width="100%">Comments</th> </tr> <tr> <td colspan="1"> <b>cache</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td> <b>Default:</b><br><div style="color: blue">no</div> </td> <td> <div> ini entries: <p>[inventory]<br>cache = no</p> </div> <div>env:ANSIBLE_INVENTORY_CACHE</div> </td> <td> <div>Toggle to enable/disable the caching of the inventory's source data, requires a cache plugin setup to work.</div> </td> </tr> <tr> <td colspan="1"> <b>cache_connection</b> </td> <td> </td> <td> <div> ini entries: <p>[inventory]<br>cache_connection = VALUE</p> </div> <div>env:ANSIBLE_INVENTORY_CACHE_CONNECTION</div> </td> <td> <div>Cache connection data or path, read cache plugin documentation for specifics.</div> </td> </tr> <tr> <td colspan="1"> <b>cache_plugin</b> </td> <td> </td> <td> <div> ini entries: <p>[inventory]<br>cache_plugin = VALUE</p> </div> <div>env:ANSIBLE_INVENTORY_CACHE_PLUGIN</div> </td> <td> <div>Cache plugin to use for the inventory's source data.</div> </td> </tr> <tr> <td colspan="1"> <b>cache_timeout</b> <br><div style="font-size: small; color: red">integer</div> </td> <td> <b>Default:</b><br><div style="color: blue">3600</div> </td> <td> <div> ini entries: <p>[inventory]<br>cache_timeout = 3600</p> </div> <div>env:ANSIBLE_INVENTORY_CACHE_TIMEOUT</div> </td> <td> <div>Cache duration in seconds</div> </td> </tr> <tr> <td colspan="1"> <b>clouds_yaml_path</b> <br><div style="font-size: small; color: red">string</div> </td> <td> </td> <td> </td> <td> <div>Override path to clouds.yaml file. If this value is given it will be searched first. The default path for the ansible inventory adds /etc/ansible/openstack.yaml and /etc/ansible/openstack.yml to the regular locations documented at https://docs.openstack.org/os-client-config/latest/user/configuration.html#config-files</div> </td> </tr> <tr> <td colspan="1"> <b>compose</b> <br><div style="font-size: small; color: red">dictionary</div> </td> <td> <b>Default:</b><br><div style="color: blue">{}</div> </td> <td> </td> <td> <div>Create vars from jinja2 expressions.</div> </td> </tr> <tr> <td colspan="1"> <b>expand_hostvars</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> </td> <td> <div>Run extra commands on each host to fill in additional information about the host. May interrogate cinder and neutron and can be expensive for people with many hosts. (Note, the default value of this is opposite from the default old openstack.py inventory script's option expand_hostvars)</div> </td> </tr> <tr> <td colspan="1"> <b>fail_on_errors</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> </td> <td> <div>Causes the inventory to fail and return no hosts if one cloud has failed (for example, bad credentials or being offline). When set to False, the inventory will return as many hosts as it can from as many clouds as it can contact. (Note, the default value of this is opposite from the old openstack.py inventory script's option fail_on_errors)</div> </td> </tr> <tr> <td colspan="1"> <b>groups</b> <br><div style="font-size: small; color: red">dictionary</div> </td> <td> <b>Default:</b><br><div style="color: blue">{}</div> </td> <td> </td> <td> <div>Add hosts to group based on Jinja2 conditionals.</div> </td> </tr> <tr> <td colspan="1"> <b>inventory_hostname</b> <br><div style="font-size: small; color: red">string</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>name</b> ←</div></li> <li>uuid</li> </ul> </td> <td> </td> <td> <div>What to register as the inventory hostname. If set to 'uuid' the uuid of the server will be used and a group will be created for the server name. If set to 'name' the name of the server will be used unless there are more than one server with the same name in which case the 'uuid' logic will be used. Default is to do 'name', which is the opposite of the old openstack.py inventory script's option use_hostnames)</div> </td> </tr> <tr> <td colspan="1"> <b>keyed_groups</b> <br><div style="font-size: small; color: red">list</div> </td> <td> <b>Default:</b><br><div style="color: blue">[]</div> </td> <td> </td> <td> <div>add hosts to group based on the values of a variable</div> </td> </tr> <tr> <td colspan="1"> <b>only_clouds</b> <br><div style="font-size: small; color: red">list</div> </td> <td> <b>Default:</b><br><div style="color: blue">[]</div> </td> <td> </td> <td> <div>List of clouds from clouds.yaml to use, instead of using the whole list.</div> </td> </tr> <tr> <td colspan="1"> <b>plugin</b> <br><div style="font-size: small; color: red">required</div> </td> <td> <ul>
<b>Choices:</b> <li>openstack</li> </ul> </td> <td> </td> <td> <div>token that ensures this is a source file for the 'openstack' plugin.</div> </td> </tr> <tr> <td colspan="1"> <b>private</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> </td> <td> <div>Use the private interface of each server, if it has one, as the host's IP in the inventory. This can be useful if you are running ansible inside a server in the cloud and would rather communicate to your servers over the private network.</div> </td> </tr> <tr> <td colspan="1"> <b>show_all</b> <br><div style="font-size: small; color: red">bool</div> </td> <td> <ul>
<b>Choices:</b> <li><div style="color: blue">
<b>no</b> ←</div></li> <li>yes</li> </ul> </td> <td> </td> <td> <div>toggles showing all vms vs only those with a working IP</div> </td> </tr> <tr> <td colspan="1"> <b>strict</b> <br><div style="font-size: small; color: red">boolean</div> </td> <td> <b>Default:</b><br><div style="color: blue">no</div> </td> <td> </td> <td> <div>If true make invalid entries a fatal error, otherwise skip and continue</div> <div>Since it is possible to use facts in the expressions they might not always be available and we ignore those errors by default.</div> </td> </tr> </table> <br>  <h2 id="examples">Examples</h2> <pre data-language="yaml"># file must be named openstack.yaml or openstack.yml
# Make the plugin behave like the default behavior of the old script
plugin: openstack
expand_hostvars: yes
fail_on_errors: yes
</pre>   <h2 id="status">Status</h2>  <h3 id="author">Author</h3> <ul class="simple"> <li>Marco Vito Moscaritolo &lt;<a class="reference external" href="https://docs.ansible.com/cdn-cgi/l/email-protection#3e535f4c5d51181d0d0905181d0b0c05181d0a06055f595f485b5b181d0a08055d5153" target="_blank">marco<span>@</span>agavee<span>.</span>com</a>&gt;</li> <li>Jesse Keating &lt;<a class="reference external" href="https://docs.ansible.com/cdn-cgi/l/email-protection#eb818e98988ecdc8dfddd0808e8a9f82858ccdc8d8dcd0cdc8ded9d0cdc8dfd3d0998a8880989b8a888ecdc8dfddd0888486" target="_blank">jesse<span>.</span>keating<span>@</span>rackspace<span>.</span>com</a>&gt;</li> </ul> <div class="admonition hint"> <p class="first admonition-title">Hint</p> <p class="last">If you notice any issues in this documentation you can <a class="reference external" href="https://github.com/ansible/ansible/edit/devel/lib/ansible/plugins/inventory/openstack.py" target="_blank">edit this document</a> to improve it.</p> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Michael DeHaan<br>© 2018 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/2.7/plugins/inventory/openstack.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/2.7/plugins/inventory/openstack.html</a>
  </p>
</div>

				<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
