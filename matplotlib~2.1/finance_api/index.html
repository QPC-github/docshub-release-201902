
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Finance - Matplotlib 2.1 - W3cubDocs</title>
  
  <meta name="description" content=" A collection of functions for collecting, analyzing and plotting financial data. ">
  <meta name="keywords" content="finance, -, matplotlib, matplotlib~2.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/matplotlib~2.1/finance_api/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/matplotlib~2.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/matplotlib~2.1/" class="_nav-link" title="" style="margin-left:0;">Matplotlib 2.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="finance">finance</h1>  <h2 id="matplotlib-finance">matplotlib.finance</h2> <p id="module-matplotlib.finance">A collection of functions for collecting, analyzing and plotting financial data.</p> <p>This module is deprecated in 2.0 and has been moved to a module called <code>mpl_finance</code>.</p> <dl class="function"> <dt id="matplotlib.finance.candlestick2_ochl">
<code>matplotlib.finance.candlestick2_ochl(ax, opens, closes, highs, lows, width=4, colorup='k', colordown='r', alpha=0.75)</code> </dt> <dd>
<p>Represent the open, close as a bar line and high low range as a vertical line.</p> <p>Preserves the original argument order.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>opens</strong> : sequence</p>  <p>sequence of opening values</p>  <p><strong>closes</strong> : sequence</p>  <p>sequence of closing values</p>  <p><strong>highs</strong> : sequence</p>  <p>sequence of high values</p>  <p><strong>lows</strong> : sequence</p>  <p>sequence of low values</p>  <p><strong>ticksize</strong> : int</p>  <p>size of open and close ticks in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  <p><strong>alpha</strong> : float</p>  <p>bar transparency</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : tuple</p>  <p>(lineCollection, barCollection)</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.candlestick2_ohlc">
<code>matplotlib.finance.candlestick2_ohlc(ax, opens, highs, lows, closes, width=4, colorup='k', colordown='r', alpha=0.75)</code> </dt> <dd>
<p>Represent the open, close as a bar line and high low range as a vertical line.</p> <p>NOTE: this code assumes if any value open, low, high, close is missing they all are missing</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>opens</strong> : sequence</p>  <p>sequence of opening values</p>  <p><strong>highs</strong> : sequence</p>  <p>sequence of high values</p>  <p><strong>lows</strong> : sequence</p>  <p>sequence of low values</p>  <p><strong>closes</strong> : sequence</p>  <p>sequence of closing values</p>  <p><strong>ticksize</strong> : int</p>  <p>size of open and close ticks in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  <p><strong>alpha</strong> : float</p>  <p>bar transparency</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : tuple</p>  <p>(lineCollection, barCollection)</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.candlestick_ochl">
<code>matplotlib.finance.candlestick_ochl(ax, quotes, width=0.2, colorup='k', colordown='r', alpha=1.0)</code> </dt> <dd>
<p>Plot the time, open, close, high, low as a vertical line ranging from low to high. Use a rectangular bar to represent the open-close span. If close &gt;= open, use colorup to color the bar, otherwise use colordown</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>quotes</strong> : sequence of (time, open, close, high, low, …) sequences</p>  <p>As long as the first 5 elements are these values, the record can be as long as you want (e.g., it may store volume).</p> <p>time must be in float days format - see date2num</p>  <p><strong>width</strong> : float</p>  <p>fraction of a day for the rectangle width</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the rectangle where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the rectangle where close &lt; open</p>  <p><strong>alpha</strong> : float</p>  <p>the rectangle alpha level</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : tuple</p>  <p>returns (lines, patches) where lines is a list of lines added and patches is a list of the rectangle patches added</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.candlestick_ohlc">
<code>matplotlib.finance.candlestick_ohlc(ax, quotes, width=0.2, colorup='k', colordown='r', alpha=1.0)</code> </dt> <dd>
<p>Plot the time, open, high, low, close as a vertical line ranging from low to high. Use a rectangular bar to represent the open-close span. If close &gt;= open, use colorup to color the bar, otherwise use colordown</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>quotes</strong> : sequence of (time, open, high, low, close, …) sequences</p>  <p>As long as the first 5 elements are these values, the record can be as long as you want (e.g., it may store volume).</p> <p>time must be in float days format - see date2num</p>  <p><strong>width</strong> : float</p>  <p>fraction of a day for the rectangle width</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the rectangle where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the rectangle where close &lt; open</p>  <p><strong>alpha</strong> : float</p>  <p>the rectangle alpha level</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : tuple</p>  <p>returns (lines, patches) where lines is a list of lines added and patches is a list of the rectangle patches added</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.fetch_historical_yahoo">
<code>matplotlib.finance.fetch_historical_yahoo(ticker, date1, date2, cachename=None, dividends=False)</code> </dt> <dd>
<p>Fetch historical data for ticker between date1 and date2. date1 and date2 are date or datetime instances, or (year, month, day) sequences.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ticker</strong> : str</p>  <p>ticker</p>  <p><strong>date1</strong> : sequence of form (year, month, day), <a class="reference external" href="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)" target="_blank"><code>datetime</code></a>, or <code>date</code></p>  <p>start date</p>  <p><strong>date2</strong> : sequence of form (year, month, day), <a class="reference external" href="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)" target="_blank"><code>datetime</code></a>, or <code>date</code></p>  <p>end date</p>  <p><strong>cachename</strong> : str</p>  <p>cachename is the name of the local file cache. If None, will default to the md5 hash or the url (which incorporates the ticker and date range)</p>  <p><strong>dividends</strong> : bool</p>  <p>set dividends=True to return dividends instead of price data. With this option set, parse functions will not work</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>file_handle</strong> : file handle</p>  <p>a file handle is returned</p>  </td> </tr>  </table> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; fh = fetch_historical_yahoo('^GSPC', (2000, 1, 1), (2001, 12, 31))
</pre> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.index_bar">
<code>matplotlib.finance.index_bar(ax, vals, facecolor='b', edgecolor='l', width=4, alpha=1.0)</code> </dt> <dd>
<p>Add a bar collection graph with height vals (-1 is missing).</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>vals</strong> : sequence</p>  <p>a sequence of values</p>  <p><strong>facecolor</strong> : color</p>  <p>the color of the bar face</p>  <p><strong>edgecolor</strong> : color</p>  <p>the color of the bar edges</p>  <p><strong>width</strong> : int</p>  <p>the bar width in points</p>  <p><strong>alpha</strong> : float</p>  <p>bar transparency</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : <code>barCollection</code></p>  <p>The <code>barrCollection</code> added to the axes</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.md5">
<code>matplotlib.finance.md5(x)</code> </dt> 
</dl> <dl class="function"> <dt id="matplotlib.finance.parse_yahoo_historical_ochl">
<code>matplotlib.finance.parse_yahoo_historical_ochl(fh, adjusted=True, asobject=False)</code> </dt> <dd>
<p>Parse the historical data in file handle fh from yahoo finance.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>adjusted</strong> : bool</p>  <p>If True (default) replace open, close, high, low prices with their adjusted values. The adjustment is by a scale factor, S = adjusted_close/close. Adjusted prices are actual prices multiplied by S.</p> <p>Volume is not adjusted as it is already backward split adjusted by Yahoo. If you want to compute dollars traded, multiply volume by the adjusted close, regardless of whether you choose adjusted = True|False.</p>  <p><strong>asobject</strong> : bool or None</p>  <p>If False (default for compatibility with earlier versions) return a list of tuples containing</p>  <p>d, open, close, high, low, volume</p>  <p>If None (preferred alternative to False), return a 2-D ndarray corresponding to the list of tuples.</p> <p>Otherwise return a numpy recarray with</p>  <p>date, year, month, day, d, open, close, high, low, volume, adjusted_close</p>  <p>where d is a floating poing representation of date, as returned by date2num, and date is a python standard library datetime.date instance.</p> <p>The name of this kwarg is a historical artifact. Formerly, True returned a cbook Bunch holding 1-D ndarrays. The behavior of a numpy recarray is very similar to the Bunch.</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.parse_yahoo_historical_ohlc">
<code>matplotlib.finance.parse_yahoo_historical_ohlc(fh, adjusted=True, asobject=False)</code> </dt> <dd>
<p>Parse the historical data in file handle fh from yahoo finance.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>adjusted</strong> : bool</p>  <p>If True (default) replace open, high, low, close prices with their adjusted values. The adjustment is by a scale factor, S = adjusted_close/close. Adjusted prices are actual prices multiplied by S.</p> <p>Volume is not adjusted as it is already backward split adjusted by Yahoo. If you want to compute dollars traded, multiply volume by the adjusted close, regardless of whether you choose adjusted = True|False.</p>  <p><strong>asobject</strong> : bool or None</p>  <p>If False (default for compatibility with earlier versions) return a list of tuples containing</p>  <p>d, open, high, low, close, volume</p>  <p>If None (preferred alternative to False), return a 2-D ndarray corresponding to the list of tuples.</p> <p>Otherwise return a numpy recarray with</p>  <p>date, year, month, day, d, open, high, low, close, volume, adjusted_close</p>  <p>where d is a floating poing representation of date, as returned by date2num, and date is a python standard library datetime.date instance.</p> <p>The name of this kwarg is a historical artifact. Formerly, True returned a cbook Bunch holding 1-D ndarrays. The behavior of a numpy recarray is very similar to the Bunch.</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.plot_day_summary2_ochl">
<code>matplotlib.finance.plot_day_summary2_ochl(ax, opens, closes, highs, lows, ticksize=4, colorup='k', colordown='r')</code> </dt> <dd>
<p>Represent the time, open, close, high, low, as a vertical line ranging from low to high. The left tick is the open and the right tick is the close.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>opens</strong> : sequence</p>  <p>sequence of opening values</p>  <p><strong>closes</strong> : sequence</p>  <p>sequence of closing values</p>  <p><strong>highs</strong> : sequence</p>  <p>sequence of high values</p>  <p><strong>lows</strong> : sequence</p>  <p>sequence of low values</p>  <p><strong>ticksize</strong> : int</p>  <p>size of open and close ticks in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : list</p>  <p>a list of lines added to the axes</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.plot_day_summary2_ohlc">
<code>matplotlib.finance.plot_day_summary2_ohlc(ax, opens, highs, lows, closes, ticksize=4, colorup='k', colordown='r')</code> </dt> <dd>
<p>Represent the time, open, high, low, close as a vertical line ranging from low to high. The left tick is the open and the right tick is the close. <em>opens</em>, <em>highs</em>, <em>lows</em> and <em>closes</em> must have the same length. NOTE: this code assumes if any value open, high, low, close is missing (<em>-1</em>) they all are missing</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>opens</strong> : sequence</p>  <p>sequence of opening values</p>  <p><strong>highs</strong> : sequence</p>  <p>sequence of high values</p>  <p><strong>lows</strong> : sequence</p>  <p>sequence of low values</p>  <p><strong>closes</strong> : sequence</p>  <p>sequence of closing values</p>  <p><strong>ticksize</strong> : int</p>  <p>size of open and close ticks in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : list</p>  <p>a list of lines added to the axes</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.plot_day_summary_oclh">
<code>matplotlib.finance.plot_day_summary_oclh(ax, quotes, ticksize=3, colorup='k', colordown='r')</code> </dt> <dd>
<p>Plots day summary</p>  Represent the time, open, close, high, low as a vertical line ranging from low to high. The left tick is the open and the right tick is the close. <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an <code>Axes</code> instance to plot to</p>  <p><strong>quotes</strong> : sequence of (time, open, close, high, low, …) sequences</p>  <p>data to plot. time must be in float date format - see date2num</p>  <p><strong>ticksize</strong> : int</p>  <p>open/close tick marker in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>lines</strong> : list</p>  <p>list of tuples of the lines added (one tuple per quote)</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.plot_day_summary_ohlc">
<code>matplotlib.finance.plot_day_summary_ohlc(ax, quotes, ticksize=3, colorup='k', colordown='r')</code> </dt> <dd>
<p>Plots day summary</p>  Represent the time, open, high, low, close as a vertical line ranging from low to high. The left tick is the open and the right tick is the close. <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an <code>Axes</code> instance to plot to</p>  <p><strong>quotes</strong> : sequence of (time, open, high, low, close, …) sequences</p>  <p>data to plot. time must be in float date format - see date2num</p>  <p><strong>ticksize</strong> : int</p>  <p>open/close tick marker in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>lines</strong> : list</p>  <p>list of tuples of the lines added (one tuple per quote)</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.quotes_historical_yahoo_ochl">
<code>matplotlib.finance.quotes_historical_yahoo_ochl(ticker, date1, date2, asobject=False, adjusted=True, cachename=None)</code> </dt> <dd>
<p>Get historical data for ticker between date1 and date2.</p> <p>See <code>parse_yahoo_historical()</code> for explanation of output formats and the <em>asobject</em> and <em>adjusted</em> kwargs.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ticker</strong> : str</p>  <p>stock ticker</p>  <p><strong>date1</strong> : sequence of form (year, month, day), <a class="reference external" href="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)" target="_blank"><code>datetime</code></a>, or <code>date</code></p>  <p>start date</p>  <p><strong>date2</strong> : sequence of form (year, month, day), <a class="reference external" href="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)" target="_blank"><code>datetime</code></a>, or <code>date</code></p>  <p>end date</p>  <p><strong>cachename</strong> : str or <a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)" target="_blank"><code>None</code></a></p>  <p>is the name of the local file cache. If None, will default to the md5 hash or the url (which incorporates the ticker and date range)</p>  </td> </tr>  </table> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; sp = f.quotes_historical_yahoo_ochl('^GSPC', d1, d2,
                         asobject=True, adjusted=True)
&gt;&gt;&gt; returns = (sp.open[1:] - sp.open[:-1])/sp.open[1:]
&gt;&gt;&gt; [n,bins,patches] = hist(returns, 100)
&gt;&gt;&gt; mu = mean(returns)
&gt;&gt;&gt; sigma = std(returns)
&gt;&gt;&gt; x = normpdf(bins, mu, sigma)
&gt;&gt;&gt; plot(bins, x, color='red', lw=2)
</pre> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.quotes_historical_yahoo_ohlc">
<code>matplotlib.finance.quotes_historical_yahoo_ohlc(ticker, date1, date2, asobject=False, adjusted=True, cachename=None)</code> </dt> <dd>
<p>Get historical data for ticker between date1 and date2.</p> <p>See <code>parse_yahoo_historical()</code> for explanation of output formats and the <em>asobject</em> and <em>adjusted</em> kwargs.</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ticker</strong> : str</p>  <p>stock ticker</p>  <p><strong>date1</strong> : sequence of form (year, month, day), <a class="reference external" href="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)" target="_blank"><code>datetime</code></a>, or <code>date</code></p>  <p>start date</p>  <p><strong>date2</strong> : sequence of form (year, month, day), <a class="reference external" href="https://docs.python.org/2/library/datetime.html#module-datetime" title="(in Python v2.7)" target="_blank"><code>datetime</code></a>, or <code>date</code></p>  <p>end date</p>  <p><strong>cachename</strong> : str or <a class="reference external" href="https://docs.python.org/2/library/constants.html#None" title="(in Python v2.7)" target="_blank"><code>None</code></a></p>  <p>is the name of the local file cache. If None, will default to the md5 hash or the url (which incorporates the ticker and date range)</p>  </td> </tr>  </table> <h4 class="rubric">Examples</h4> <pre data-language="python">&gt;&gt;&gt; sp = f.quotes_historical_yahoo_ohlc('^GSPC', d1, d2,
                         asobject=True, adjusted=True)
&gt;&gt;&gt; returns = (sp.open[1:] - sp.open[:-1])/sp.open[1:]
&gt;&gt;&gt; [n,bins,patches] = hist(returns, 100)
&gt;&gt;&gt; mu = mean(returns)
&gt;&gt;&gt; sigma = std(returns)
&gt;&gt;&gt; x = normpdf(bins, mu, sigma)
&gt;&gt;&gt; plot(bins, x, color='red', lw=2)
</pre> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.volume_overlay">
<code>matplotlib.finance.volume_overlay(ax, opens, closes, volumes, colorup='k', colordown='r', width=4, alpha=1.0)</code> </dt> <dd>
<p>Add a volume overlay to the current axes. The opens and closes are used to determine the color of the bar. -1 is missing. If a value is missing on one it must be missing on all</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>opens</strong> : sequence</p>  <p>a sequence of opens</p>  <p><strong>closes</strong> : sequence</p>  <p>a sequence of closes</p>  <p><strong>volumes</strong> : sequence</p>  <p>a sequence of volumes</p>  <p><strong>width</strong> : int</p>  <p>the bar width in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  <p><strong>alpha</strong> : float</p>  <p>bar transparency</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : <code>barCollection</code></p>  <p>The <code>barrCollection</code> added to the axes</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.volume_overlay2">
<code>matplotlib.finance.volume_overlay2(ax, closes, volumes, colorup='k', colordown='r', width=4, alpha=1.0)</code> </dt> <dd>
<p>Add a volume overlay to the current axes. The closes are used to determine the color of the bar. -1 is missing. If a value is missing on one it must be missing on all</p> <p>nb: first point is not displayed - it is used only for choosing the right color</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>closes</strong> : sequence</p>  <p>a sequence of closes</p>  <p><strong>volumes</strong> : sequence</p>  <p>a sequence of volumes</p>  <p><strong>width</strong> : int</p>  <p>the bar width in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close &gt;= open</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close &lt; open</p>  <p><strong>alpha</strong> : float</p>  <p>bar transparency</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : <code>barCollection</code></p>  <p>The <code>barrCollection</code> added to the axes</p>  </td> </tr>  </table> </dd>
</dl> <dl class="function"> <dt id="matplotlib.finance.volume_overlay3">
<code>matplotlib.finance.volume_overlay3(ax, quotes, colorup='k', colordown='r', width=4, alpha=1.0)</code> </dt> <dd>
<p>Add a volume overlay to the current axes. quotes is a list of (d, open, high, low, close, volume) and close-open is used to determine the color of the bar</p> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body">  <tr>
<th class="field-name">Parameters:</th>
<td class="field-body">
<p class="first"><strong>ax</strong> : <code>Axes</code></p>  <p>an Axes instance to plot to</p>  <p><strong>quotes</strong> : sequence of (time, open, high, low, close, …) sequences</p>  <p>data to plot. time must be in float date format - see date2num</p>  <p><strong>width</strong> : int</p>  <p>the bar width in points</p>  <p><strong>colorup</strong> : color</p>  <p>the color of the lines where close1 &gt;= close0</p>  <p><strong>colordown</strong> : color</p>  <p>the color of the lines where close1 &lt; close0</p>  <p><strong>alpha</strong> : float</p>  <p>bar transparency</p>  </td> </tr> <tr>
<th class="field-name">Returns:</th>
<td class="field-body">
<p class="first"><strong>ret</strong> : <code>barCollection</code></p>  <p>The <code>barrCollection</code> added to the axes</p>  </td> </tr>  </table> </dd>
</dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 Matplotlib Development Team. All rights reserved.<br>Licensed under the Matplotlib License Agreement.<br>
    <a href="http://matplotlib.org/2.1.0/api/finance_api.html" class="_attribution-link" target="_blank">http://matplotlib.org/2.1.0/api/finance_api.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
