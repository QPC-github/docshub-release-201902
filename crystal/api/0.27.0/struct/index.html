
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Struct - Crystal - W3cubDocs</title>
  
  <meta name="description" content=" Struct is the base type of structs you create in your program. It is set as a struct&#39;s superstruct when you don&#39;t specify one&#58; ">
  <meta name="keywords" content="abstract, struct, -, crystal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/crystal/api/0.27.0/struct/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/crystal.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/crystal/" class="_nav-link" title="" style="margin-left:0;">Crystal</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _crystal">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 class="type-name"> abstract struct Struct </h1> <ul class="superclass-hierarchy">
<li class="superclass"><a href="../struct/">Struct</a></li>
<li class="superclass"><a href="../value/">Value</a></li>
<li class="superclass"><a href="../object/">Object</a></li>
</ul> <h2>Overview</h2> <p><code><a href="../struct/">Struct</a></code> is the base type of structs you create in your program. It is set as a struct's superstruct when you don't specify one:</p> <pre data-language="crystal">struct Foo # &lt; Struct
end</pre> <p>Structs inherit from <code><a href="../value/">Value</a></code> so they are allocated on the stack and passed by value. For this reason you should prefer using structs for immutable data types and/or stateless wrappers of other types.</p> <p>Mutable structs are still allowed, but code involving them must remember that passing a struct to a method actually passes a copy to it, so the method should return the modified struct:</p> <pre data-language="crystal">struct Mutable
  property value

  def initialize(@value : Int32)
  end
end

def change_bad(mutable)
  mutable.value = 2
end

def change_good(mutable)
  mutable.value = 2
  mutable
end

mut = Mutable.new 1
change_bad(mut)
mut.value # =&gt; 1

mut = change_good(mut)
mut.value # =&gt; 2</pre> <p>The standard library provides a useful <code><a href="../toplevel/#record%28name%2C%2Aproperties%29-macro">record</a></code> macro that allows you to create immutable structs with some fields, similar to a <code><a href="../tuple/">Tuple</a></code> but using names instead of indices.</p> <h2>Direct Known Subclasses</h2> <ul class="other-types-list"> <li class="other-type"><a href="../atomic/">Atomic(T)</a></li> <li class="other-type"><a href="../bitarray/">BitArray</a></li> <li class="other-type"><a href="../callstack/repeatedframe/">CallStack::RepeatedFrame</a></li> <li class="other-type"><a href="../char/reader/">Char::Reader</a></li> <li class="other-type"><a href="../colorize/color256/">Colorize::Color256</a></li> <li class="other-type"><a href="../colorize/colorrgb/">Colorize::ColorRGB</a></li> <li class="other-type"><a href="../colorize/object/">Colorize::Object(T)</a></li> <li class="other-type"><a href="../complex/">Complex</a></li> <li class="other-type"><a href="../crystal/event/dnsbase/">Crystal::Event::DnsBase</a></li> <li class="other-type"><a href="../crystal/event/dnsbase/getaddrinforequest/">Crystal::Event::DnsBase::GetAddrInfoRequest</a></li> <li class="other-type"><a href="../csv/builder/row/">CSV::Builder::Row</a></li> <li class="other-type"><a href="../csv/row/">CSV::Row</a></li> <li class="other-type"><a href="../csv/token/">CSV::Token</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/Abbrev.html" target="_blank">Debug::DWARF::Abbrev</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/Abbrev/Attribute.html" target="_blank">Debug::DWARF::Abbrev::Attribute</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/Info.html" target="_blank">Debug::DWARF::Info</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/LineNumbers.html" target="_blank">Debug::DWARF::LineNumbers</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/LineNumbers/Register.html" target="_blank">Debug::DWARF::LineNumbers::Register</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/LineNumbers/Row.html" target="_blank">Debug::DWARF::LineNumbers::Row</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/LineNumbers/Sequence.html" target="_blank">Debug::DWARF::LineNumbers::Sequence</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/DWARF/Strings.html" target="_blank">Debug::DWARF::Strings</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/ELF.html" target="_blank">Debug::ELF</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/ELF/Ident.html" target="_blank">Debug::ELF::Ident</a></li> <li class="other-type"><a href="https://crystal-lang.org/api/0.27.0/Debug/ELF/SectionHeader.html" target="_blank">Debug::ELF::SectionHeader</a></li> <li class="other-type"><a href="../dir/globber/constantdirectory/">Dir::Globber::ConstantDirectory</a></li> <li class="other-type"><a href="../dir/globber/constantentry/">Dir::Globber::ConstantEntry</a></li> <li class="other-type"><a href="../dir/globber/directoriesonly/">Dir::Globber::DirectoriesOnly</a></li> <li class="other-type"><a href="../dir/globber/directorymatch/">Dir::Globber::DirectoryMatch</a></li> <li class="other-type"><a href="../dir/globber/entrymatch/">Dir::Globber::EntryMatch</a></li> <li class="other-type"><a href="../dir/globber/recursivedirectories/">Dir::Globber::RecursiveDirectories</a></li> <li class="other-type"><a href="../dir/globber/rootdirectory/">Dir::Globber::RootDirectory</a></li> <li class="other-type"><a href="../enumerable/chunk/alone/">Enumerable::Chunk::Alone</a></li> <li class="other-type"><a href="../enumerable/chunk/drop/">Enumerable::Chunk::Drop</a></li> <li class="other-type"><a href="../file/info/">File::Info</a></li> <li class="other-type"><a href="../float/printer/cachedpowers/power/">Float::Printer::CachedPowers::Power</a></li> <li class="other-type"><a href="../float/printer/diyfp/">Float::Printer::DiyFP</a></li> <li class="other-type"><a href="../gc/stats/">GC::Stats</a></li> <li class="other-type"><a href="http/computedcontenttypeheader" target="_blank">HTTP::ComputedContentTypeHeader</a></li> <li class="other-type"><a href="http/formdata/filemetadata" target="_blank">HTTP::FormData::FileMetadata</a></li> <li class="other-type"><a href="http/formdata/part" target="_blank">HTTP::FormData::Part</a></li> <li class="other-type"><a href="http/headers" target="_blank">HTTP::Headers</a></li> <li class="other-type"><a href="http/params" target="_blank">HTTP::Params</a></li> <li class="other-type"><a href="http/staticfilehandler/directorylisting" target="_blank">HTTP::StaticFileHandler::DirectoryListing</a></li> <li class="other-type"><a href="http/websocket/protocol/packetinfo" target="_blank">HTTP::WebSocket::Protocol::PacketInfo</a></li> <li class="other-type"><a href="../io/encodingoptions/">IO::EncodingOptions</a></li> <li class="other-type"><a href="../json/any/">JSON::Any</a></li> <li class="other-type"><a href="../json/builder/arraystate/">JSON::Builder::ArrayState</a></li> <li class="other-type"><a href="../json/builder/documentendstate/">JSON::Builder::DocumentEndState</a></li> <li class="other-type"><a href="../json/builder/documentstartstate/">JSON::Builder::DocumentStartState</a></li> <li class="other-type"><a href="../json/builder/objectstate/">JSON::Builder::ObjectState</a></li> <li class="other-type"><a href="../json/builder/startstate/">JSON::Builder::StartState</a></li> <li class="other-type"><a href="../llvm/abi/argtype/">LLVM::ABI::ArgType</a></li> <li class="other-type"><a href="../llvm/basicblock/">LLVM::BasicBlock</a></li> <li class="other-type"><a href="../llvm/basicblockcollection/">LLVM::BasicBlockCollection</a></li> <li class="other-type"><a href="../llvm/dibuilder/">LLVM::DIBuilder</a></li> <li class="other-type"><a href="../llvm/function/">LLVM::Function</a></li> <li class="other-type"><a href="../llvm/functioncollection/">LLVM::FunctionCollection</a></li> <li class="other-type"><a href="../llvm/functionpassmanager/runner/">LLVM::FunctionPassManager::Runner</a></li> <li class="other-type"><a href="../llvm/globalcollection/">LLVM::GlobalCollection</a></li> <li class="other-type"><a href="../llvm/instructioncollection/">LLVM::InstructionCollection</a></li> <li class="other-type"><a href="../llvm/operandbundledef/">LLVM::OperandBundleDef</a></li> <li class="other-type"><a href="../llvm/parametercollection/">LLVM::ParameterCollection</a></li> <li class="other-type"><a href="../llvm/passregistry/">LLVM::PassRegistry</a></li> <li class="other-type"><a href="../llvm/phitable/">LLVM::PhiTable</a></li> <li class="other-type"><a href="../llvm/target/">LLVM::Target</a></li> <li class="other-type"><a href="../llvm/targetdata/">LLVM::TargetData</a></li> <li class="other-type"><a href="../llvm/type/">LLVM::Type</a></li> <li class="other-type"><a href="../llvm/value/">LLVM::Value</a></li> <li class="other-type"><a href="../markdown/parser/codefence/">Markdown::Parser::CodeFence</a></li> <li class="other-type"><a href="../markdown/parser/prefixheader/">Markdown::Parser::PrefixHeader</a></li> <li class="other-type"><a href="../markdown/parser/unorderedlist/">Markdown::Parser::UnorderedList</a></li> <li class="other-type"><a href="../pointer/appender/">Pointer::Appender(T)</a></li> <li class="other-type"><a href="../process/tms/">Process::Tms</a></li> <li class="other-type"><a href="../range/">Range(B, E)</a></li> <li class="other-type"><a href="../reflect/">Reflect(X)</a></li> <li class="other-type"><a href="../regex/matchdata/">Regex::MatchData</a></li> <li class="other-type"><a href="../set/">Set(T)</a></li> <li class="other-type"><a href="../slice/">Slice(T)</a></li> <li class="other-type"><a href="../socket/address/">Socket::Address</a></li> <li class="other-type"><a href="../socket/addrinfo/">Socket::Addrinfo</a></li> <li class="other-type"><a href="../string/formatter/flags/">String::Formatter::Flags</a></li> <li class="other-type"><a href="../time/">Time</a></li> <li class="other-type"><a href="../time/format/">Time::Format</a></li> <li class="other-type"><a href="../time/location/zone/">Time::Location::Zone</a></li> <li class="other-type"><a href="../time/monthspan/">Time::MonthSpan</a></li> <li class="other-type"><a href="../time/span/">Time::Span</a></li> <li class="other-type"><a href="../uuid/">UUID</a></li> <li class="other-type"><a href="../valist/">VaList</a></li> <li class="other-type"><a href="../xml/attributes/">XML::Attributes</a></li> <li class="other-type"><a href="../xml/builder/">XML::Builder</a></li> <li class="other-type"><a href="../xml/namespace/">XML::Namespace</a></li> <li class="other-type"><a href="../xml/node/">XML::Node</a></li> <li class="other-type"><a href="../xml/nodeset/">XML::NodeSet</a></li> <li class="other-type"><a href="../xml/reader/">XML::Reader</a></li> <li class="other-type"><a href="../xml/xpathcontext/">XML::XPathContext</a></li> <li class="other-type"><a href="../yaml/any/">YAML::Any</a></li> </ul> <h2>Defined in:</h2> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/struct.cr#L45" target="_blank"> struct.cr </a> <br> <h2>Instance Method Summary</h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#%3D%3D%28other%29%3ABool-instance-method" class="signature"><strong>#==</strong>(other) : Bool</a> <div class="summary"><p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p></div> </li> <li class="entry-summary"> <a href="#hash%28hasher%29-instance-method" class="signature"><strong>#hash</strong>(hasher)</a> <div class="summary"><p>See <code><a href="../object/#hash%28hasher%29-instance-method">Object#hash(hasher)</a></code></p></div> </li> <li class="entry-summary"> <a href="#inspect%28io%3AIO%29%3ANil-instance-method" class="signature"><strong>#inspect</strong>(io : IO) : Nil</a> <div class="summary"><p>Appends this struct's name and instance variables names and values to the given IO.</p></div> </li> <li class="entry-summary"> <a href="#pretty_print%28pp%29%3ANil-instance-method" class="signature"><strong>#pretty_print</strong>(pp) : Nil</a> </li> <li class="entry-summary"> <a href="#to_s%28io%29-instance-method" class="signature"><strong>#to_s</strong>(io)</a> <div class="summary"><p>Same as <code><a href="../struct/#inspect%28io%3AIO%29%3ANil-instance-method">#inspect(io)</a></code>.</p></div> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from struct <code><a href="../value/">Value</a></code>
</h3> <a href="../value/#%3D%3D%28other%3AJSON%3A%3AAny%29-instance-method" class="tooltip"> ==(other : JSON::Any)<br>==(other : YAML::Any)<br>==(other) ==</a>, <a href="../value/#dup-instance-method" class="tooltip"> dup dup</a> <h3>Instance methods inherited from class <code><a href="../object/">Object</a></code>
</h3> <a href="../object/#%21%3D%28other%29-instance-method" class="tooltip"> !=(other) !=</a>, <a href="../object/#%21~%28other%29-instance-method" class="tooltip"> !~(other) !~</a>, <a href="../object/#%3D%3D%28other%29-instance-method" class="tooltip"> ==(other) ==</a>, <a href="../object/#%3D%3D%3D%28other%3AJSON%3A%3AAny%29-instance-method" class="tooltip"> ===(other : JSON::Any)<br>===(other : YAML::Any)<br>===(other) ===</a>, <a href="../object/#%3D~%28other%29-instance-method" class="tooltip"> =~(other) =~</a>, <a href="../object/#class-instance-method" class="tooltip"> class class</a>, <a href="../object/#dup-instance-method" class="tooltip"> dup dup</a>, <a href="../object/#hash%28hasher%29-instance-method" class="tooltip"> hash(hasher)<br>hash hash</a>, <a href="../object/#inspect%28io%3AIO%29-instance-method" class="tooltip"> inspect(io : IO)<br>inspect inspect</a>, <a href="../object/#itself-instance-method" class="tooltip"> itself itself</a>, <a href="../object/#not_nil%21-instance-method" class="tooltip"> not_nil! not_nil!</a>, <a href="../object/#pretty_inspect%28width%3D79%2Cnewline%3D%26quot%3B%5Cn%26quot%3B%2Cindent%3D0%29%3AString-instance-method" class="tooltip"> pretty_inspect(width = 79, newline = "\n", indent = 0) : String pretty_inspect</a>, <a href="../object/#pretty_print%28pp%3APrettyPrint%29%3ANil-instance-method" class="tooltip"> pretty_print(pp : PrettyPrint) : Nil pretty_print</a>, <a href="../object/#tap%28%26block%29-instance-method" class="tooltip"> tap(&amp;block) tap</a>, <a href="../object/#to_json%28io%3AIO%29-instance-method" class="tooltip"> to_json(io : IO)<br>to_json to_json</a>, <a href="../object/#to_pretty_json%28indent%3AString%3D%26quot%3B%26quot%3B%29-instance-method" class="tooltip"> to_pretty_json(indent : String = " ")<br>to_pretty_json(io : IO, indent : String = " ") to_pretty_json</a>, <a href="../object/#to_s-instance-method" class="tooltip"> to_s<br>to_s(io : IO) to_s</a>, <a href="../object/#to_yaml%28io%3AIO%29-instance-method" class="tooltip"> to_yaml(io : IO)<br>to_yaml to_yaml</a>, <a href="../object/#try%28%26block%29-instance-method" class="tooltip"> try(&amp;block) try</a>, <a href="../object/#unsafe_as%28type%3AT.class%29forallT-instance-method" class="tooltip"> unsafe_as(type : T.class) forall T unsafe_as</a> <h3>Constructor methods inherited from class <code><a href="../object/">Object</a></code>
</h3> <a href="../object/#from_json%28string_or_io%2Croot%3AString%29%3Aself-class-method" class="tooltip"> from_json(string_or_io, root : String) : self<br>from_json(string_or_io) : self from_json</a>, <a href="../object/#from_yaml%28string_or_io%3AString%7CIO%29%3Aself-class-method" class="tooltip"> from_yaml(string_or_io : String | IO) : self from_yaml</a> </div> <h2>Instance Method Detail</h2> <div class="entry-detail" id="==(other):Bool-instance-method"> <h3 class="signature">def <strong>==</strong>(other) : <a href="../bool/">Bool</a><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/struct.cr#L66" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns <code>true</code> if this struct is equal to <em>other</em>.</p> <p>Both structs's instance vars are compared to each other. Thus, two structs are considered equal if each of their instance variables are equal. Subclasses should override this method to provide specific equality semantics.</p> <pre data-language="crystal">struct Point
  def initialize(@x : Int32, @y : Int32)
  end
end

p1 = Point.new 1, 2
p2 = Point.new 1, 2
p3 = Point.new 3, 4

p1 == p2 # =&gt; true
p1 == p3 # =&gt; false</pre>
</div>   </div> <div class="entry-detail" id="hash(hasher)-instance-method"> <h3 class="signature">def <strong>hash</strong>(hasher)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/struct.cr#L79" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>See <code><a href="../object/#hash%28hasher%29-instance-method">Object#hash(hasher)</a></code></p></div>   </div> <div class="entry-detail" id="inspect(io:IO):Nil-instance-method"> <h3 class="signature">def <strong>inspect</strong>(io : <a href="../io/">IO</a>) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/struct.cr#L99" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Appends this struct's name and instance variables names and values to the given IO.</p> <pre data-language="crystal">struct Point
  def initialize(@x : Int32, @y : Int32)
  end
end

p1 = Point.new 1, 2
p1.to_s    # "Point(@x=1, @y=2)"
p1.inspect # "Point(@x=1, @y=2)"</pre>
</div>   </div> <div class="entry-detail" id="pretty_print(pp):Nil-instance-method"> <h3 class="signature">def <strong>pretty_print</strong>(pp) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/struct.cr#L112" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_s(io)-instance-method"> <h3 class="signature">def <strong>to_s</strong>(io)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/struct.cr#L135" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Same as <code><a href="../struct/#inspect%28io%3AIO%29%3ANil-instance-method">#inspect(io)</a></code>.</p></div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/0.27.0/Struct.html" class="_attribution-link" target="_blank">https://crystal-lang.org/api/0.27.0/Struct.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
