
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Object - Crystal - W3cubDocs</title>
  
  <meta name="description" content=" Object is the base type of all Crystal objects. ">
  <meta name="keywords" content="abstract, class, object, -, crystal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/crystal/api/0.27.0/object/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/crystal.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/crystal/" class="_nav-link" title="" style="margin-left:0;">Crystal</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _crystal">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 class="type-name"> abstract class Object </h1> <h2>Overview</h2> <p><code><a href="../object/">Object</a></code> is the base type of all Crystal objects.</p> <h2>Included Modules</h2> <ul class="other-types-list"> <li class="other-type"><a href="../colorize/objectextensions/">Colorize::ObjectExtensions</a></li> <li class="other-type"><a href="../spec/objectextensions/">Spec::ObjectExtensions</a></li> </ul> <h2>Direct Known Subclasses</h2> <ul class="other-types-list"> <li class="other-type"><a href="../reference/">Reference</a></li> <li class="other-type"><a href="../value/">Value</a></li> </ul> <h2>Defined in:</h2> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L2" target="_blank"> object.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/primitives.cr#L9" target="_blank"> primitives.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/any.cr#L290" target="_blank"> json/any.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/to_json.cr#L1" target="_blank"> json/to_json.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/colorize.cr#L137" target="_blank"> colorize.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/spec/expectations.cr#L437" target="_blank"> spec/expectations.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/yaml/any.cr#L301" target="_blank"> yaml/any.cr </a> <br> <a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/yaml/to_yaml.cr#L1" target="_blank"> yaml/to_yaml.cr </a> <br> <h2>Constructors</h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#from_json%28string_or_io%2Croot%3AString%29%3Aself-class-method" class="signature"><strong>.from_json</strong>(string_or_io, root : String) : self</a> <div class="summary"><p>Deserializes the given JSON in <em>string_or_io</em> into an instance of <code>self</code>, assuming the JSON consists of an JSON object with key <em>root</em>, and whose value is the value to deserialize.</p></div> </li> <li class="entry-summary"> <a href="#from_json%28string_or_io%29%3Aself-class-method" class="signature"><strong>.from_json</strong>(string_or_io) : self</a> <div class="summary"><p>Deserializes the given JSON in <em>string_or_io</em> into an instance of <code>self</code>.</p></div> </li> <li class="entry-summary"> <a href="#from_yaml%28string_or_io%3AString%7CIO%29%3Aself-class-method" class="signature"><strong>.from_yaml</strong>(string_or_io : String | IO) : self</a> </li> </ul> <h2>Instance Method Summary</h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#%21%3D%28other%29-instance-method" class="signature"><strong>#!=</strong>(other)</a> <div class="summary"><p>Returns <code>true</code> if this object is not equal to <em>other</em>.</p></div> </li> <li class="entry-summary"> <a href="#%21~%28other%29-instance-method" class="signature"><strong>#!~</strong>(other)</a> <div class="summary"><p>Shortcut to <code>!(self =~ other)</code>.</p></div> </li> <li class="entry-summary"> <a href="#%3D%3D%28other%29-instance-method" class="signature"><strong>#==</strong>(other)</a> <div class="summary"><p>Returns <code>true</code> if this object is equal to <em>other</em>.</p></div> </li> <li class="entry-summary"> <a href="#%3D%3D%3D%28other%3AJSON%3A%3AAny%29-instance-method" class="signature"><strong>#===</strong>(other : JSON::Any)</a> </li> <li class="entry-summary"> <a href="#%3D%3D%3D%28other%3AYAML%3A%3AAny%29-instance-method" class="signature"><strong>#===</strong>(other : YAML::Any)</a> </li> <li class="entry-summary"> <a href="#%3D%3D%3D%28other%29-instance-method" class="signature"><strong>#===</strong>(other)</a> <div class="summary"><p>Case equality.</p></div> </li> <li class="entry-summary"> <a href="#%3D~%28other%29-instance-method" class="signature"><strong>#=~</strong>(other)</a> <div class="summary"><p>Pattern match.</p></div> </li> <li class="entry-summary"> <a href="#class-instance-method" class="signature"><strong>#class</strong></a> <div class="summary"><p>Returns the <strong>runtime</strong> <code><a href="../class/">Class</a></code> of an object.</p></div> </li> <li class="entry-summary"> <a href="#dup-instance-method" class="signature"><strong>#dup</strong></a> <div class="summary"><p>Returns a shallow copy of this object.</p></div> </li> <li class="entry-summary"> <a href="#hash%28hasher%29-instance-method" class="signature"><strong>#hash</strong>(hasher)</a> <div class="summary"><p>Appends this object's value to <em>hasher</em>, and returns the modified <em>hasher</em>.</p></div> </li> <li class="entry-summary"> <a href="#hash-instance-method" class="signature"><strong>#hash</strong></a> <div class="summary"><p>Generates an <code><a href="../uint64/">UInt64</a></code> hash value for this object.</p></div> </li> <li class="entry-summary"> <a href="#inspect%28io%3AIO%29-instance-method" class="signature"><strong>#inspect</strong>(io : IO)</a> <div class="summary"><p>Appends a string representation of this object to the given <code><a href="../io/">IO</a></code> object.</p></div> </li> <li class="entry-summary"> <a href="#inspect-instance-method" class="signature"><strong>#inspect</strong></a> <div class="summary"><p>Returns a <code><a href="../string/">String</a></code> representation of this object.</p></div> </li> <li class="entry-summary"> <a href="#itself-instance-method" class="signature"><strong>#itself</strong></a> <div class="summary"><p>Returns <code>self</code>.</p></div> </li> <li class="entry-summary"> <a href="#not_nil%21-instance-method" class="signature"><strong>#not_nil!</strong></a> <div class="summary"><p>Returns <code>self</code>.</p></div> </li> <li class="entry-summary"> <a href="#pretty_inspect%28width%3D79%2Cnewline%3D%26quot%3B%5Cn%26quot%3B%2Cindent%3D0%29%3AString-instance-method" class="signature"><strong>#pretty_inspect</strong>(width = 79, newline = "\n", indent = 0) : String</a> <div class="summary"><p>Returns a pretty printed version of <code>self</code>.</p></div> </li> <li class="entry-summary"> <a href="#pretty_print%28pp%3APrettyPrint%29%3ANil-instance-method" class="signature"><strong>#pretty_print</strong>(pp : PrettyPrint) : Nil</a> <div class="summary"><p>Pretty prints <code>self</code> into the given printer.</p></div> </li> <li class="entry-summary"> <a href="#tap%28%26block%29-instance-method" class="signature"><strong>#tap</strong>(&amp;block)</a> <div class="summary"><p>Yields <code>self</code> to the block, and then returns <code>self</code>.</p></div> </li> <li class="entry-summary"> <a href="#to_json%28io%3AIO%29-instance-method" class="signature"><strong>#to_json</strong>(io : IO)</a> </li> <li class="entry-summary"> <a href="#to_json-instance-method" class="signature"><strong>#to_json</strong></a> </li> <li class="entry-summary"> <a href="#to_pretty_json%28indent%3AString%3D%26quot%3B%26quot%3B%29-instance-method" class="signature"><strong>#to_pretty_json</strong>(indent : String = " ")</a> </li> <li class="entry-summary"> <a href="#to_pretty_json%28io%3AIO%2Cindent%3AString%3D%26quot%3B%26quot%3B%29-instance-method" class="signature"><strong>#to_pretty_json</strong>(io : IO, indent : String = " ")</a> </li> <li class="entry-summary"> <a href="#to_s-instance-method" class="signature"><strong>#to_s</strong></a> <div class="summary"><p>Returns a string representation of this object.</p></div> </li> <li class="entry-summary"> <a href="#to_s%28io%3AIO%29-instance-method" class="signature"><strong>#to_s</strong>(io : IO)</a> <div class="summary"><p>Appends a <code><a href="../string/">String</a></code> representation of this object to the given <code><a href="../io/">IO</a></code> object.</p></div> </li> <li class="entry-summary"> <a href="#to_yaml%28io%3AIO%29-instance-method" class="signature"><strong>#to_yaml</strong>(io : IO)</a> </li> <li class="entry-summary"> <a href="#to_yaml-instance-method" class="signature"><strong>#to_yaml</strong></a> </li> <li class="entry-summary"> <a href="#try%28%26block%29-instance-method" class="signature"><strong>#try</strong>(&amp;block)</a> <div class="summary"><p>Yields <code>self</code>.</p></div> </li> <li class="entry-summary"> <a href="#unsafe_as%28type%3AT.class%29forallT-instance-method" class="signature"><strong>#unsafe_as</strong>(type : T.class) forall T</a> <div class="summary"><p>Unsafely reinterprets the bytes of an object as being of another <code>type</code>.</p></div> </li> </ul> <h2>Macro Summary</h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#class_getter%28%2Anames%29-macro" class="signature"><strong>class_getter</strong>(*names)</a> <div class="summary"><p>Defines getter methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#class_getter%21%28%2Anames%29-macro" class="signature"><strong>class_getter!</strong>(*names)</a> <div class="summary"><p>Defines raise-on-nil and nilable getter methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#class_getter%3F%28%2Anames%29-macro" class="signature"><strong>class_getter?</strong>(*names)</a> <div class="summary"><p>Defines query getter methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#class_property%28%2Anames%29-macro" class="signature"><strong>class_property</strong>(*names)</a> <div class="summary"><p>Defines property methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#class_property%21%28%2Anames%29-macro" class="signature"><strong>class_property!</strong>(*names)</a> <div class="summary"><p>Defines raise-on-nil property methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#class_property%3F%28%2Anames%29-macro" class="signature"><strong>class_property?</strong>(*names)</a> <div class="summary"><p>Defines query property methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#class_setter%28%2Anames%29-macro" class="signature"><strong>class_setter</strong>(*names)</a> <div class="summary"><p>Defines setter methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#def_clone-macro" class="signature"><strong>def_clone</strong></a> <div class="summary"><p>Defines a <code>clone</code> method that returns a copy of this object with all instance variables cloned (<code>clone</code> is in turn invoked on them).</p></div> </li> <li class="entry-summary"> <a href="#def_equals%28%2Afields%29-macro" class="signature"><strong>def_equals</strong>(*fields)</a> <div class="summary"><p>Defines an <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code> method by comparing the given fields.</p></div> </li> <li class="entry-summary"> <a href="#def_equals_and_hash%28%2Afields%29-macro" class="signature"><strong>def_equals_and_hash</strong>(*fields)</a> <div class="summary"><p>Defines <code><a href="../object/#hash-instance-method">#hash</a></code> and <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code> method from the given fields.</p></div> </li> <li class="entry-summary"> <a href="#def_hash%28%2Afields%29-macro" class="signature"><strong>def_hash</strong>(*fields)</a> <div class="summary"><p>Defines a <code><a href="../object/#hash%28hasher%29-instance-method">#hash(hasher)</a></code> that will append a hash value for the given fields.</p></div> </li> <li class="entry-summary"> <a href="#delegate%28%2Amethods%2Ctoobject%29-macro" class="signature"><strong>delegate</strong>(*methods, to object)</a> <div class="summary"><p>Delegate <em>methods</em> to <em>to</em>.</p></div> </li> <li class="entry-summary"> <a href="#forward_missing_to%28delegate%29-macro" class="signature"><strong>forward_missing_to</strong>(delegate)</a> <div class="summary"><p>Forwards missing methods to <em>delegate</em>.</p></div> </li> <li class="entry-summary"> <a href="#getter%28%2Anames%29-macro" class="signature"><strong>getter</strong>(*names)</a> <div class="summary"><p>Defines getter methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#getter%21%28%2Anames%29-macro" class="signature"><strong>getter!</strong>(*names)</a> <div class="summary"><p>Defines raise-on-nil and nilable getter methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#getter%3F%28%2Anames%29-macro" class="signature"><strong>getter?</strong>(*names)</a> <div class="summary"><p>Defines query getter methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#property%28%2Anames%29-macro" class="signature"><strong>property</strong>(*names)</a> <div class="summary"><p>Defines property methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#property%21%28%2Anames%29-macro" class="signature"><strong>property!</strong>(*names)</a> <div class="summary"><p>Defines raise-on-nil property methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#property%3F%28%2Anames%29-macro" class="signature"><strong>property?</strong>(*names)</a> <div class="summary"><p>Defines query property methods for each of the given arguments.</p></div> </li> <li class="entry-summary"> <a href="#setter%28%2Anames%29-macro" class="signature"><strong>setter</strong>(*names)</a> <div class="summary"><p>Defines setter methods for each of the given arguments.</p></div> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from module <code><a href="../spec/objectextensions/">Spec::ObjectExtensions</a></code>
</h3> <a href="../spec/objectextensions/#should%28expectation%2Cfile%3D__FILE__%2Cline%3D__LINE__%29-instance-method" class="tooltip"> should(expectation, file = __FILE__, line = __LINE__) should</a>, <a href="../spec/objectextensions/#should_not%28expectation%2Cfile%3D__FILE__%2Cline%3D__LINE__%29-instance-method" class="tooltip"> should_not(expectation, file = __FILE__, line = __LINE__) should_not</a> <h3>Instance methods inherited from module <code><a href="../colorize/objectextensions/">Colorize::ObjectExtensions</a></code>
</h3> <a href="../colorize/objectextensions/#colorize%28fore%29-instance-method" class="tooltip"> colorize(fore)<br>colorize colorize</a> </div> <h2>Constructor Detail</h2> <div class="entry-detail" id="from_json(string_or_io,root:String):self-class-method"> <h3 class="signature">def self.<strong>from_json</strong>(string_or_io, root : <a href="../string/">String</a>) : self<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/from_json.cr#L24" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Deserializes the given JSON in <em>string_or_io</em> into an instance of <code>self</code>, assuming the JSON consists of an JSON object with key <em>root</em>, and whose value is the value to deserialize.</p> <pre data-language="crystal">Int32.from_json(%({"main": 1}), root: "main") # =&gt; 1</pre>
</div>   </div> <div class="entry-detail" id="from_json(string_or_io):self-class-method"> <h3 class="signature">def self.<strong>from_json</strong>(string_or_io) : self<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/from_json.cr#L11" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Deserializes the given JSON in <em>string_or_io</em> into an instance of <code>self</code>. This simply creates a <code>parser = <a href="../json/pullparser/">JSON::PullParser</a></code> and invokes <code>new(parser)</code>: classes that want to provide JSON deserialization must provide an <code>def initialize(parser : <a href="../json/pullparser/">JSON::PullParser</a>)</code> method.</p> <pre data-language="crystal">Int32.from_json("1")                # =&gt; 1
Array(Int32).from_json("[1, 2, 3]") # =&gt; [1, 2, 3]</pre>
</div>   </div> <div class="entry-detail" id="from_yaml(string_or_io:String|IO):self-class-method"> <h3 class="signature">def self.<strong>from_yaml</strong>(string_or_io : <a href="../string/">String</a> | <a href="../io/">IO</a>) : self<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/yaml/from_yaml.cr#L1" target="_blank" class="view-source">Source</a>
</h3>   </div> <h2>Instance Method Detail</h2> <div class="entry-detail" id="!=(other)-instance-method"> <h3 class="signature">def <strong>!=</strong>(other)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L13" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns <code>true</code> if this object is not equal to <em>other</em>.</p> <p>By default this method is implemented as <code>!(self == other)</code> so there's no need to override this unless there's a more efficient way to do it.</p>
</div>   </div> <div class="entry-detail" id="!~(other)-instance-method"> <h3 class="signature">def <strong>!~</strong>(other)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L18" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Shortcut to <code>!(self =~ other)</code>.</p></div>   </div> <div class="entry-detail" id="==(other)-instance-method"> <h3 class="signature">abstract def <strong>==</strong>(other)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L6" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns <code>true</code> if this object is equal to <em>other</em>.</p> <p>Subclasses override this method to provide class-specific meaning.</p>
</div>   </div> <div class="entry-detail" id="===(other:JSON::Any)-instance-method"> <h3 class="signature">def <strong>===</strong>(other : <a href="../json/any/">JSON::Any</a>)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/any.cr#L291" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="===(other:YAML::Any)-instance-method"> <h3 class="signature">def <strong>===</strong>(other : <a href="../yaml/any/">YAML::Any</a>)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/yaml/any.cr#L302" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="===(other)-instance-method"> <h3 class="signature">def <strong>===</strong>(other)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L49" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Case equality.</p> <p>The <code><a href="../object/#%3D%3D%3D%28other%3AJSON%3A%3AAny%29-instance-method">#===</a></code> method is used in a <code>case ... when ... end</code> expression.</p> <p>For example, this code:</p> <pre data-language="crystal">case value
when x
  # something when x
when y
  # something when y
end</pre> <p>Is equivalent to this code:</p> <pre data-language="crystal">if x === value
  # something when x
elsif y === value
  # something when y
end</pre> <p>Object simply implements <code><a href="../object/#%3D%3D%3D%28other%3AJSON%3A%3AAny%29-instance-method">#===</a></code> by invoking <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code>, but subclasses (notably <code><a href="../regex/">Regex</a></code>) can override it to provide meaningful case-equality semantics.</p>
</div>   </div> <div class="entry-detail" id="=~(other)-instance-method"> <h3 class="signature">def <strong>=~</strong>(other)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L57" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Pattern match.</p> <p>Overridden by descendants (notably <code><a href="../regex/">Regex</a></code> and <code><a href="../string/">String</a></code>) to provide meaningful pattern-match semantics.</p>
</div>   </div> <div class="entry-detail" id="class-instance-method"> <h3 class="signature">def <strong>class</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/primitives.cr#L27" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns the <strong>runtime</strong> <code><a href="../class/">Class</a></code> of an object.</p> <pre data-language="crystal">1.class       # =&gt; Int32
"hello".class # =&gt; String</pre> <p>Compare it with <code>typeof</code>, which returns the <strong>compile-time</strong> type of an object:</p> <pre data-language="crystal">random_value = rand # =&gt; 0.627423
value = random_value &lt; 0.5 ? 1 : "hello"
value         # =&gt; "hello"
value.class   # =&gt; String
typeof(value) # =&gt; Int32 | String</pre>
</div>   </div> <div class="entry-detail" id="dup-instance-method"> <h3 class="signature">abstract def <strong>dup</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L199" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns a shallow copy of this object.</p> <p>As a convention, <code>clone</code> is the method used to create a deep copy of an object, but this logic isn't defined generically for every type because cycles could be involved, and the clone logic might not need to clone everything.</p> <p>Many types in the standard library, like <code><a href="../array/">Array</a></code>, <code><a href="../hash/">Hash</a></code>, <code><a href="../set/">Set</a></code> and <code><a href="../deque/">Deque</a></code>, and all primitive types, define <code><a href="../object/#dup-instance-method">#dup</a></code> and <code>clone</code>.</p>
</div>   </div> <div class="entry-detail" id="hash(hasher)-instance-method"> <h3 class="signature">abstract def <strong>hash</strong>(hasher)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L74" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Appends this object's value to <em>hasher</em>, and returns the modified <em>hasher</em>.</p> <p>Usually the macro <code><a href="../object/#def_hash%28%2Afields%29-macro">def_hash</a></code> can be used to generate this method. Otherwise, invoke <code><a href="../object/#hash%28hasher%29-instance-method">#hash(hasher)</a></code> on each object's instance variables to accumulate the result:</p> <pre data-language="crystal">def hash(hasher)
  hasher = @some_ivar.hash(hasher)
  hasher = @some_other_ivar.hash(hasher)
  hasher
end</pre>
</div>   </div> <div class="entry-detail" id="hash-instance-method"> <h3 class="signature">def <strong>hash</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L85" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Generates an <code><a href="../uint64/">UInt64</a></code> hash value for this object.</p> <p>This method must have the property that <code>a == b</code> implies <code>a<a href="../object/#hash-instance-method">.hash</a> == b<a href="../object/#hash-instance-method">.hash</a></code>.</p> <p>The hash value is used along with <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code> by the <code><a href="../hash/">Hash</a></code> class to determine if two objects reference the same hash key.</p> <p>Subclasses must not override this method. Instead, they must define <code><a href="../object/#hash%28hasher%29-instance-method">#hash(hasher)</a></code>, though usually the macro <code><a href="../object/#def_hash%28%2Afields%29-macro">def_hash</a></code> can be used to generate this method.</p>
</div>   </div> <div class="entry-detail" id="inspect(io:IO)-instance-method"> <h3 class="signature">def <strong>inspect</strong>(io : <a href="../io/">IO</a>)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L126" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Appends a string representation of this object to the given <code><a href="../io/">IO</a></code> object.</p> <p>Similar to <code><a href="../object/#to_s%28io%3AIO%29-instance-method">#to_s(io)</a></code>, but usually appends more information about this object.</p>
</div>   </div> <div class="entry-detail" id="inspect-instance-method"> <h3 class="signature">def <strong>inspect</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L115" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns a <code><a href="../string/">String</a></code> representation of this object.</p> <p>Similar to <code><a href="../object/#to_s-instance-method">#to_s</a></code>, but usually returns more information about this object.</p> <p>Classes must usually <strong>not</strong> override this method. Instead, they must override <code><a href="../object/#inspect%28io%3AIO%29-instance-method">#inspect(io)</a></code>, which must append to the given <code><a href="../io/">IO</a></code> object.</p>
</div>   </div> <div class="entry-detail" id="itself-instance-method"> <h3 class="signature">def <strong>itself</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L186" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns <code>self</code>.</p> <pre data-language="crystal">str = "hello"
str.itself.object_id == str.object_id # =&gt; true</pre>
</div>   </div> <div class="entry-detail" id="not_nil!-instance-method"> <h3 class="signature">def <strong>not_nil!</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L176" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Returns <code>self</code>. <code><a href="../nil/">Nil</a></code> overrides this method and raises an exception.</p></div>   </div> <div class="entry-detail" id="pretty_inspect(width=79,newline=&amp;quot;\n&amp;quot;,indent=0):String-instance-method"> <h3 class="signature">def <strong>pretty_inspect</strong>(width = 79, newline = "\n", indent = 0) : <a href="../string/">String</a><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L140" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Returns a pretty printed version of <code>self</code>.</p></div>   </div> <div class="entry-detail" id="pretty_print(pp:PrettyPrint):Nil-instance-method"> <h3 class="signature">def <strong>pretty_print</strong>(pp : <a href="../prettyprint/">PrettyPrint</a>) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L135" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Pretty prints <code>self</code> into the given printer.</p> <p>By default appends a text that is the result of invoking <code><a href="../object/#inspect-instance-method">#inspect</a></code> on <code>self</code>. Subclasses should override for custom pretty printing.</p>
</div>   </div> <div class="entry-detail" id="tap(&amp;block)-instance-method"> <h3 class="signature">def <strong>tap</strong>(&amp;block)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L157" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Yields <code>self</code> to the block, and then returns <code>self</code>.</p> <p>The primary purpose of this method is to "tap into" a method chain, in order to perform operations on intermediate results within the chain.</p> <pre data-language="crystal">(1..10).tap { |x| puts "original: #{x.inspect}" }
  .to_a.tap { |x| puts "array: #{x.inspect}" }
  .select { |x| x % 2 == 0 }.tap { |x| puts "evens: #{x.inspect}" }
  .map { |x| x*x }.tap { |x| puts "squares: #{x.inspect}" }</pre>
</div>   </div> <div class="entry-detail" id="to_json(io:IO)-instance-method"> <h3 class="signature">def <strong>to_json</strong>(io : <a href="../io/">IO</a>)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/to_json.cr#L8" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_json-instance-method"> <h3 class="signature">def <strong>to_json</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/to_json.cr#L2" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_pretty_json(indent:String=&amp;quot;&amp;quot;)-instance-method"> <h3 class="signature">def <strong>to_pretty_json</strong>(indent : <a href="../string/">String</a> = " ")<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/to_json.cr#L14" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_pretty_json(io:IO,indent:String=&amp;quot;&amp;quot;)-instance-method"> <h3 class="signature">def <strong>to_pretty_json</strong>(io : <a href="../io/">IO</a>, indent : <a href="../string/">String</a> = " ")<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/json/to_json.cr#L20" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_s-instance-method"> <h3 class="signature">def <strong>to_s</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L94" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns a string representation of this object.</p> <p>Descendants must usually <strong>not</strong> override this method. Instead, they must override <code><a href="../object/#to_s%28io%3AIO%29-instance-method">#to_s(io)</a></code>, which must append to the given IO object.</p>
</div>   </div> <div class="entry-detail" id="to_s(io:IO)-instance-method"> <h3 class="signature">abstract def <strong>to_s</strong>(io : <a href="../io/">IO</a>)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L105" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Appends a <code><a href="../string/">String</a></code> representation of this object to the given <code><a href="../io/">IO</a></code> object.</p> <p>An object must never append itself to the io argument, as this will in turn call <code><a href="../object/#to_s%28io%3AIO%29-instance-method">#to_s(io)</a></code> on it.</p>
</div>   </div> <div class="entry-detail" id="to_yaml(io:IO)-instance-method"> <h3 class="signature">def <strong>to_yaml</strong>(io : <a href="../io/">IO</a>)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/yaml/to_yaml.cr#L8" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="to_yaml-instance-method"> <h3 class="signature">def <strong>to_yaml</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/yaml/to_yaml.cr#L2" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="try(&amp;block)-instance-method"> <h3 class="signature">def <strong>try</strong>(&amp;block)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L171" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Yields <code>self</code>. <code><a href="../nil/">Nil</a></code> overrides this method and doesn't yield.</p> <p>This method is useful for dealing with nilable types, to safely perform operations only when the value is not <code>nil</code>.</p> <pre data-language="crystal"># First program argument in downcase, or nil
ARGV[0]?.try &amp;.downcase</pre>
</div>   </div> <div class="entry-detail" id="unsafe_as(type:T.class)forallT-instance-method"> <h3 class="signature">def <strong>unsafe_as</strong>(type : T.class) forall T<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L225" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Unsafely reinterprets the bytes of an object as being of another <code>type</code>.</p> <p>This method is useful to treat a type that is represented as a chunk of bytes as another type where those bytes convey useful information. As an example, you can check the individual bytes of an <code><a href="../int32/">Int32</a></code>:</p> <pre data-language="crystal">0x01020304.unsafe_as(StaticArray(UInt8, 4)) # =&gt; StaticArray[4, 3, 2, 1]</pre> <p>Or treat the bytes of a <code><a href="../float64/">Float64</a></code> as an <code><a href="../int64/">Int64</a></code>:</p> <pre data-language="crystal">1.234_f64.unsafe_as(Int64) # =&gt; 4608236261112822104</pre> <p>This method is <strong>unsafe</strong> because it behaves unpredictably when the given <code>type</code> doesn't have the same bytesize as the receiver, or when the given <code>type</code> representation doesn't semantically match the underlying bytes.</p> <p>Also note that because <code><a href="../object/#unsafe_as%28type%3AT.class%29forallT-instance-method">#unsafe_as</a></code> is a regular method, unlike the pseudo-method <code>as</code>, you can't specify some types in the type grammar using a short notation, so specifying a static array must always be done as <code><a href="../staticarray/">StaticArray</a>(T, N)</code>, a tuple as <code><a href="../tuple/">Tuple</a>(...)</code> and so on, never as <code><a href="../uint8/">UInt8</a>[4]</code> or <code>{<a href="../int32/">Int32</a>, <a href="../int32/">Int32</a>}</code>.</p>
</div>   </div> <h2>Macro Detail</h2> <div class="entry-detail" id="class_getter(*names)-macro"> <h3 class="signature">macro <strong>class_getter</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines getter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  class_getter name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.name
    @@name
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  class_getter :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  class_getter name : String
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String

  def self.name : String
    @@name
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  class_getter name : String = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String = "John Doe"

  def self.name : String
    @@name
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  class_getter name = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name = "John Doe"

  def self.name : String
    @@name
  end
end</pre> <p>If a block is given to the macro, a getter is generated with a variable that is lazily initialized with the block's contents:</p> <pre data-language="crystal">class Person
  class_getter(birth_date) { Time.now }
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.birth_date
    @@birth_date ||= Time.now
  end
end</pre>
</div>   </div> <div class="entry-detail" id="class_getter!(*names)-macro"> <h3 class="signature">macro <strong>class_getter!</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines raise-on-nil and nilable getter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  class_getter! name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.name?
    @@name
  end

  def self.name
    @@name.not_nil!
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  class_getter! :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type, as nilable.</p> <pre data-language="crystal">class Person
  class_getter! name : String
end</pre> <p>is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String?

  def self.name?
    @@name
  end

  def self.name
    @@name.not_nil!
  end
end</pre>
</div>   </div> <div class="entry-detail" id="class_getter?(*names)-macro"> <h3 class="signature">macro <strong>class_getter?</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines query getter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  class_getter? happy
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.happy?
    @@happy
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  class_getter? :happy, "famous"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  class_getter? happy : Bool
end</pre> <p>is the same as writing:</p> <pre data-language="crystal">class Person
  @@happy : Bool

  def self.happy? : Bool
    @@happy
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  class_getter? happy : Bool = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@happy : Bool = true

  def self.happy? : Bool
    @@happy
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  class_getter? happy = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@happy = true

  def self.happy?
    @@happy
  end
end</pre>
</div>   </div> <div class="entry-detail" id="class_property(*names)-macro"> <h3 class="signature">macro <strong>class_property</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines property methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  class_property name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.name=(@@name)
  end

  def self.name
    @@name
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  class_property :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  class_property name : String
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String

  def self.name=(@@name)
  end

  def self.name
    @@name
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  class_property name : String = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String = "John Doe"

  def self.name=(@@name : String)
  end

  def self.name
    @@name
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  class_property name = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name = "John Doe"

  def self.name=(@@name : String)
  end

  def self.name
    @@name
  end
end</pre> <p>If a block is given to the macro, a property is generated with a variable that is lazily initialized with the block's contents:</p> <pre data-language="crystal">class Person
  class_property(birth_date) { Time.now }
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.birth_date
    @@birth_date ||= Time.now
  end

  def self.birth_date=(@@birth_date)
  end
end</pre>
</div>   </div> <div class="entry-detail" id="class_property!(*names)-macro"> <h3 class="signature">macro <strong>class_property!</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines raise-on-nil property methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  class_property! name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.name=(@@name)
  end

  def self.name?
    @@name
  end

  def self.name
    @@name.not_nil!
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  class_property! :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type, as nilable.</p> <pre data-language="crystal">class Person
  class_property! name : String
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String?

  def self.name=(@@name)
  end

  def self.name?
    @@name
  end

  def self.name
    @@name.not_nil!
  end
end</pre>
</div>   </div> <div class="entry-detail" id="class_property?(*names)-macro"> <h3 class="signature">macro <strong>class_property?</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines query property methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  class_property? happy
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.happy=(@@happy)
  end

  def self.happy?
    @@happy
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  class_property? :happy, "famous"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  class_property? happy : Bool
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@happy : Bool

  def self.happy=(@@happy : Bool)
  end

  def self.happy? : Bool
    @@happy
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  class_property? happy : Bool = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@happy : Bool = true

  def self.happy=(@@happy : Bool)
  end

  def self.happy? : Bool
    @@happy
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  class_property? happy = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@happy = true

  def self.happy=(@@happy)
  end

  def self.happy?
    @@happy
  end
end</pre>
</div>   </div> <div class="entry-detail" id="class_setter(*names)-macro"> <h3 class="signature">macro <strong>class_setter</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines setter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  class_setter name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def self.name=(@@name)
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  class_setter :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  class_setter name : String
end</pre> <p>is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String

  def self.name=(@@name : String)
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  class_setter name : String = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name : String = "John Doe"

  def self.name=(@@name : String)
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  class_setter name = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @@name = "John Doe"

  def self.name=(@@name)
  end
end</pre>
</div>   </div> <div class="entry-detail" id="def_clone-macro"> <h3 class="signature">macro <strong>def_clone</strong><a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L1189" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Defines a <code>clone</code> method that returns a copy of this object with all instance variables cloned (<code>clone</code> is in turn invoked on them).</p></div>   </div> <div class="entry-detail" id="def_equals(*fields)-macro"> <h3 class="signature">macro <strong>def_equals</strong>(*fields)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L1139" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines an <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code> method by comparing the given fields.</p> <p>The generated <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code> method has a <code>self</code> restriction.</p> <pre data-language="crystal">class Person
  def initialize(@name, @age)
  end

  # Define a `==` method that compares @name and @age
  def_equals @name, @age
end</pre>
</div>   </div> <div class="entry-detail" id="def_equals_and_hash(*fields)-macro"> <h3 class="signature">macro <strong>def_equals_and_hash</strong>(*fields)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L1162" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines <code><a href="../object/#hash-instance-method">#hash</a></code> and <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code> method from the given fields.</p> <p>The generated <code><a href="../object/#%3D%3D%28other%29-instance-method">#==</a></code> method has a <code>self</code> restriction.</p> <pre data-language="crystal">class Person
  def initialize(@name, @age)
  end

  # Define a hash method based on @name and @age
  # Define a `==` method that compares @name and @age
  def_equals_and_hash @name, @age
end</pre>
</div>   </div> <div class="entry-detail" id="def_hash(*fields)-macro"> <h3 class="signature">macro <strong>def_hash</strong>(*fields)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L1117" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines a <code><a href="../object/#hash%28hasher%29-instance-method">#hash(hasher)</a></code> that will append a hash value for the given fields.</p> <pre data-language="crystal">class Person
  def initialize(@name, @age)
  end

  # Define a hash(hasher) method based on @name and @age
  def_hash @name, @age
end</pre>
</div>   </div> <div class="entry-detail" id="delegate(*methods,toobject)-macro"> <h3 class="signature">macro <strong>delegate</strong>(*methods, to object)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L1084" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Delegate <em>methods</em> to <em>to</em>.</p> <p>Note that due to current language limitations this is only useful when no captured blocks are involved.</p> <pre data-language="crystal">class StringWrapper
  def initialize(@string : String)
  end

  delegate downcase, to: @string
  delegate gsub, to: @string
  delegate empty?, capitalize, to: @string
  delegate :[], to: @string
end

wrapper = StringWrapper.new "HELLO"
wrapper.downcase       # =&gt; "hello"
wrapper.gsub(/E/, "A") # =&gt; "HALLO"
wrapper.empty?         # =&gt; false
wrapper.capitalize     # =&gt; "Hello"</pre>
</div>   </div> <div class="entry-detail" id="forward_missing_to(delegate)-macro"> <h3 class="signature">macro <strong>forward_missing_to</strong>(delegate)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L1181" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Forwards missing methods to <em>delegate</em>.</p> <pre data-language="crystal">class StringWrapper
  def initialize(@string : String)
  end

  forward_missing_to @string
end

wrapper = StringWrapper.new "HELLO"
wrapper.downcase       # =&gt; "hello"
wrapper.gsub(/E/, "A") # =&gt; "HALLO"</pre>
</div>   </div> <div class="entry-detail" id="getter(*names)-macro"> <h3 class="signature">macro <strong>getter</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines getter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  getter name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def name
    @name
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  getter :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  getter name : String
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String

  def name : String
    @name
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  getter name : String = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String = "John Doe"

  def name : String
    @name
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  getter name = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name = "John Doe"

  def name : String
    @name
  end
end</pre> <p>If a block is given to the macro, a getter is generated with a variable that is lazily initialized with the block's contents:</p> <pre data-language="crystal">class Person
  getter(birth_date) { Time.now }
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def birth_date
    @birth_date ||= Time.now
  end
end</pre>
</div>   </div> <div class="entry-detail" id="getter!(*names)-macro"> <h3 class="signature">macro <strong>getter!</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines raise-on-nil and nilable getter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  getter! name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def name?
    @name
  end

  def name
    @name.not_nil!
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  getter! :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type, as nilable.</p> <pre data-language="crystal">class Person
  getter! name : String
end</pre> <p>is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String?

  def name?
    @name
  end

  def name
    @name.not_nil!
  end
end</pre>
</div>   </div> <div class="entry-detail" id="getter?(*names)-macro"> <h3 class="signature">macro <strong>getter?</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines query getter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  getter? happy
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def happy?
    @happy
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  getter? :happy, "famous"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  getter? happy : Bool
end</pre> <p>is the same as writing:</p> <pre data-language="crystal">class Person
  @happy : Bool

  def happy? : Bool
    @happy
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  getter? happy : Bool = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @happy : Bool = true

  def happy? : Bool
    @happy
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  getter? happy = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @happy = true

  def happy?
    @happy
  end
end</pre>
</div>   </div> <div class="entry-detail" id="property(*names)-macro"> <h3 class="signature">macro <strong>property</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines property methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  property name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def name=(@name)
  end

  def name
    @name
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  property :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  property name : String
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String

  def name=(@name)
  end

  def name
    @name
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  property name : String = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String = "John Doe"

  def name=(@name : String)
  end

  def name
    @name
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  property name = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name = "John Doe"

  def name=(@name : String)
  end

  def name
    @name
  end
end</pre> <p>If a block is given to the macro, a property is generated with a variable that is lazily initialized with the block's contents:</p> <pre data-language="crystal">class Person
  property(birth_date) { Time.now }
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def birth_date
    @birth_date ||= Time.now
  end

  def birth_date=(@birth_date)
  end
end</pre>
</div>   </div> <div class="entry-detail" id="property!(*names)-macro"> <h3 class="signature">macro <strong>property!</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines raise-on-nil property methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  property! name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def name=(@name)
  end

  def name?
    @name
  end

  def name
    @name.not_nil!
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  property! :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type, as nilable.</p> <pre data-language="crystal">class Person
  property! name : String
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String?

  def name=(@name)
  end

  def name?
    @name
  end

  def name
    @name.not_nil!
  end
end</pre>
</div>   </div> <div class="entry-detail" id="property?(*names)-macro"> <h3 class="signature">macro <strong>property?</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines query property methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  property? happy
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def happy=(@happy)
  end

  def happy?
    @happy
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  property? :happy, "famous"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  property? happy : Bool
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @happy : Bool

  def happy=(@happy : Bool)
  end

  def happy? : Bool
    @happy
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  property? happy : Bool = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @happy : Bool = true

  def happy=(@happy : Bool)
  end

  def happy? : Bool
    @happy
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  property? happy = true
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @happy = true

  def happy=(@happy)
  end

  def happy?
    @happy
  end
end</pre>
</div>   </div> <div class="entry-detail" id="setter(*names)-macro"> <h3 class="signature">macro <strong>setter</strong>(*names)<a href="https://github.com/crystal-lang/crystal/blob/c9d1eef8fde5c7a03a029d64c8483ed7b4f2fe86/src/object.cr#L230" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines setter methods for each of the given arguments.</p> <p>Writing:</p> <pre data-language="crystal">class Person
  setter name
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  def name=(@name)
  end
end</pre> <p>The arguments can be string literals, symbol literals or plain names:</p> <pre data-language="crystal">class Person
  setter :name, "age"
end</pre> <p>If a type declaration is given, a variable with that name is declared with that type.</p> <pre data-language="crystal">class Person
  setter name : String
end</pre> <p>is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String

  def name=(@name : String)
  end
end</pre> <p>The type declaration can also include an initial value:</p> <pre data-language="crystal">class Person
  setter name : String = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name : String = "John Doe"

  def name=(@name : String)
  end
end</pre> <p>An assignment can be passed too, but in this case the type of the variable must be easily inferrable from the initial value:</p> <pre data-language="crystal">class Person
  setter name = "John Doe"
end</pre> <p>Is the same as writing:</p> <pre data-language="crystal">class Person
  @name = "John Doe"

  def name=(@name)
  end
end</pre>
</div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2018 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/0.27.0/Object.html" class="_attribution-link" target="_blank">https://crystal-lang.org/api/0.27.0/Object.html</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
