
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Query - Angular 4 - W3cubDocs</title>
  
  <meta name="description" content=" function experimental ">
  <meta name="keywords" content="query, -, angular, angular~4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/angular~4/api/animations/query/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6ca5be81b81eb73e654078d9aaa623884afe18900617ed9a60729a4905026f77.css">
  <script type="text/javascript" src="/assets/application-2fa35d54abf92f248ac868261a14d3f99b325c34fcc70df314719245e248d73c.js"></script>
  <script src="/json/angular~4.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular~4/" class="_nav-link" title="" style="margin-left:0;">Angular 4</a></span>
  
  <nav class="_nav">
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _angular">
				
				
<h1 id="query">query</h1> <p><code class="api-type-label function">function</code> <code class="api-status-label experimental">experimental</code></p>      <table> <tbody> <tr> <th>npm Package</th> <td><a href="https://www.npmjs.com/package/@angular/animations" target="_blank">@angular/animations</a></td> </tr> <tr> <th>Module</th> <td><code>import { <a href="../query/" class="code-anchor">query</a> } from <a href="../../animations/">'@angular/animations'</a>;</code></td> </tr> <tr> <th>Source</th> <td><a href="https://github.com/angular/angular/tree/4.4.6/packages/animations/src/animation_metadata.ts#L922-L1019" target="_blank">animations/src/animation_metadata.ts</a></td> </tr> </tbody> </table> <h3 data-language="typescript"><code>function query(selector: string, animation: AnimationMetadata | AnimationMetadata[], options: AnimationQueryOptions | null = null): AnimationQueryMetadata;</code></h3>  <h4 id="description">Description</h4> <p><code><a href="../query/" class="code-anchor">query</a></code> is an animation-specific function that is designed to be used inside of Angular's animation DSL language.</p> <p>query() is used to find one or more inner elements within the current element that is being animated within the sequence. The provided animation steps are applied to the queried element (by default, an array is provided, then this will be treated as an animation sequence).</p> <h4 id="usage">Usage</h4> <p>query() is designed to collect mutiple elements and works internally by using <code>element.querySelectorAll</code>. An additional options object can be provided which can be used to limit the total amount of items to be collected.</p> <pre data-language="js">query('div', [
  animate(...),
  animate(...)
], { limit: 1 })</pre> <p>query(), by default, will throw an error when zero items are found. If a query has the <code>optional</code> flag set to true then this error will be ignored.</p> <pre data-language="js">query('.some-element-that-may-not-be-there', [
  animate(...),
  animate(...)
], { optional: true })</pre> <h4 id="special-selector-values">Special Selector Values</h4> <p>The selector value within a query can collect elements that contain angular-specific characteristics using special pseudo-selectors tokens.</p> <p>These include:</p> <ul> <li>Querying for newly inserted/removed elements using <code><a href="../query/" class="code-anchor">query</a>(":enter")</code>/<code><a href="../query/" class="code-anchor">query</a>(":leave")</code>
</li> <li>Querying all currently animating elements using <code><a href="../query/" class="code-anchor">query</a>(":animating")</code>
</li> <li>Querying elements that contain an animation trigger using <code><a href="../query/" class="code-anchor">query</a>("@triggerName")</code>
</li> <li>Querying all elements that contain an animation triggers using <code><a href="../query/" class="code-anchor">query</a>("@*")</code>
</li> <li>Including the current element into the animation sequence using <code><a href="../query/" class="code-anchor">query</a>(":self")</code>
</li> </ul> <p> Each of these pseudo-selector tokens can be merged together into a combined query selector string:</p> <pre>query(':self, .record:enter, .record:leave, @subTrigger', [...])</pre> <h4 id="demo">Demo</h4> <pre data-language="typescript">@Component({
  selector: 'inner',
  template: `
    &lt;div [@queryAnimation]="exp"&gt;
      &lt;h1&gt;Title&lt;/h1&gt;
      &lt;div class="content"&gt;
        Blah blah blah
      &lt;/div&gt;
    &lt;/div&gt;
  `,
  animations: [
   trigger('queryAnimation', [
     transition('* =&gt; goAnimate', [
       // hide the inner elements
       query('h1', style({ opacity: 0 })),
       query('.content', style({ opacity: 0 })),

       // animate the inner elements in, one by one
       query('h1', animate(1000, style({ opacity: 1 })),
       query('.content', animate(1000, style({ opacity: 1 })),
     ])
   ])
 ]
})
class Cmp {
  exp = '';

  goAnimate() {
    this.exp = 'goAnimate';
  }
}</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://v4.angular.io/api/animations/query" class="_attribution-link" target="_blank">https://v4.angular.io/api/animations/query</a>
  </p>
</div>

				<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
