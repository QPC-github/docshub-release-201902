
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Directive - Angular 4 - W3cubDocs</title>
  
  <meta name="description" content=" decorator stable ">
  <meta name="keywords" content="directive, -, angular, angular~4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/angular~4/api/core/directive/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6ca5be81b81eb73e654078d9aaa623884afe18900617ed9a60729a4905026f77.css">
  <script type="text/javascript" src="/assets/application-2fa35d54abf92f248ac868261a14d3f99b325c34fcc70df314719245e248d73c.js"></script>
  <script src="/json/angular~4.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-2572770204602497",
            enable_page_level_ads: true
        });
  </script>
  <script async custom-element="amp-auto-ads"
  src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
</script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular~4/" class="_nav-link" title="" style="margin-left:0;">Angular 4</a></span>
  
  <nav class="_nav">
    <a href="/cheatsheets/" class="_nav-link ">Cheatsheets</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _angular">
				
				
<h1 id="directive">Directive</h1> <p><code class="api-type-label decorator">decorator</code> <code class="api-status-label stable">stable</code></p>      <table> <tbody> <tr> <th>npm Package</th> <td><a href="https://www.npmjs.com/package/@angular/core" target="_blank">@angular/core</a></td> </tr> <tr> <th>Module</th> <td><code>import { <a href="../directive/" class="code-anchor">Directive</a> } from <a href="../../core/">'@angular/core'</a>;</code></td> </tr> <tr> <th>Source</th> <td><a href="https://github.com/angular/angular/tree/4.4.6/packages/core/src/metadata/directives.ts#L404-L404" target="_blank">core/src/metadata/directives.ts</a></td> </tr> </tbody> </table> <div class="what-it-does info-banner"> <p>Marks a class as an Angular directive and collects directive configuration metadata.</p> </div>  <h2 id="metadata-overview">Metadata Overview</h2> <pre data-language="typescript">@Directive({ 
  selector?: string
  inputs?: string[]
  outputs?: string[]
  host?: {[key: string]: string}
  providers?: Provider[]
  exportAs?: string
  queries?: {[key: string]: any}
})</pre>   <h2 id="how-to-use">How To Use</h2> <pre>import {Directive} from '@angular/core';

@Directive({
  selector: 'my-directive',
})
export class MyDirective {
}</pre>   <h2 id="description">Description</h2> <p>Directive decorator allows you to mark a class as an Angular directive and provide additional metadata that determines how the directive should be processed, instantiated and used at runtime.</p> <p>Directives allow you to attach behavior to elements in the DOM..</p> <p>A directive must belong to an NgModule in order for it to be usable by another directive, component, or application. To specify that a directive is a member of an NgModule, you should list it in the <code>declarations</code> field of that NgModule.</p> <p>In addition to the metadata configuration specified via the Directive decorator, directives can control their runtime behavior by implementing various Life-Cycle hooks.</p> <p><strong>Metadata Properties:</strong></p> <ul> <li>
<strong>exportAs</strong> - name under which the component instance is exported in a template. Can be given a single name or a comma-delimited list of names.</li> <li>
<strong>host</strong> - map of class property to host element bindings for events, properties and attributes</li> <li>
<strong>inputs</strong> - list of class property names to data-bind as component inputs</li> <li>
<strong>outputs</strong> - list of class property names that expose output events that others can subscribe to</li> <li>
<strong>providers</strong> - list of providers available to this component and its children</li> <li>
<strong>queries</strong> - configure queries that can be injected into the component</li> <li>
<strong>selector</strong> - css selector that identifies this component in a template</li> </ul>   <h2 id="metadata-properties">Metadata Properties</h2> <div class="metadata-member">  <h3><code>selector?: string</code></h3> <p>The CSS selector that triggers the instantiation of a directive.</p> <p>Angular only allows directives to trigger on CSS selectors that do not cross element boundaries.</p> <p><code>selector</code> may be declared as one of the following:</p> <ul> <li>
<code>element-name</code>: select by element name.</li> <li>
<code>.class</code>: select by class name.</li> <li>
<code>[attribute]</code>: select by attribute name.</li> <li>
<code>[attribute=value]</code>: select by attribute name and value.</li> <li>
<code>:not(sub_selector)</code>: select only if the element does not match the <code>sub_selector</code>.</li> <li>
<code>selector1, selector2</code>: select if either <code>selector1</code> or <code>selector2</code> matches.</li> </ul> <h4 id="example">Example</h4> <p>Suppose we have a directive with an <code>input[type=text]</code> selector.</p> <p>And the following HTML:</p> <pre data-language="html">&lt;form&gt;
  &lt;input type="text"&gt;
  &lt;input type="radio"&gt;
&lt;form&gt;</pre> <p>The directive would only be instantiated on the <code>&lt;input type="text"&gt;</code> element.</p> </div>  <div class="metadata-member">  <h3><code>inputs?: string[]</code></h3> <p>Enumerates the set of data-bound input properties for a directive</p> <p>Angular automatically updates input properties during change detection.</p> <p>The <code>inputs</code> property defines a set of <code>directiveProperty</code> to <code>bindingProperty</code> configuration:</p> <ul> <li>
<code>directiveProperty</code> specifies the component property where the value is written.</li> <li>
<code>bindingProperty</code> specifies the DOM property where the value is read from.</li> </ul> <p>When <code>bindingProperty</code> is not provided, it is assumed to be equal to <code>directiveProperty</code>.</p> <h4 id="example-live-demo">Example (<a href="http://plnkr.co/edit/ivhfXY?p=preview" target="_blank">live demo</a>)</h4> <p>The following example creates a component with two data-bound properties.</p> <pre data-language="typescript">@Component({
  selector: 'bank-account',
  inputs: ['bankName', 'id: account-id'],
  template: `
    Bank Name: {{bankName}}
    Account Id: {{id}}
  `
})
class BankAccount {
  bankName: string;
  id: string;

  // this property is not bound, and won't be automatically updated by Angular
  normalizedBankName: string;
}

@Component({
  selector: 'app',
  template: `
    &lt;bank-account bank-name="RBC" account-id="4747"&gt;&lt;/bank-account&gt;
  `
})
class App {}</pre> </div>  <div class="metadata-member">  <h3><code>outputs?: string[]</code></h3> <p>Enumerates the set of event-bound output properties.</p> <p>When an output property emits an event, an event handler attached to that event the template is invoked.</p> <p>The <code>outputs</code> property defines a set of <code>directiveProperty</code> to <code>bindingProperty</code> configuration:</p> <ul> <li>
<code>directiveProperty</code> specifies the component property that emits events.</li> <li>
<code>bindingProperty</code> specifies the DOM property the event handler is attached to.</li> </ul> <h4 id="example-live-demo-1">Example (<a href="http://plnkr.co/edit/d5CNq7?p=preview" target="_blank">live demo</a>)</h4> <pre data-language="typescript">@Directive({
  selector: 'interval-dir',
  outputs: ['everySecond', 'five5Secs: everyFiveSeconds']
})
class IntervalDir {
  everySecond = new EventEmitter();
  five5Secs = new EventEmitter();

  constructor() {
    setInterval(() =&gt; this.everySecond.emit("event"), 1000);
    setInterval(() =&gt; this.five5Secs.emit("event"), 5000);
  }
}

@Component({
  selector: 'app',
  template: `
    &lt;interval-dir (everySecond)="everySecond()" (everyFiveSeconds)="everyFiveSeconds()"&gt;
    &lt;/interval-dir&gt;
  `
})
class App {
  everySecond() { console.log('second'); }
  everyFiveSeconds() { console.log('five seconds'); }
}</pre> </div>  <div class="metadata-member">  <h3><code>host?: {[key: string]: string}</code></h3> <p>Specify the events, actions, properties and attributes related to the host element.</p> <h2 id="host-listeners">Host Listeners</h2> <p>Specifies which DOM events a directive listens to via a set of <code>(event)</code> to <code>method</code> key-value pairs:</p> <ul> <li>
<code>event</code>: the DOM event that the directive listens to.</li> <li>
<code>statement</code>: the statement to execute when the event occurs. If the evaluation of the statement returns <code>false</code>, then <code>preventDefault</code>is applied on the DOM event.</li> </ul> <p>To listen to global events, a target must be added to the event name. The target can be <code>window</code>, <code>document</code> or <code>body</code>.</p> <p>When writing a directive event binding, you can also refer to the $event local variable.</p> <h4 id="example-live-demo-2">Example (<a href="http://plnkr.co/edit/DlA5KU?p=preview" target="_blank">live demo</a>)</h4> <p>The following example declares a directive that attaches a click listener to the button and counts clicks.</p> <pre data-language="typescript">@Directive({
  selector: 'button[counting]',
  host: {
    '(click)': 'onClick($event.target)'
  }
})
class CountClicks {
  numberOfClicks = 0;

  onClick(btn) {
    console.log("button", btn, "number of clicks:", this.numberOfClicks++);
  }
}

@Component({
  selector: 'app',
  template: `&lt;button counting&gt;Increment&lt;/button&gt;`
})
class App {}</pre> <h2 id="host-property-bindings">Host Property Bindings</h2> <p>Specifies which DOM properties a directive updates.</p> <p>Angular automatically checks host property bindings during change detection. If a binding changes, it will update the host element of the directive.</p> <h4 id="example-live-demo-3">Example (<a href="http://plnkr.co/edit/gNg0ED?p=preview" target="_blank">live demo</a>)</h4> <p>The following example creates a directive that sets the <code>valid</code> and <code>invalid</code> classes on the DOM element that has ngModel directive on it.</p> <pre data-language="typescript">@Directive({
  selector: '[ngModel]',
  host: {
    '[class.valid]': 'valid',
    '[class.invalid]': 'invalid'
  }
})
class NgModelStatus {
  constructor(public control:NgModel) {}
  get valid { return this.control.valid; }
  get invalid { return this.control.invalid; }
}

@Component({
  selector: 'app',
  template: `&lt;input [(ngModel)]="prop"&gt;`
})
class App {
  prop;
}</pre> <h2 id="attributes">Attributes</h2> <p>Specifies static attributes that should be propagated to a host element.</p> <h4 id="example-1">Example</h4> <p>In this example using <code>my-button</code> directive (ex.: <code>&lt;div my-button&gt;&lt;/div&gt;</code>) on a host element (here: <code>&lt;div&gt;</code> ) will ensure that this element will get the "button" role.</p> <pre data-language="typescript">@Directive({
  selector: '[my-button]',
  host: {
    'role': 'button'
  }
})
class MyButton {
}</pre> </div>  <div class="metadata-member">  <h3><code>providers?: Provider[]</code></h3> <p>Defines the set of injectable objects that are visible to a Directive and its light DOM children.</p> <h2 id="simple-example">Simple Example</h2> <p>Here is an example of a class that can be injected:</p> <pre>class Greeter {
   greet(name:string) {
     return 'Hello ' + name + '!';
   }
}

@Directive({
  selector: 'greet',
  providers: [
    Greeter
  ]
})
class HelloWorld {
  greeter:Greeter;

  constructor(greeter:Greeter) {
    this.greeter = greeter;
  }
}</pre> </div>  <div class="metadata-member">  <h3><code>exportAs?: string</code></h3> <p>Defines the name that can be used in the template to assign this directive to a variable.</p> <h2 id="simple-example-1">Simple Example</h2> <pre data-language="typescript">@Directive({
  selector: 'child-dir',
  exportAs: 'child'
})
class ChildDir {
}

@Component({
  selector: 'main',
  template: `&lt;child-dir #c="child"&gt;&lt;/child-dir&gt;`
})
class MainComponent {
}</pre> </div>  <div class="metadata-member">  <h3><code>queries?: {[key: string]: any}</code></h3> <p>Configures the queries that will be injected into the directive.</p> <p>Content queries are set before the <code>ngAfterContentInit</code> callback is called. View queries are set before the <code>ngAfterViewInit</code> callback is called.</p> <h4 id="example-2">Example</h4> <pre data-language="typescript">@Component({
  selector: 'someDir',
  queries: {
    contentChildren: new ContentChildren(ChildDirective),
    viewChildren: new ViewChildren(ChildDirective)
  },
  template: '&lt;child-directive&gt;&lt;/child-directive&gt;'
})
class SomeDir {
  contentChildren: QueryList&lt;ChildDirective&gt;,
  viewChildren: QueryList&lt;ChildDirective&gt;

  ngAfterContentInit() {
    // contentChildren is set
  }

  ngAfterViewInit() {
    // viewChildren is set
  }
}</pre> </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://v4.angular.io/api/core/Directive" class="_attribution-link" target="_blank">https://v4.angular.io/api/core/Directive</a>
  </p>
</div>

				<amp-auto-ads type="adsense"
              data-ad-client="ca-pub-2572770204602497">
</amp-auto-ads>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
