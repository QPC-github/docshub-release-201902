
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Dependency Injection - Angular 4 - W3cubDocs</title>
  
  <meta name="description" content="Dependency Injection is a powerful pattern for managing code dependencies. This cookbook explores many of the features of Dependency Injection (DI) &hellip;">
  <meta name="keywords" content="dependency, injection, -, angular, angular~4">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/angular~4/guide/dependency-injection-in-action/">
  <link href="/favicon.png" rel="icon">
  <link rel="stylesheet" type="text/css" href="/assets/application-6cc8ff3c95d062e2cd87636799240e79e4553263ad7de9cda9464063203db436.css" integrity="sha256-bMj/PJXQYuLNh2NnmSQOeeRVMmOtfenNqUZAYyA9tDY=" crossorigin="anonymous">
  <script type="text/javascript" integrity="sha256-JOOcjTvTbt5QE9AmOH1rrXz8aKKfHMsOthbsjt9CNfk=" crossorigin="anonymous" src="/assets/application-24e39c8d3bd36ede5013d026387d6bad7cfc68a29f1ccb0eb616ec8edf4235f9.js"></script>
  <script src="/json/angular~4.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/angular~4/" class="_nav-link" title="" style="margin-left:0;">Angular 4</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _angular">
				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档开头内嵌 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-2572770204602497"
     data-ad-slot="8852552735"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
				
<h1 id="dependency-injection">Dependency Injection</h1> <p>Dependency Injection is a powerful pattern for managing code dependencies. This cookbook explores many of the features of Dependency Injection (DI) in Angular. </p>  <p>See the  of the code in this cookbook.</p>  <h2 id="application-wide-dependencies">Application-wide dependencies</h2> <p>Register providers for dependencies used throughout the application in the root application component, <code>AppComponent</code>.</p> <p>The following example shows importing and registering the <code>LoggerService</code>, <code>UserContext</code>, and the <code>UserService</code> in the <code>@<a href="../../api/core/component/" class="code-anchor">Component</a></code> metadata <code>providers</code> array.</p> <div class="pre-title">src/app/app.component.ts (excerpt)</div>
<pre data-language="typescript">import { LoggerService }      from './logger.service';
import { UserContextService } from './user-context.service';
import { UserService }        from './user.service';

@Component({
  selector: 'my-app',
  templateUrl: './app.component.html',
  providers: [ LoggerService, UserContextService, UserService ]
})
export class AppComponent {
/* . . . */
}</pre> <p>All of these services are implemented as classes. Service classes can act as their own providers which is why listing them in the <code>providers</code> array is all the registration you need.</p> <blockquote class="l-sub-section"> <p>A <em>provider</em> is something that can create or deliver a service. Angular creates a service instance from a class provider by using <code>new</code>. Read more about providers in the <a href="../dependency-injection/#injector-providers">Dependency Injection</a> guide.</p> </blockquote> <p>Now that you've registered these services, Angular can inject them into the constructor of <em>any</em> component or service, <em>anywhere</em> in the application.</p> <div class="pre-title">src/app/hero-bios.component.ts (component constructor injection)</div>
<pre data-language="typescript">constructor(logger: LoggerService) {
  logger.logInfo('Creating HeroBiosComponent');
}</pre> <div class="pre-title">src/app/user-context.service.ts (service constructor injection)</div>
<pre data-language="typescript">constructor(private userService: UserService, private loggerService: LoggerService) {
}</pre>  <h2 id="external-module-configuration">External module configuration</h2> <p>Generally, register providers in the <code><a href="../../api/core/ngmodule/" class="code-anchor">NgModule</a></code> rather than in the root application component.</p> <p>Do this when you expect the service to be injectable everywhere, or you are configuring another application global service <em>before the application starts</em>.</p> <p>Here is an example of the second case, where the component router configuration includes a non-default <a href="../router/#location-strategy">location strategy</a> by listing its provider in the <code>providers</code> list of the <code>AppModule</code>.</p> <div class="pre-title">src/app/app.module.ts (providers)</div>
<pre data-language="typescript">providers: [
  { provide: LocationStrategy, useClass: HashLocationStrategy }
]</pre>   <h2 id="injectable-and-nested-service-dependencies">
<code>@Injectable()</code> and nested service dependencies</h2> <p>The consumer of an injected service does not know how to create that service. It shouldn't care. It's the dependency injection's job to create and cache that service.</p> <p>Sometimes a service depends on other services, which may depend on yet other services. Resolving these nested dependencies in the correct order is also the framework's job. At each step, the consumer of dependencies simply declares what it requires in its constructor and the framework takes over.</p> <p>The following example shows injecting both the <code>LoggerService</code> and the <code>UserContext</code> in the <code>AppComponent</code>.</p> <div class="pre-title">src/app/app.component.ts</div>
<pre data-language="typescript">constructor(logger: LoggerService, public userContext: UserContextService) {
  userContext.loadUser(this.userId);
  logger.logInfo('AppComponent initialized');
}</pre> <p>The <code>UserContext</code> in turn has its own dependencies on both the <code>LoggerService</code> and a <code>UserService</code> that gathers information about a particular user.</p> <div class="pre-title">user-context.service.ts (injection)</div>
<pre data-language="typescript">@Injectable()
export class UserContextService {
  constructor(private userService: UserService, private loggerService: LoggerService) {
  }
}</pre> <p>When Angular creates the <code>AppComponent</code>, the dependency injection framework creates an instance of the <code>LoggerService</code> and starts to create the <code>UserContextService</code>. The <code>UserContextService</code> needs the <code>LoggerService</code>, which the framework already has, and the <code>UserService</code>, which it has yet to create. The <code>UserService</code> has no dependencies so the dependency injection framework can just use <code>new</code> to instantiate one.</p> <p>The beauty of dependency injection is that <code>AppComponent</code> doesn't care about any of this. You simply declare what is needed in the constructor (<code>LoggerService</code> and <code>UserContextService</code>) and the framework does the rest.</p> <p>Once all the dependencies are in place, the <code>AppComponent</code> displays the user information:</p> <figure> <img src="data:image/png;base64,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" alt="Logged In User" width="145" height="99"> </figure>  <h3 id="injectable"><code>@Injectable()</code></h3> <p>Notice the <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code>decorator on the <code>UserContextService</code> class.</p> <div class="pre-title">user-context.service.ts (@Injectable)</div>
<pre data-language="typescript">@Injectable()
export class UserContextService {
}</pre> <p>That decorator makes it possible for Angular to identify the types of its two dependencies, <code>LoggerService</code> and <code>UserService</code>.</p> <p>Technically, the <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code>decorator is only required for a service class that has <em>its own dependencies</em>. The <code>LoggerService</code> doesn't depend on anything. The logger would work if you omitted <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code> and the generated code would be slightly smaller.</p> <p>But the service would break the moment you gave it a dependency and you'd have to go back and add <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code> to fix it. Add <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code> from the start for the sake of consistency and to avoid future pain.</p> <blockquote class="alert is-helpful"> <p>Although this site recommends applying <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code> to all service classes, don't feel bound by it. Some developers prefer to add it only where needed and that's a reasonable policy too.</p> </blockquote> <blockquote class="l-sub-section"> <p>The <code>AppComponent</code> class had two dependencies as well but no <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code>. It didn't need <code>@<a href="../../api/core/injectable/" class="code-anchor">Injectable</a>()</code> because that component class has the <code>@<a href="../../api/core/component/" class="code-anchor">Component</a></code> decorator. In Angular with TypeScript, a <em>single</em> decorator—<em>any</em> decorator—is sufficient to identify dependency types.</p> </blockquote>  <h2 id="limit-service-scope-to-a-component-subtree">Limit service scope to a component subtree</h2> <p>All injected service dependencies are singletons meaning that, for a given dependency injector, there is only one instance of service.</p> <p>But an Angular application has multiple dependency injectors, arranged in a tree hierarchy that parallels the component tree. So a particular service can be <em>provided</em> and created at any component level and multiple times if provided in multiple components.</p> <p>By default, a service dependency provided in one component is visible to all of its child components and Angular injects the same service instance into all child components that ask for that service.</p> <p>Accordingly, dependencies provided in the root <code>AppComponent</code> can be injected into <em>any</em> component <em>anywhere</em> in the application.</p> <p>That isn't always desirable. Sometimes you want to restrict service availability to a particular region of the application.</p> <p>You can limit the scope of an injected service to a <em>branch</em> of the application hierarchy by providing that service <em>at the sub-root component for that branch</em>. This example shows how similar providing a service to a sub-root component is to providing a service in the root <code>AppComponent</code>. The syntax is the same. Here, the <code>HeroService</code> is available to the <code>HeroesBaseComponent</code> because it is in the <code>providers</code> array:</p> <div class="pre-title">src/app/sorted-heroes.component.ts (HeroesBaseComponent excerpt)</div>
<pre data-language="typescript">@Component({
  selector: 'unsorted-heroes',
  template: `&lt;div *ngFor="let hero of heroes"&gt;{{hero.name}}&lt;/div&gt;`,
  providers: [HeroService]
})
export class HeroesBaseComponent implements OnInit {
  constructor(private heroService: HeroService) { }
}</pre> <p>When Angular creates the <code>HeroesBaseComponent</code>, it also creates a new instance of <code>HeroService</code> that is visible only to the component and its children, if any.</p> <p>You could also provide the <code>HeroService</code> to a <em>different</em> component elsewhere in the application. That would result in a <em>different</em> instance of the service, living in a <em>different</em> injector.</p> <blockquote class="l-sub-section"> <p>Examples of such scoped <code>HeroService</code> singletons appear throughout the accompanying sample code, including the <code>HeroBiosComponent</code>, <code>HeroOfTheMonthComponent</code>, and <code>HeroesBaseComponent</code>. Each of these components has its own <code>HeroService</code> instance managing its own independent collection of heroes.</p> </blockquote> <blockquote class="alert is-helpful"> <h4 id="take-a-break">Take a break!</h4> <p>This much Dependency Injection knowledge may be all that many Angular developers ever need to build their applications. It doesn't always have to be more complicated.</p> </blockquote>  <h2 id="multiple-service-instances-sandboxing">Multiple service instances (sandboxing)</h2> <p>Sometimes you want multiple instances of a service at <em>the same level of the component hierarchy</em>.</p> <p>A good example is a service that holds state for its companion component instance. You need a separate instance of the service for each component. Each service has its own work-state, isolated from the service-and-state of a different component. This is called <em>sandboxing</em> because each service and component instance has its own sandbox to play in.</p>  <p>Imagine a <code>HeroBiosComponent</code> that presents three instances of the <code>HeroBioComponent</code>.</p> <div class="pre-title">ap/hero-bios.component.ts</div>
<pre data-language="typescript">@Component({
  selector: 'hero-bios',
  template: `
    &lt;hero-bio [heroId]="1"&gt;&lt;/hero-bio&gt;
    &lt;hero-bio [heroId]="2"&gt;&lt;/hero-bio&gt;
    &lt;hero-bio [heroId]="3"&gt;&lt;/hero-bio&gt;`,
  providers: [HeroService]
})
export class HeroBiosComponent {
}</pre> <p>Each <code>HeroBioComponent</code> can edit a single hero's biography. A <code>HeroBioComponent</code> relies on a <code>HeroCacheService</code> to fetch, cache, and perform other persistence operations on that hero.</p> <div class="pre-title">src/app/hero-cache.service.ts</div>
<pre data-language="typescript">@Injectable()
export class HeroCacheService {
  hero: Hero;
  constructor(private heroService: HeroService) {}

  fetchCachedHero(id: number) {
    if (!this.hero) {
      this.hero = this.heroService.getHeroById(id);
    }
    return this.hero;
  }
}</pre> <p>Clearly the three instances of the <code>HeroBioComponent</code> can't share the same <code>HeroCacheService</code>. They'd be competing with each other to determine which hero to cache.</p> <p>Each <code>HeroBioComponent</code> gets its <em>own</em> <code>HeroCacheService</code> instance by listing the <code>HeroCacheService</code> in its metadata <code>providers</code> array.</p> <div class="pre-title">src/app/hero-bio.component.ts</div>
<pre data-language="typescript">@Component({
  selector: 'hero-bio',
  template: `
    &lt;h4&gt;{{hero.name}}&lt;/h4&gt;
    &lt;ng-content&gt;&lt;/ng-content&gt;
    &lt;textarea cols="25" [(ngModel)]="hero.description"&gt;&lt;/textarea&gt;`,
  providers: [HeroCacheService]
})

export class HeroBioComponent implements OnInit  {
  @Input() heroId: number;

  constructor(private heroCache: HeroCacheService) { }

  ngOnInit() { this.heroCache.fetchCachedHero(this.heroId); }

  get hero() { return this.heroCache.hero; }
}</pre> <p>The parent <code>HeroBiosComponent</code> binds a value to the <code>heroId</code>. The <code>ngOnInit</code> passes that <code>id</code> to the service, which fetches and caches the hero. The getter for the <code>hero</code> property pulls the cached hero from the service. And the template displays this data-bound property.</p> <p>Find this example in <span name="dependency-injection-in-action">live code</span> and confirm that the three <code>HeroBioComponent</code> instances have their own cached hero data.</p> <figure> <img src="data:image/png;base64,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" alt="Bios" width="199" height="317"> </figure>   <h2 id="qualify-dependency-lookup-with-optional-and-host">Qualify dependency lookup with <code>@Optional()</code> and <code>@<a href="../../api/core/host/" class="code-anchor">Host</a>()</code>
</h2> <p>As you now know, dependencies can be registered at any level in the component hierarchy.</p> <p>When a component requests a dependency, Angular starts with that component's injector and walks up the injector tree until it finds the first suitable provider. Angular throws an error if it can't find the dependency during that walk.</p> <p>You <em>want</em> this behavior most of the time. But sometimes you need to limit the search and/or accommodate a missing dependency. You can modify Angular's search behavior with the <code>@<a href="../../api/core/host/" class="code-anchor">Host</a></code> and <code>@<a href="../../api/core/optional/" class="code-anchor">Optional</a></code> qualifying decorators, used individually or together.</p> <p>The <code>@<a href="../../api/core/optional/" class="code-anchor">Optional</a></code> decorator tells Angular to continue when it can't find the dependency. Angular sets the injection parameter to <code>null</code> instead.</p> <p>The <code>@<a href="../../api/core/host/" class="code-anchor">Host</a></code> decorator stops the upward search at the <em>host component</em>.</p> <p>The host component is typically the component requesting the dependency. But when this component is projected into a <em>parent</em> component, that parent component becomes the host. The next example covers this second case.</p>  <h3 id="demonstration">Demonstration</h3> <p>The <code>HeroBiosAndContactsComponent</code> is a revision of the <code>HeroBiosComponent</code> that you looked at <a href="../dependency-injection-in-action/#hero-bios-component">above</a>.</p> <div class="pre-title">src/app/hero-bios.component.ts (HeroBiosAndContactsComponent)</div>
<pre data-language="typescript">@Component({
  selector: 'hero-bios-and-contacts',
  template: `
    &lt;hero-bio [heroId]="1"&gt; &lt;hero-contact&gt;&lt;/hero-contact&gt; &lt;/hero-bio&gt;
    &lt;hero-bio [heroId]="2"&gt; &lt;hero-contact&gt;&lt;/hero-contact&gt; &lt;/hero-bio&gt;
    &lt;hero-bio [heroId]="3"&gt; &lt;hero-contact&gt;&lt;/hero-contact&gt; &lt;/hero-bio&gt;`,
  providers: [HeroService]
})
export class HeroBiosAndContactsComponent {
  constructor(logger: LoggerService) {
    logger.logInfo('Creating HeroBiosAndContactsComponent');
  }
}</pre> <p>Focus on the template:</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-bios.component.ts</div>
<pre data-language="typescript">template: `
  &lt;hero-bio [heroId]="1"&gt; &lt;hero-contact&gt;&lt;/hero-contact&gt; &lt;/hero-bio&gt;
  &lt;hero-bio [heroId]="2"&gt; &lt;hero-contact&gt;&lt;/hero-contact&gt; &lt;/hero-bio&gt;
  &lt;hero-bio [heroId]="3"&gt; &lt;hero-contact&gt;&lt;/hero-contact&gt; &lt;/hero-bio&gt;`,</pre> <p>Now there is a new <code>&lt;hero-contact&gt;</code> element between the <code>&lt;hero-bio&gt;</code> tags. Angular <em>projects</em>, or <em>transcludes</em>, the corresponding <code>HeroContactComponent</code> into the <code>HeroBioComponent</code> view, placing it in the <code>&lt;ng-content&gt;</code> slot of the <code>HeroBioComponent</code> template:</p> <div class="pre-title">src/app/hero-bio.component.ts (template)</div>
<pre data-language="typescript">template: `
  &lt;h4&gt;{{hero.name}}&lt;/h4&gt;
  &lt;ng-content&gt;&lt;/ng-content&gt;
  &lt;textarea cols="25" [(ngModel)]="hero.description"&gt;&lt;/textarea&gt;`,</pre> <p>It looks like this, with the hero's telephone number from <code>HeroContactComponent</code> projected above the hero description:</p> <figure> <img src="data:image/png;base64,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" alt="bio and contact" width="199" height="92"> </figure> <p>Here's the <code>HeroContactComponent</code> which demonstrates the qualifying decorators:</p> <div class="pre-title">src/app/hero-contact.component.ts</div>
<pre data-language="typescript">@Component({
  selector: 'hero-contact',
  template: `
  &lt;div&gt;Phone #: {{phoneNumber}}
  &lt;span *ngIf="hasLogger"&gt;!!!&lt;/span&gt;&lt;/div&gt;`
})
export class HeroContactComponent {

  hasLogger = false;

  constructor(
      @Host() // limit to the host component's instance of the HeroCacheService
      private heroCache: HeroCacheService,

      @Host()     // limit search for logger; hides the application-wide logger
      @Optional() // ok if the logger doesn't exist
      private loggerService: LoggerService
  ) {
    if (loggerService) {
      this.hasLogger = true;
      loggerService.logInfo('HeroContactComponent can log!');
    }
  }

  get phoneNumber() { return this.heroCache.hero.phone; }

}</pre> <p>Focus on the constructor parameters:</p> <div class="pre-title">src/app/hero-contact.component.ts</div>
<pre data-language="typescript">@Host() // limit to the host component's instance of the HeroCacheService
private heroCache: HeroCacheService,

@Host()     // limit search for logger; hides the application-wide logger
@Optional() // ok if the logger doesn't exist
private loggerService: LoggerService</pre> <p>The <code>@<a href="../../api/core/host/" class="code-anchor">Host</a>()</code> function decorating the <code>heroCache</code> property ensures that you get a reference to the cache service from the parent <code>HeroBioComponent</code>. Angular throws an error if the parent lacks that service, even if a component higher in the component tree happens to have it.</p> <p>A second <code>@<a href="../../api/core/host/" class="code-anchor">Host</a>()</code> function decorates the <code>loggerService</code> property. The only <code>LoggerService</code> instance in the app is provided at the <code>AppComponent</code> level. The host <code>HeroBioComponent</code> doesn't have its own <code>LoggerService</code> provider.</p> <p>Angular would throw an error if you hadn't also decorated the property with the <code>@<a href="../../api/core/optional/" class="code-anchor">Optional</a>()</code> function. Thanks to <code>@<a href="../../api/core/optional/" class="code-anchor">Optional</a>()</code>, Angular sets the <code>loggerService</code> to null and the rest of the component adapts.</p> <p>Here's the <code>HeroBiosAndContactsComponent</code> in action.</p> <figure> <img src="data:image/png;base64,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" alt="Bios with contact into" width="206" height="393"> </figure> <p>If you comment out the <code>@<a href="../../api/core/host/" class="code-anchor">Host</a>()</code> decorator, Angular now walks up the injector ancestor tree until it finds the logger at the <code>AppComponent</code> level. The logger logic kicks in and the hero display updates with the gratuitous "!!!", indicating that the logger was found.</p> <figure> <img src="data:image/png;base64,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" alt="Without @Host" width="199" height="93"> </figure> <p>On the other hand, if you restore the <code>@<a href="../../api/core/host/" class="code-anchor">Host</a>()</code> decorator and comment out <code>@<a href="../../api/core/optional/" class="code-anchor">Optional</a></code>, the application fails for lack of the required logger at the host component level.  <code>EXCEPTION: No provider for LoggerService! (HeroContactComponent -&gt; LoggerService)</code> </p> <h2 id="inject-the-components-dom-element">Inject the component's DOM element</h2> <p>On occasion you might need to access a component's corresponding DOM element. Although developers strive to avoid it, many visual effects and 3rd party tools, such as jQuery, require DOM access.</p> <p>To illustrate, here's a simplified version of the <code>HighlightDirective</code> from the <a href="../attribute-directives/">Attribute Directives</a> page.</p> <div class="pre-title">src/app/highlight.directive.ts</div>
<pre data-language="typescript">import { Directive, ElementRef, HostListener, Input } from '@angular/core';

@Directive({
  selector: '[myHighlight]'
})
export class HighlightDirective {

  @Input('myHighlight') highlightColor: string;

  private el: HTMLElement;

  constructor(el: ElementRef) {
    this.el = el.nativeElement;
  }

  @HostListener('mouseenter') onMouseEnter() {
    this.highlight(this.highlightColor || 'cyan');
  }

  @HostListener('mouseleave') onMouseLeave() {
    this.highlight(null);
  }

  private highlight(color: string) {
    this.el.style.backgroundColor = color;
  }
}</pre> <p>The directive sets the background to a highlight color when the user mouses over the DOM element to which it is applied.</p> <p>Angular sets the constructor's <code>el</code> parameter to the injected <code><a href="../../api/core/elementref/" class="code-anchor">ElementRef</a></code>, which is a wrapper around that DOM element. Its <code>nativeElement</code> property exposes the DOM element for the directive to manipulate.</p> <p>The sample code applies the directive's <code>myHighlight</code> attribute to two <code>&lt;div&gt;</code> tags, first without a value (yielding the default color) and then with an assigned color value.</p> <div class="pre-title">src/app/app.component.html (highlight)</div>
<pre data-language="html">&lt;div id="highlight"  class="di-component"  myHighlight&gt;
  &lt;h3&gt;Hero Bios and Contacts&lt;/h3&gt;
  &lt;div myHighlight="yellow"&gt;
    &lt;hero-bios-and-contacts&gt;&lt;/hero-bios-and-contacts&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre> <p>The following image shows the effect of mousing over the <code>&lt;hero-bios-and-contacts&gt;</code> tag.</p> <figure> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAT4AAADECAMAAAAxmL3JAAADAFBMVEX1/xf//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD//wD////+/v7//wD//wD//wD//wH//wH//wH//wH//wD////U1NT//wH//wD//wD//wD//wD//wD//wD//wD//////wD//////////////////////////////////1X////U1IT//////////wD//////wD//wD//////////////wD//////////////////wD//wD////////////+/v7+/v7////9/v7+/////wH//wH//wH//wH//////wH//wH//wH//wH//wH+/////wD//wCTk3vo6Brq6uoF//0F//0F//0F//0E//2SknwF//0E//7x8hDu7u6RkX2cnHAF//4G//29vUsF//7g4CPr6xempmYF9PQF//4F//4F//4F//4E//4F//319wytrV4F//4E//7PzzcD//4D//8/Pz+bm3FOTk4D//+4uLjPz83MzDqxsVnb2yna2tUrKyv1+Avf3yXr6xc4ODgp//4G//0G//1ra2vHx8fa2tbDw0VRUVGWlpaCgoID//+4uFH19wsK//lhYWGkpKTY2NRsbGyurq7Y4IeMjITv///v//+fn5+M5cjZ2crv///a2sva2svv/xDv/xDv///v///v//9JTU3V2TKiolzv/xBh//qp8eZobGSpsnLv/xDj6+JzdVj//y3T03P//wAA//9A//+4/0fv//8Q//8A/v4C+voQ/+/v/xAE9PSJiYYxdnY9VFQQ0tI3ZmYufn4gpqYN29sJ5eUG7e37+wU/T0+MjIMqiooWwsI6XFw0b2+IiIgSzc3k5B+Skny9vUvKyj2fn20llpZBTEzw8BLo6Bre3iaurlwZuLgcr6+mpmXY2C34+AmYmHZBS0v09AxCSUlERERDR0ebm3Kr/1QRDj+DAAAAynRSTlMEFikgEBMsBwoNHCYZIy8yNazz9vD5/O3qr+ey5ODdtdrXfz/Ru9Rob5iSQ6U8SZ51X6d/zj1eT3BLZ2RhalhtOJ+oW1S4or7BUU6cyEhCRXTEy3eZlnuEk42JonpkOIaDW4xYiZFUhrvRgWZ/cluVyaHAvI7Wv4q2wCzN2cX5EBkjNVCsws8/2s7S8Y/PfuiFj77Bt5aNzb66gghHy4J+fMqKhIf40tfkiI6Hkn85y73WSDNs7FpL3+0iMhPXpIBRUFDgLkBkxDioL6guxAAAFDdJREFUeNrsmEtz28gRx/0ZNtkklUpSVpVKn2C/FG+58ETqypLsYvmo0x50WFE3lw+ukr6CmHgHEt4EQDwJvt/gS5Y23TPgQ7KdZeyqlTbsvy0CmOlpAD90Tw/w4sO/SF+tDy8+/FwmfaV+JnyEj/ARPsJHInyEj/ARPhLhI3yEj/CRCB/hI3yEj0T4CB/hI3yED2TrMt8yy2K/OpJZOsqSxUjpq07/YJwEHm32u8XHKl2d78hG9Os0ZOMjylV1BiM1+2vOvjlOClRtfqv5X3xyUmB94UpG9u8RnxHEcTwODbvMAtP5RnxSpasGuj4Owy9AYrEWfL5j7Fq/R3zciI27o69OuA18QdeXBSRV/rxx0P0CvsqzxMf0juoHcC9yZzwyO07ZGZlqR2eP8MXdUZmNMPqkwIcB2OiMNy1hoK+aFQAl+7Hupz12RfXjFT5ZDe00CscS5qMJvbDj+HoMIyzGRsZHAwjb4Noc81i3KrAns0p4F1UkFneW7c8CH+SEYUYuXLFshIZqOrbpRmaojdkmPub4kG08iuTOPDIjDCJH1VSwDFJLfhh1I3gAoWqoqqbBaexIU9UwWuKzNH8V8KzsmN3INNyKVLY1NVRVN7RYEN1FHdkyQvB1a8JTDULsMZ1x+FGtSCPNMOFIfkp8d3BzILhVqaxrvlOWxu6IyYYblyXWgd2ybWrWEp+LtgbOSBzfaN4B1BXI5cAFcrZhCiBspMFAqeIGgA+YQn52GOuIvSW+eF5hG+k4hxB0fDitrYUxA4fQi8nLOqGOQQzp6hiRxb3y5JVUyHmpoulPiy/imkdAi3OSI1WCIgEP1Qk5DgvufYkPTQ0XKCM+yQwxdRxDleFuHcbs5SLEwWIqj4Cr8CEDWCfEaJP8Jb5gE59s8PnPhoiEP4bn9lN8NlwUkzFNApg0MLkFPjkyYA0kW/IzSV7J7JqoMHRkHkeWy2/QWQZVmrzy2PUlxCesgEjoOOpdaI7XKxA76EAq3iE+ZC9FpiS8QWAuo6+7gc8Wjwgfna1hu2yk+KAP5lGjO9dX9ZZxfGzkulEnlp/L3CepXRGJpizA6C6f9eSH+PAmQwfxpdHJAB+UDjW80yrpbKYbWuSPK+6n+MrBEp+tpW7LQcWxXI5PiqJP8MGEB746rr6ut2IPCh08och6NtEXivJmM0EsDQkb82gTn2RqNo++KMJnL6mGDNnK7CBK7w8yFGto3N3EJ7yx8aeVFyZXkdk80B/hgxyFoIbFkg7hpqfXx+c+y4HUrbi+9DzwQXJg5QRaksAHV443OLodP8RnG5GM+GCyxNFQcaQKLn3BwcobcJU6t5v4ZNWApyOb63WfK9Z9oy6cULAMIKEf4RNBKptzHSdhfKhGR6rwQoLgVjPL0y9cHCMcW7EJ9VLgg/JnxtZYU53VW0cM77yBCjx55bVCI7CCKMQ7U2MrMCInjT63YukdDezW+Lg3vXO7fuvodM0AzSD/oCJHgTXC95kNfLrbsZxIG1mxr3Vj4TaG6gxxOLbTk8zH7JngY5bpzucGrDmWRWFkzOfwTvrwnXduwBTH8TFddeeuGmMIgSW8DKeWlgrjzACyfo0Pvd12jXX0leWx4c5vQx8bYJGHQ6zyJj5HvQ3tGEZpfoCrT6ejieuzjNtIdnw4CitPWXmdtHIx3RJfQGLdWR9CbujxupwyPUZxi/TLiWzF6coBLdd3IsORxCyYoXSb+7X42XTdcTa/uMDw5RcXxoegLR8hrgAGSOjLZhI/luz07E4M7zHSevT/5fc+9u33xh5syk//cYs+lxI+wkf4CB+J8BE+wkf4SISP8BE+wkcifISP8BE+EuEjfISP8BE+0jfiu/7l36Qt9cv1p/hurkhb6obwET7CR/gIH+EjfISP8BE+EuEjfISP8JEIH+EjfISPRPgIH+EjfISP8BG+Z4WvX0f1ew9G9Oq9Vffi805hHNpMYbvYXXzVdg2lzFrVjRFNZSgOq4nS+qzPXqOmJGAzUWpfsNgVfLN2u92oeYP/FV+tAeHXrO04Pn73/QZsFv0+NPT7VcQ37fcXAh80T694nvZFuvahBfA1vMnVtO0p6AAaeWevvxADdwzfDDYtpV0FkF4d8LWHnnI/QXzDtqIk9aureuIpjeb0qu7NEuW+3lASrwkHCYLvJ14NOqvVoTJMFOV+sEPJez8cJrParP4AnzKcNL1GvZrUvOYkUdqLXltpTpB13aslk3qvoTQb7WkLfpVWtemhuVevDtG8XUuqu1U6vAQCZhPf/eJqmijNaVKDWbAHeQqd06uBd7+oe5C00KS0kkZ96E0w+qr1RXUARoAvmYKf2WJ3krc5GSoNIPIAH5aOZm045aVjClHXrDUgSpVGH/D1Bb6m12zc87SfTpoJVB/EN4Rq7O0SPqgZ7Vqj/l/wYQEBfFCh2wngw4oL+CYTr6EMFzNMXmU2bIroa+4evqtBQyTdPeYnxzfD5K01qyJ5Z5i8Ca+/V2t8uPZrIT5Mbp7hO4oPwsdrIbnWAGqFKB2DVekYDGtQOmZes95qDlb4vMm0DavF6T3iU9BoZ/Fh+s5606FX84YieRNYrsxafOEyU5Q2pPbkXsGXkw18PEjRQbUFE18bZtGdw3c1GPDX295gsIACOqhPB4MpHPUWoqM+WPAuRDzgTWAA82IVG3sDXA9iYx9G9QZ92Pa5IX1xIRE+wkf4CB/hI3yEj/ARPsJHWAgf4SN8hI9E+Ajfs8fHuK5v/kTaUjfXghni+0no+uZ70pa6uU6hrfC9vr75A2k7fX+Z4nv94cX716kuvyNtqcsls/crfOeXfyRtp+8uz9f43rx+8xr+n1/+mbSlAB9Se/MG8QmdX/6FtKUuz1Nom/j+StpSm/jE7vn5xd9IW+oixXf+/sW78yP+7/zi76QtdYHEENq7F++Ojo7ewN/RxT9IW+riKIUm8HFdvEyVF4K9Un7v5ZbKo/WjptLS3WrnQb+wFyfb48ep4foaSpvNq/GPHf3mulgyW+N7VdpLdZjlOivt5bKZva30MlfM752dPWjLF0/ht3QMroo52DkVPtc6zebht8BPBufJHQpDrkJ6DXt7x8V0PDoqwIjS2WNHv7lKr9b4XqUqHQiVCsUM6Dh7dgD4DrbT8WHpoHC80VA6Lr49xY7saT5TAD/H2eN8DnyulMui91LxDM9WOsgUCxkwzIvOPDYWsrmDTBb6C8UTGI87cJpTdFQ82z94OpWWzDbwnewLlQ4LP+AGrjmXzcF98NaTTOaEb/YzmTxvyYsWobOz/ZNibn8/7YOGt4fZU9gWCiVozR6XCgVsLZaWIzLFYjbDu8TxaRGGZgq5lcv9HDo4RiO4Drgq7ih3AuTS5ifTyY9rfD++ggP4Ofkh1eFhCTeI722h+M//sFNurW1jWxzXVziPIQ8Bg+mkFKY3SuhlSs+MG0P9kMSJFDkpmWYqxlaaRomEWiH0dCqDwTGWZdmSofJNBHwJ7oGQ5/N6vtVZa2srSTudOWEmmjBmfpa0l/7rsqW/nUhHkCnBeljC9Qii7n2q6KSheVSUDovFSRHezaBDuqXmIZbpBbgUpBIJ4BcWbXL/qFiSQNKlEkSwg3GE39D9c5pFo0ny95tdqQCuoXbYxVnhxOujGXmG9lGaKyFNw8jAoh8WV/TJoV7oTtwVXSpCIJVWSuBR4UgqrJSkbkHHADu6R9JR15C6+oqur0TAq9Io05VQLoDJhUgqHRZK2N2dHB6B8c0m+I/f0Fk7bEVuulLRgI0hjw8lHRWk7nnymmhGnv2b+USjg2aGYkjFIjzyoZ5xJ6VMxpS6Ge3QzGTA12ZN0jMZXXIhNk1ThxRBh7x2tJy5iHlIk5lSWKZrRUlrRg0lkAuZTK1YwIKSKUlaQbdRCsHdYIH/e5qNbfDlmQV7ojVtyTV1Y1LLXB/NA2raJ+bTAcVcphiSbdtaTV5ediV9edlUu2nDxoQmmTUJymTytiowIfqyrBmebmje2QgE+sia7kpaejkKXR2G254NjSVJPiu1Tckgk7skb+LeNezQVC+MTRt2tFVtWTYmqqqR7HVhHnwMPSP2fSSHmaYYxiIuy+m0m3fTaVPVTMNGRVPNWl5Op718zczbLuKhLquTvJSf5PO19AWgjyxavkuKcD50uuC60Z0Ytq1OjFpUasMR9pA8bKLhTmkqk/1dVzdV6DBhWw+f7Now0bqPkX2E9+ZiSNIwkjSs593FRXilpK1C1rSJfYuLaJ9qYL1HmkxPrck11ZOjEQRZ1TBn52vnd254s+hpgJG366aGspenW8DkxfTFp4AFd1btZE2jD6ThCPIc14b5/uDs1/f+gHzey8mQlGHM0RCeNpmEF4dAk+VavpaEx04mPRLUQgXx8l6yZpAomhL2JZMa1smymbTzddkz1PM8DPUwD7KtemQLz0Yp7M5rZCX7QBEEddmFX2lSU125TrPXhBx5hvZR5FTInGrQKAX2pVLwIqlULQ9oc7BCGdiXglcKFVKnyikbqqD2rDfsk/MhWkq282pedVPn1PJeisr1VLiFWouSuAcyG+5DCw3o8AwIbDl1nYSOHVy0b44y67qzNJTrMlzrHoheHZc5rz73hYJ47tycS27q7tzZHJKuh2ADLLNzF/DI7axbJ7t8NhC3pvGZfNYPgTv32aQ/ncgzsO9DGH2YPWPmK9HFm5noelH5rPS8boYy+6vMfK314jPM/DL1G+P+FCLPPjG3PlBm/ubSRJ7dOrfvH39zaX5p3/5dyn//OQ3cjZUL9u1/2N/Hc+PuBmY2nFtTgLMRm3UweSPy7BbzfJ+yQXGeTwHORqxEnj1nnkXhtyEbzrMpwPk2ViLPnjEv9vdg3dvfmw8z886LKcCZj9G8+fnQsv29F8wqOLeH5zzFWV3lA2sVGA5X/w/OeKysXooXgsVHofNl0wveElavEsGZj5U9Ytn+3iqztkehmZvO2hpfrq4BwXjttxHG46qwdjmcshKFVkP5ImmV+bWrRHBu4qvEdIb2IWuMEIU3Kc76ulKurq+vC8FYWBccS1lf5x3FUeAKl5BQtsp9Ijg8phWUoMhSBLhCMQ+LsB5ehGqjzZMktsElrIZOWIVh2RJAwcIrgXduxkrkmcDwe3vv8Hi3HWa2LUEA+wQgGPN8UG6Uh7zVGJeHyhhikhAUIiuDRmPMCwI/HvfgdtxoWIIDRQ1oKMPaU5yGIwjDHtQoPcg6A0wKYB8/hAF9nu9hp6XAjYPKWBGuBN6Kz7rtm9vb7/bCD8/w7yjblBHPK+VyD2gMcsPyCKywRo1hjgt6Ctw7PAByrl22uF4V7/hBWVQGZSsXjLlgjEXKqNHPieUqNxjyufEQa8CzXBBwuX5ZgbBatvgRDhgoXDDIgaLALHFs8VfDaPs1vAqeV35BIs94JheFrymjXE5p+UOgN+AGvmWNev1RYwRiFTK941wux/WGcPEDeOUcMghyuf4glxv2lJGYU6oNcdQQQe6Dwok9EWtGYJ+lQLKstMuiP7BG1iAg46o9rt0D+wZVUngVcKPXsRJ5lmO2aPTmZ8poawuc2gICH//kWo0W2CduiS3IcIM+JMA2miZ1nA9i3+e2jsGs/qDXAvtaIpGh6RgSACojTLbEdksc4NhGQAaE9m2N/EbLF7euBG70c6y8oaZxDPeG8iOlw3Fiq8oBgc8O+hhw8O4gtjmOrQw5ek34AVshdQkfqvp+gjuuwM+qOgJ7sAFlOP1qNEKp+NVRldjnBwmODIJktcK2e2ICPtVWn8h/nNGPsRJ5xjGJN+9ghfMepZPgxEo1AYB9/Qq8VdDutMQE6/tiotrqYAblTqvKhnXgEUh+IgH2tY4TbL8lYgORq5WBSGpAgS8AhhH7jlujhNgPB6B9kKy0YYsgcSWwnXuxQgyDI8GwkZObYWYT/AntY8E+0a8A4AaoHQz7LGaIHLDUPtbvs2zfZ1mwL2hVBn6rE/oNxWIrYMkbiZVK229VKpBEswIc1ons67QqnX4LFTLvjx+dzRjN27wXecYy7O6b3Tdw7G5SOiybbYssXDttDI/bWVY8zoIgto8hiWSzJAzrWLYNMRbDiQmQxWo2lBcGbdrSORYXzpNw214gA7Iidh6LqJBtw/Lfe9DNNmOFOAYHy2TRPvjsbt4OOclms0tL2a+xdAkFtfP2dt9f+KIYkkvnnUsXN/uVbX8HJ7djZPP2LhoGR5ZZ2qV8E9m3dHU8DSpXOe7ydG7HSuTZErNwZh/lZOEvz9OFk29iJfJsgXm6u7uzi+eNMHPj5OkUELN9O9S+p8yTnZ3dHTxvUE6eTAEnN2Jlh/KEeRiFNPPy5OFfn0dx27cbevaQeRTZ95Jy+mgKOH0ZK5Fnj5jHb3fe7sDx9k7Iy9PHU8DpnZd3YgIHE8fgeMw8eAvWITT76vTBFHB659WdGCGGgW8PmO/fUl5RTr+fAk5fxUrk2ffMd1H4E+X0uyng9Kc4+U/k2Q/MD//6X7t0j9sgDAVw3P1M+pncgRGRDVlsHbKABLkBI2MPwNLSDjlEOIUHLJEMLNyrEN4DpHR4iwdH72cbPYnJfxk02ZmstrYLq22VGdXl+uybbUWIYyMHOrSdUqGWMpOGZE2DTy4U0fj6hp+NjqwWVEpFkZYmjfkiEZTl73lvgA6s5ijVffXGqD5YvwIRl2DMF9tMKxU7ShvPN4jFDkcX6J3FurfXH0d3F9kYOq7bYrOdSPb78rxbyOclFlMq6eslnmsUNkuEswetP/Acy/UX8HxjWtdvsZkz5Usx31XwjZryHX9ACj6uQmrQOsVmxynfmpFd5stXjGyWLwfvjAybzfI9MrIpX43jLSMroFkt6gK8MLIcms3yvTGy4jLfHSOb5fsGz4wMm9XihOMrI8NmpynfDSOb5fsCD4wMm83y3TOyf/I9MTJsthQHtGRkYzSxwGnByKZ84gCL0Y3N/gDYedd/LQN6PwAAAABJRU5ErkJggg==" alt="Highlighted bios" width="318" height="196"> </figure>  <h2 id="define-dependencies-with-providers">Define dependencies with providers</h2> <p>This section demonstrates how to write providers that deliver dependent services.</p> <p>Get a service from a dependency injector by giving it a <strong><em>token</em></strong>.</p> <p>You usually let Angular handle this transaction by specifying a constructor parameter and its type. The parameter type serves as the injector lookup <em>token</em>. Angular passes this token to the injector and assigns the result to the parameter. Here's a typical example:</p> <div class="pre-title">src/app/hero-bios.component.ts (component constructor injection)</div>
<pre data-language="typescript">constructor(logger: LoggerService) {
  logger.logInfo('Creating HeroBiosComponent');
}</pre> <p>Angular asks the injector for the service associated with the <code>LoggerService</code> and assigns the returned value to the <code>logger</code> parameter.</p> <p>Where did the injector get that value? It may already have that value in its internal container. If it doesn't, it may be able to make one with the help of a <strong><em>provider</em></strong>. A <em>provider</em> is a recipe for delivering a service associated with a <em>token</em>.</p> <blockquote class="l-sub-section"> <p>If the injector doesn't have a provider for the requested <em>token</em>, it delegates the request to its parent injector, where the process repeats until there are no more injectors. If the search is futile, the injector throws an error—unless the request was <a href="../dependency-injection-in-action/#optional">optional</a>.</p> </blockquote> <p>A new injector has no providers. Angular initializes the injectors it creates with some providers it cares about. You have to register your <em>own</em> application providers manually, usually in the <code>providers</code> array of the <code><a href="../../api/core/component/" class="code-anchor">Component</a></code> or <code><a href="../../api/core/directive/" class="code-anchor">Directive</a></code> metadata:</p> <div class="pre-title">src/app/app.component.ts (providers)</div>
<pre data-language="typescript">providers: [ LoggerService, UserContextService, UserService ]</pre>  <h3 id="defining-providers">Defining providers</h3> <p>The simple class provider is the most typical by far. You mention the class in the <code>providers</code> array and you're done.</p> <div class="pre-title">src/app/hero-bios.component.ts (class provider)</div>
<pre data-language="typescript">providers: [HeroService]</pre> <p>It's that simple because the most common injected service is an instance of a class. But not every dependency can be satisfied by creating a new instance of a class. You need other ways to deliver dependency values and that means you need other ways to specify a provider.</p> <p>The <code>HeroOfTheMonthComponent</code> example demonstrates many of the alternatives and why you need them. It's visually simple: a few properties and the logs produced by a logger.</p> <figure> <img src="data:image/png;base64,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" alt="Hero of the month" width="300" height="165"> </figure> <p>The code behind it gives you plenty to think about.</p> <div class="pre-title">hero-of-the-month.component.ts</div>
<pre data-language="typescript">import { Component, Inject } from '@angular/core';

import { DateLoggerService } from './date-logger.service';
import { Hero }              from './hero';
import { HeroService }       from './hero.service';
import { LoggerService }     from './logger.service';
import { MinimalLogger }     from './minimal-logger.service';
import { RUNNERS_UP,
         runnersUpFactory }  from './runners-up';

@Component({
  selector: 'hero-of-the-month',
  templateUrl: './hero-of-the-month.component.html',
  providers: [
    { provide: Hero,          useValue:    someHero },
    { provide: TITLE,         useValue:   'Hero of the Month' },
    { provide: HeroService,   useClass:    HeroService },
    { provide: LoggerService, useClass:    DateLoggerService },
    { provide: MinimalLogger, useExisting: LoggerService },
    { provide: RUNNERS_UP,    useFactory:  runnersUpFactory(2), deps: [Hero, HeroService] }
  ]
})
export class HeroOfTheMonthComponent {
  logs: string[] = [];

  constructor(
      logger: MinimalLogger,
      public heroOfTheMonth: Hero,
      @Inject(RUNNERS_UP) public runnersUp: string,
      @Inject(TITLE) public title: string)
  {
    this.logs = logger.logs;
    logger.logInfo('starting up');
  }
}</pre>  <h4 id="the-provide-object-literal">The <em>provide</em> object literal</h4> <p>The <code>provide</code> object literal takes a <em>token</em> and a <em>definition object</em>. The <em>token</em> is usually a class but <a href="../dependency-injection-in-action/#tokens">it doesn't have to be</a>.</p> <p>The <em>definition</em> object has a required property that specifies how to create the singleton instance of the service. In this case, the property.</p>  <h4 id="usevaluethe-value-provider">useValue—the <em>value provider</em>
</h4> <p>Set the <code>useValue</code> property to a <strong><em>fixed value</em></strong> that the provider can return as the service instance (AKA, the "dependency object").</p> <p>Use this technique to provide <em>runtime configuration constants</em> such as website base addresses and feature flags. You can use a <em>value provider</em> in a unit test to replace a production service with a fake or mock.</p> <p>The <code>HeroOfTheMonthComponent</code> example has two <em>value providers</em>. The first provides an instance of the <code>Hero</code> class; the second specifies a literal string resource:</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">{ provide: Hero,          useValue:    someHero },
{ provide: TITLE,         useValue:   'Hero of the Month' },</pre> <p>The <code>Hero</code> provider token is a class which makes sense because the value is a <code>Hero</code> and the consumer of the injected hero would want the type information.</p> <p>The <code>TITLE</code> provider token is <em>not a class</em>. It's a special kind of provider lookup key called an <a href="../dependency-injection-in-action/#injection-token">InjectionToken</a>. You can use an <code><a href="../../api/core/injectiontoken/" class="code-anchor">InjectionToken</a></code> for any kind of provider but it's particular helpful when the dependency is a simple value like a string, a number, or a function.</p> <p>The value of a <em>value provider</em> must be defined <em>now</em>. You can't create the value later. Obviously the title string literal is immediately available. The <code>someHero</code> variable in this example was set earlier in the file:</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">const someHero = new Hero(42, 'Magma', 'Had a great month!', '555-555-5555');</pre> <p>The other providers create their values <em>lazily</em> when they're needed for injection.</p>  <h4 id="useclassthe-class-provider">useClass—the <em>class provider</em>
</h4> <p>The <code>useClass</code> provider creates and returns new instance of the specified class.</p> <p>Use this technique to <strong><em>substitute an alternative implementation</em></strong> for a common or default class. The alternative could implement a different strategy, extend the default class, or fake the behavior of the real class in a test case.</p> <p>Here are two examples in the <code>HeroOfTheMonthComponent</code>:</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">{ provide: HeroService,   useClass:    HeroService },
{ provide: LoggerService, useClass:    DateLoggerService },</pre> <p>The first provider is the <em>de-sugared</em>, expanded form of the most typical case in which the class to be created (<code>HeroService</code>) is also the provider's dependency injection token. It's in this long form to de-mystify the preferred short form.</p> <p>The second provider substitutes the <code>DateLoggerService</code> for the <code>LoggerService</code>. The <code>LoggerService</code> is already registered at the <code>AppComponent</code> level. When <em>this component</em> requests the <code>LoggerService</code>, it receives the <code>DateLoggerService</code> instead.</p> <blockquote class="l-sub-section"> <p>This component and its tree of child components receive the <code>DateLoggerService</code> instance. Components outside the tree continue to receive the original <code>LoggerService</code> instance.</p> </blockquote> <p>The <code>DateLoggerService</code> inherits from <code>LoggerService</code>; it appends the current date/time to each message:</p> <div class="pre-title">src/app/date-logger.service.ts</div>
<pre data-language="typescript">@Injectable()
export class DateLoggerService extends LoggerService
{
  logInfo(msg: any)  { super.logInfo(stamp(msg)); }
  logDebug(msg: any) { super.logInfo(stamp(msg)); }
  logError(msg: any) { super.logError(stamp(msg)); }
}

function stamp(msg: any) { return msg + ' at ' + new Date(); }</pre>  <h4 id="useexistingthe-alias-provider">
<em>useExisting</em>—the <em>alias provider</em>
</h4> <p>The <code>useExisting</code> provider maps one token to another. In effect, the first token is an <strong><em>alias</em></strong> for the service associated with the second token, creating <strong><em>two ways to access the same service object</em></strong>.</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">{ provide: MinimalLogger, useExisting: LoggerService },</pre> <p>Narrowing an API through an aliasing interface is <em>one</em> important use case for this technique. The following example shows aliasing for that purpose.</p> <p>Imagine that the <code>LoggerService</code> had a large API, much larger than the actual three methods and a property. You might want to shrink that API surface to just the members you actually need. Here the <code>MinimalLogger</code> <a href="../dependency-injection-in-action/#class-interface"><em>class-interface</em></a> reduces the API to two members:</p> <div class="pre-title">src/app/minimal-logger.service.ts</div>
<pre data-language="typescript">// Class used as a "narrowing" interface that exposes a minimal logger
// Other members of the actual implementation are invisible
export abstract class MinimalLogger {
  logs: string[];
  logInfo: (msg: string) =&gt; void;
}</pre> <p>Now put it to use in a simplified version of the <code>HeroOfTheMonthComponent</code>.</p> <div class="pre-title">src/app/hero-of-the-month.component.ts (minimal version)</div>
<pre data-language="typescript">@Component({
  selector: 'hero-of-the-month',
  templateUrl: './hero-of-the-month.component.html',
  // Todo: move this aliasing, `useExisting` provider to the AppModule
  providers: [{ provide: MinimalLogger, useExisting: LoggerService }]
})
export class HeroOfTheMonthComponent {
  logs: string[] = [];
  constructor(logger: MinimalLogger) {
    logger.logInfo('starting up');
  }
}</pre> <p>The <code>HeroOfTheMonthComponent</code> constructor's <code>logger</code> parameter is typed as <code>MinimalLogger</code> so only the <code>logs</code> and <code>logInfo</code> members are visible in a TypeScript-aware editor:</p> <figure> <img src="data:image/png;base64,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" alt="MinimalLogger restricted API" width="532" height="60"> </figure> <p>Behind the scenes, Angular actually sets the <code>logger</code> parameter to the full service registered under the <code>LoggingService</code> token which happens to be the <code>DateLoggerService</code> that was <a href="../dependency-injection-in-action/#useclass">provided above</a>.</p> <blockquote class="l-sub-section"> <p>The following image, which displays the logging date, confirms the point:</p> <figure> <img src="data:image/png;base64,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" alt="DateLoggerService entry" width="300" height="32"> </figure> </blockquote>  <h4 id="usefactorythe-factory-provider">
<em>useFactory</em>—the <em>factory provider</em>
</h4> <p>The <code>useFactory</code> provider creates a dependency object by calling a factory function as in this example.</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">{ provide: RUNNERS_UP,    useFactory:  runnersUpFactory(2), deps: [Hero, HeroService] }</pre> <p>Use this technique to <strong><em>create a dependency object</em></strong> with a factory function whose inputs are some <strong><em>combination of injected services and local state</em></strong>.</p> <p>The <em>dependency object</em> doesn't have to be a class instance. It could be anything. In this example, the <em>dependency object</em> is a string of the names of the runners-up to the "Hero of the Month" contest.</p> <p>The local state is the number <code>2</code>, the number of runners-up this component should show. It executes <code>runnersUpFactory</code> immediately with <code>2</code>.</p> <p>The <code>runnersUpFactory</code> itself isn't the provider factory function. The true provider factory function is the function that <code>runnersUpFactory</code> returns.</p> <div class="pre-title">runners-up.ts (excerpt)</div>
<pre data-language="typescript">export function runnersUpFactory(take: number) {
  return (winner: Hero, heroService: HeroService): string =&gt; {
    /* ... */
  };
};</pre> <p>That returned function takes a winning <code>Hero</code> and a <code>HeroService</code> as arguments.</p> <p>Angular supplies these arguments from injected values identified by the two <em>tokens</em> in the <code>deps</code> array. The two <code>deps</code> values are <em>tokens</em> that the injector uses to provide these factory function dependencies.</p> <p>After some undisclosed work, the function returns the string of names and Angular injects it into the <code>runnersUp</code> parameter of the <code>HeroOfTheMonthComponent</code>.</p> <blockquote class="l-sub-section"> <p>The function retrieves candidate heroes from the <code>HeroService</code>, takes <code>2</code> of them to be the runners-up, and returns their concatenated names. Look at the  for the full source code.</p> </blockquote>  <h2 id="provider-token-alternatives-the-class-interface-and-injectiontoken">Provider token alternatives: the <code>class-interface</code> and <code>InjectionToken</code>
</h2> <p>Angular dependency injection is easiest when the provider <em>token</em> is a class that is also the type of the returned dependency object, or what you usually call the <em>service</em>.</p> <p>But the token doesn't have to be a class and even when it is a class, it doesn't have to be the same type as the returned object. That's the subject of the next section. </p> <h3 id="class-interface">class-interface</h3> <p>The previous <em>Hero of the Month</em> example used the <code>MinimalLogger</code> class as the token for a provider of a <code>LoggerService</code>.</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">{ provide: MinimalLogger, useExisting: LoggerService },</pre> <p>The <code>MinimalLogger</code> is an abstract class.</p> <div class="pre-title">dependency-injection-in-action/src/app/minimal-logger.service.ts</div>
<pre data-language="typescript">// Class used as a "narrowing" interface that exposes a minimal logger
// Other members of the actual implementation are invisible
export abstract class MinimalLogger {
  logs: string[];
  logInfo: (msg: string) =&gt; void;
}</pre> <p>You usually inherit from an abstract class. But <em>no class</em> in this application inherits from <code>MinimalLogger</code>.</p> <p>The <code>LoggerService</code> and the <code>DateLoggerService</code> <em>could</em> have inherited from <code>MinimalLogger</code>. They could have <em>implemented</em> it instead in the manner of an interface. But they did neither. The <code>MinimalLogger</code> is used exclusively as a dependency injection token.</p> <p>When you use a class this way, it's called a <strong><em>class-interface</em></strong>. The key benefit of a <em>class-interface</em> is that you can get the strong-typing of an interface and you can <strong><em>use it as a provider token</em></strong> in the way you would a normal class.</p> <p>A <strong><em>class-interface</em></strong> should define <em>only</em> the members that its consumers are allowed to call. Such a narrowing interface helps decouple the concrete class from its consumers.</p> <blockquote class="l-sub-section"> <h4 id="why-minimallogger-is-a-class-and-not-a-typescript-interface">Why <em>MinimalLogger</em> is a class and not a TypeScript interface</h4> <p>You can't use an interface as a provider token because interfaces are not JavaScript objects. They exist only in the TypeScript design space. They disappear after the code is transpiled to JavaScript.</p> <p>A provider token must be a real JavaScript object of some kind: such as a function, an object, a string, or a class.</p> <p>Using a class as an interface gives you the characteristics of an interface in a real JavaScript object.</p> <p>Of course a real object occupies memory. To minimize memory cost, the class should have <em>no implementation</em>. The <code>MinimalLogger</code> transpiles to this unoptimized, pre-minified JavaScript for a constructor function:</p> <div class="pre-title">dependency-injection-in-action/src/app/minimal-logger.service.ts</div>
<pre data-language="typescript">var MinimalLogger = (function () {
  function MinimalLogger() {}
  return MinimalLogger;
}());
exports("MinimalLogger", MinimalLogger);</pre> <p>Notice that it doesn't have a single member. It never grows no matter how many members you add to the class <em>as long as those members are typed but not implemented</em>. Look again at the TypeScript <code>MinimalLogger</code> class to confirm that it has no implementation.</p> </blockquote>  <h3 id="injectiontoken"><code>InjectionToken</code></h3> <p>Dependency objects can be simple values like dates, numbers and strings, or shapeless objects like arrays and functions.</p> <p>Such objects don't have application interfaces and therefore aren't well represented by a class. They're better represented by a token that is both unique and symbolic, a JavaScript object that has a friendly name but won't conflict with another token that happens to have the same name.</p> <p>The <code><a href="../../api/core/injectiontoken/" class="code-anchor">InjectionToken</a></code> has these characteristics. You encountered them twice in the <em>Hero of the Month</em> example, in the <em>title</em> value provider and in the <em>runnersUp</em> factory provider.</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">{ provide: TITLE,         useValue:   'Hero of the Month' },
{ provide: RUNNERS_UP,    useFactory:  runnersUpFactory(2), deps: [Hero, HeroService] }</pre> <p>You created the <code>TITLE</code> token like this:</p> <div class="pre-title">dependency-injection-in-action/src/app/hero-of-the-month.component.ts</div>
<pre data-language="typescript">import { InjectionToken } from '@angular/core';

export const TITLE = new InjectionToken&lt;string&gt;('title');</pre> <p>The type parameter, while optional, conveys the dependency's type to developers and tooling. The token description is another developer aid.</p>  <h2 id="inject-into-a-derived-class">Inject into a derived class</h2> <p>Take care when writing a component that inherits from another component. If the base component has injected dependencies, you must re-provide and re-inject them in the derived class and then pass them down to the base class through the constructor.</p> <p>In this contrived example, <code>SortedHeroesComponent</code> inherits from <code>HeroesBaseComponent</code> to display a <em>sorted</em> list of heroes.</p> <figure> <img src="data:image/png;base64,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" alt="Sorted Heroes" width="135" height="107"> </figure> <p>The <code>HeroesBaseComponent</code> could stand on its own. It demands its own instance of the <code>HeroService</code> to get heroes and displays them in the order they arrive from the database.</p> <div class="pre-title">src/app/sorted-heroes.component.ts (HeroesBaseComponent)</div>
<pre data-language="typescript">@Component({
  selector: 'unsorted-heroes',
  template: `&lt;div *ngFor="let hero of heroes"&gt;{{hero.name}}&lt;/div&gt;`,
  providers: [HeroService]
})
export class HeroesBaseComponent implements OnInit {
  constructor(private heroService: HeroService) { }

  heroes: Array&lt;Hero&gt;;

  ngOnInit() {
    this.heroes = this.heroService.getAllHeroes();
    this.afterGetHeroes();
  }

  // Post-process heroes in derived class override.
  protected afterGetHeroes() {}

}</pre> <blockquote class="l-sub-section"> <p><strong><em>Keep constructors simple.</em></strong> They should do little more than initialize variables. This rule makes the component safe to construct under test without fear that it will do something dramatic like talk to the server. That's why you call the <code>HeroService</code> from within the <code>ngOnInit</code> rather than the constructor.</p> </blockquote> <p>Users want to see the heroes in alphabetical order. Rather than modify the original component, sub-class it and create a <code>SortedHeroesComponent</code> that sorts the heroes before presenting them. The <code>SortedHeroesComponent</code> lets the base class fetch the heroes.</p> <p>Unfortunately, Angular cannot inject the <code>HeroService</code> directly into the base class. You must provide the <code>HeroService</code> again for <em>this</em> component, then pass it down to the base class inside the constructor.</p> <div class="pre-title">src/app/sorted-heroes.component.ts (SortedHeroesComponent)</div>
<pre data-language="typescript">@Component({
  selector: 'sorted-heroes',
  template: `&lt;div *ngFor="let hero of heroes"&gt;{{hero.name}}&lt;/div&gt;`,
  providers: [HeroService]
})
export class SortedHeroesComponent extends HeroesBaseComponent {
  constructor(heroService: HeroService) {
    super(heroService);
  }

  protected afterGetHeroes() {
    this.heroes = this.heroes.sort((h1, h2) =&gt; {
      return h1.name &lt; h2.name ? -1 :
            (h1.name &gt; h2.name ? 1 : 0);
    });
  }
}</pre> <p>Now take note of the <code>afterGetHeroes()</code> method. Your first instinct might have been to create an <code>ngOnInit</code> method in <code>SortedHeroesComponent</code> and do the sorting there. But Angular calls the <em>derived</em> class's <code>ngOnInit</code> <em>before</em> calling the base class's <code>ngOnInit</code> so you'd be sorting the heroes array <em>before they arrived</em>. That produces a nasty error.</p> <p>Overriding the base class's <code>afterGetHeroes()</code> method solves the problem.</p> <p>These complications argue for <em>avoiding component inheritance</em>.</p>  <h2 id="find-a-parent-component-by-injection">Find a parent component by injection</h2> <p>Application components often need to share information. More loosely coupled techniques such as data binding and service sharing are preferable. But sometimes it makes sense for one component to have a direct reference to another component perhaps to access values or call methods on that component.</p> <p>Obtaining a component reference is a bit tricky in Angular. Although an Angular application is a tree of components, there is no public API for inspecting and traversing that tree.</p> <p>There is an API for acquiring a child reference. Check out <code><a href="../../api/core/query/" class="code-anchor">Query</a></code>, <code><a href="../../api/core/querylist/" class="code-anchor">QueryList</a></code>, <code><a href="../../api/core/viewchildren/" class="code-anchor">ViewChildren</a></code>, and <code><a href="../../api/core/contentchildren/" class="code-anchor">ContentChildren</a></code> in the <a href="../../api/">API Reference</a>.</p> <p>There is no public API for acquiring a parent reference. But because every component instance is added to an injector's container, you can use Angular dependency injection to reach a parent component.</p> <p>This section describes some techniques for doing that.</p>  <h3 id="find-a-parent-component-of-known-type">Find a parent component of known type</h3> <p>You use standard class injection to acquire a parent component whose type you know.</p> <p>In the following example, the parent <code>AlexComponent</code> has several children including a <code>CathyComponent</code>:</p>  <div class="pre-title">parent-finder.component.ts (AlexComponent v.1)</div>
<pre data-language="typescript">@Component({
  selector: 'alex',
  template: `
    &lt;div class="a"&gt;
      &lt;h3&gt;{{name}}&lt;/h3&gt;
      &lt;cathy&gt;&lt;/cathy&gt;
      &lt;craig&gt;&lt;/craig&gt;
      &lt;carol&gt;&lt;/carol&gt;
    &lt;/div&gt;`,
})
export class AlexComponent extends Base
{
  name= 'Alex';
}</pre> <p><em>Cathy</em> reports whether or not she has access to <em>Alex</em> after injecting an <code>AlexComponent</code> into her constructor:</p> <div class="pre-title">parent-finder.component.ts (CathyComponent)</div>
<pre data-language="typescript">@Component({
  selector: 'cathy',
  template: `
  &lt;div class="c"&gt;
    &lt;h3&gt;Cathy&lt;/h3&gt;
    {{alex ? 'Found' : 'Did not find'}} Alex via the component class.&lt;br&gt;
  &lt;/div&gt;`
})
export class CathyComponent {
  constructor( @Optional() public alex: AlexComponent ) { }
}</pre> <p>Notice that even though the <a href="../dependency-injection-in-action/#optional">@Optional</a> qualifier is there for safety, the  confirms that the <code>alex</code> parameter is set.</p>  <h3 id="cannot-find-a-parent-by-its-base-class">Cannot find a parent by its base class</h3> <p>What if you <em>don't</em> know the concrete parent component class?</p> <p>A re-usable component might be a child of multiple components. Imagine a component for rendering breaking news about a financial instrument. For business reasons, this news component makes frequent calls directly into its parent instrument as changing market data streams by.</p> <p>The app probably defines more than a dozen financial instrument components. If you're lucky, they all implement the same base class whose API your <code>NewsComponent</code> understands.</p> <blockquote class="l-sub-section"> <p>Looking for components that implement an interface would be better. That's not possible because TypeScript interfaces disappear from the transpiled JavaScript, which doesn't support interfaces. There's no artifact to look for.</p> </blockquote> <p>This isn't necessarily good design. This example is examining <em>whether a component can inject its parent via the parent's base class</em>.</p> <p>The sample's <code>CraigComponent</code> explores this question. <a href="../dependency-injection-in-action/#alex">Looking back</a>, you see that the <code>Alex</code> component <em>extends</em> (<em>inherits</em>) from a class named <code>Base</code>.</p> <div class="pre-title">parent-finder.component.ts (Alex class signature)</div>
<pre data-language="typescript">export class AlexComponent extends Base</pre> <p>The <code>CraigComponent</code> tries to inject <code>Base</code> into its <code>alex</code> constructor parameter and reports if it succeeded.</p> <div class="pre-title">parent-finder.component.ts (CraigComponent)</div>
<pre data-language="typescript">@Component({
  selector: 'craig',
  template: `
  &lt;div class="c"&gt;
    &lt;h3&gt;Craig&lt;/h3&gt;
    {{alex ? 'Found' : 'Did not find'}} Alex via the base class.
  &lt;/div&gt;`
})
export class CraigComponent {
  constructor( @Optional() public alex: Base ) { }
}</pre> <p>Unfortunately, this does not work. The  confirms that the <code>alex</code> parameter is null. <em>You cannot inject a parent by its base class.</em></p>  <h3 id="find-a-parent-by-its-class-interface">Find a parent by its class-interface</h3> <p>You can find a parent component with a <a href="../dependency-injection-in-action/#class-interface">class-interface</a>.</p> <p>The parent must cooperate by providing an <em>alias</em> to itself in the name of a <em>class-interface</em> token.</p> <p>Recall that Angular always adds a component instance to its own injector; that's why you could inject <em>Alex</em> into <em>Cathy</em> <a href="../dependency-injection-in-action/#known-parent">earlier</a>.</p> <p>Write an <a href="../dependency-injection-in-action/#useexisting"><em>alias provider</em></a>—a <code>provide</code> object literal with a <code>useExisting</code> definition—that creates an <em>alternative</em> way to inject the same component instance and add that provider to the <code>providers</code> array of the <code>@<a href="../../api/core/component/" class="code-anchor">Component</a></code> metadata for the <code>AlexComponent</code>:</p>  <div class="pre-title">parent-finder.component.ts (AlexComponent providers)</div>
<pre data-language="typescript">providers: [{ provide: Parent, useExisting: forwardRef(() =&gt; AlexComponent) }],</pre> <p><a href="../dependency-injection-in-action/#parent-token">Parent</a> is the provider's <em>class-interface</em> token. The <a href="../dependency-injection-in-action/#forwardref"><em>forwardRef</em></a> breaks the circular reference you just created by having the <code>AlexComponent</code> refer to itself.</p> <p><em>Carol</em>, the third of <em>Alex</em>'s child components, injects the parent into its <code>parent</code> parameter, the same way you've done it before:</p> <div class="pre-title">parent-finder.component.ts (CarolComponent class)</div>
<pre data-language="typescript">export class CarolComponent {
  name= 'Carol';
  constructor( @Optional() public parent: Parent ) { }
}</pre> <p>Here's <em>Alex</em> and family in action:</p> <figure> <img src="data:image/png;base64,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" alt="Alex in action" width="302" height="374"> </figure>  <h3 id="find-the-parent-in-a-tree-of-parents-with-skipself">Find the parent in a tree of parents with <code>@SkipSelf()</code>
</h3> <p>Imagine one branch of a component hierarchy: <em>Alice</em> -&gt; <em>Barry</em> -&gt; <em>Carol</em>. Both <em>Alice</em> and <em>Barry</em> implement the <code>Parent</code> <em>class-interface</em>.</p> <p><em>Barry</em> is the problem. He needs to reach his parent, <em>Alice</em>, and also be a parent to <em>Carol</em>. That means he must both <em>inject</em> the <code>Parent</code> <em>class-interface</em> to get <em>Alice</em> and <em>provide</em> a <code>Parent</code> to satisfy <em>Carol</em>.</p> <p>Here's <em>Barry</em>:</p> <div class="pre-title">parent-finder.component.ts (BarryComponent)</div>
<pre data-language="typescript">const templateB = `
  &lt;div class="b"&gt;
    &lt;div&gt;
      &lt;h3&gt;{{name}}&lt;/h3&gt;
      &lt;p&gt;My parent is {{parent?.name}}&lt;/p&gt;
    &lt;/div&gt;
    &lt;carol&gt;&lt;/carol&gt;
    &lt;chris&gt;&lt;/chris&gt;
  &lt;/div&gt;`;

@Component({
  selector:   'barry',
  template:   templateB,
  providers:  [{ provide: Parent, useExisting: forwardRef(() =&gt; BarryComponent) }]
})
export class BarryComponent implements Parent {
  name = 'Barry';
  constructor( @SkipSelf() @Optional() public parent: Parent ) { }
}</pre> <p><em>Barry</em>'s <code>providers</code> array looks just like <a href="../dependency-injection-in-action/#alex-providers"><em>Alex</em>'s</a>. If you're going to keep writing <a href="../dependency-injection-in-action/#useexisting"><em>alias providers</em></a> like this you should create a <a href="../dependency-injection-in-action/#provideparent">helper function</a>.</p> <p>For now, focus on <em>Barry</em>'s constructor:</p> <code-tabs> <div class="pre-title">Barry's constructor</div>
<pre data-language="typescript">constructor( @SkipSelf() @Optional() public parent: Parent ) { }</pre> <div class="pre-title">Carol's constructor</div>
<pre data-language="typescript">constructor( @Optional() public parent: Parent ) { }</pre> </code-tabs> <p>It's identical to <em>Carol</em>'s constructor except for the additional <code>@<a href="../../api/core/skipself/" class="code-anchor">SkipSelf</a></code> decorator.</p> <p><code>@<a href="../../api/core/skipself/" class="code-anchor">SkipSelf</a></code> is essential for two reasons:</p> <ol> <li> <p>It tells the injector to start its search for a <code>Parent</code> dependency in a component <em>above</em> itself, which <em>is</em> what parent means.</p> </li> <li> <p>Angular throws a cyclic dependency error if you omit the <code>@<a href="../../api/core/skipself/" class="code-anchor">SkipSelf</a></code> decorator.</p> <p><code>Cannot instantiate cyclic dependency! (BethComponent -&gt; Parent -&gt; BethComponent)</code></p> </li> </ol> <p>Here's <em>Alice</em>, <em>Barry</em> and family in action:</p> <figure> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASoAAAJ3CAMAAAAUHOypAAAByFBMVEX////6GRvv7/gbHZgQEBD/tL6yytit2Ob/wMvv7++iyuD+v8oAAAD+wMv2u8Ws1+XyucOr1eL8v8n6vsiUjo/S0tKakJJZWbSmptf/h4f/b3VHR6u5ud9wjMY8S6uUlM//bGx9nM0wO6Q1NaOq0d5IWrH/WmCJq9MtLS15eXmmytXqtr+FhYX4vMeSjY2vmp6jxdDbr7fTq7L/7++Xj5H/HB2LkJGek5WPjIzjs7vwucLDnajLp624nqNOS0ziTVLoPkLJjpf/NDf/QkXuLjGmlpnPf4f/l6D/T1T/fIP/iZHtuMGNk5WoztrBo6jmtL2KjY7gsrqfusOPl5pxYmSJiYpKSUlcVFWilZfXrbWRnJ9VT1CqmJu8oaXvtb/PoKjFmaGUo6ihwcuZrrVmW1yMiotMT1DPqbCaqKyZfIG0naHGpavlr7jfr7eKcnagvcfWpa2AbG+cs7psfIJSV1hZYGPcqLGToKTqsryYusVFRUW8k5q1j5V4aGuet79gaWunhYtzho2Fn6iigoeRsbxjcXWuipDExMSSd3z8/PyMqrR8k5vd3d21tbXk5ORod3z7ERL19fbq6urkxssTE5T/jZTMho//ZGpg5Ou+AAAgAElEQVR42uzb71PaeBoAcHa328DmJCRI3+yrnWPmDlp6uZ0OVeea2RfXuRclBQWCS3YIv8zArUJQAgIiyg8BBR2d2f/3nm8i/mhtrbR2z+F5nJGYLwTz8XmefBOixVb/O8YnRN1msT36C8YnxCNC9ajvwrgl+o9MKpsF45awIRVSIRVSIRVSIRUGUiEVUiEVUiEVBlIhFVIhFVIhFQZSIRVSIRVSzQDV0NU/NYf6Nsuwf4xGH6IaulTBZSz1hb7luJxDow9SvdD1teGE6izaR6MPUZ3p8y/KxxMqjI9QjYW+Sx0PJ1nlGcOSa77lyZFn2Mae1ppriFRG/T1r2U5bLdvVXjUu68+eqR4bwAmeaFMeD5EKYlR+ORzm1P4VqrOW59gyHEOqrZJ0s0XLI6SCyKlw+BvJ0eElVV8gRWh72be1PGQaMZLHSGWxnDb1cb/f10ljP6eCHDvPomO57IFo1heGSAU8kgAh1XPD96lGqu4xYoxUluG83B9BuHRo7BOqsWpMSUej47KRTqeuMyxAmFQZ3cgyXACmSa8ayfMgdKyHTz06mXBBg0cqy1g6V3AJ0eGEajivrvb7nrLL4iq3xq5crIlZZTl9Vj4/O7a1yscX86rTVV2Smv0hnDx7BEl+NptzhetUw9GFwtno9HRkgzUkg4Zno5GZdqfQsWZ0sj7F9apZlcJLe0iFVEiFVEiFVBhIhVRIhVRIhVQYSIVUSIVUSIVUGEiFVEj1/0b17Y9/xXgnfvz2ZqrvfvobxrX46bsPUf1AYVyLH5AKqZAKqZAKqZAKqZDqIVI9/uXf9xK/PL7fbf8ZVN/88Z97iD++eXy/2/5TqL633kN8b1Ld37aRCqmQCqmQCqmQCqmQCqmQCqmQCqmQajqqWtcIL4NUt1CxW3USkt5mkeo2KvWwVusettQuUt1KxRt1qG6xSPVJVHx5C7qV2D5ptfaLDOXeOmq3tvij/cNe77B3BENMrdVFKngQj9RD+N5Teyc9tZymRL2s9074LVXv9botXQSq/TI/821db7VaunTEUsyh2mYopi20GVGH3sXC4BHDsEekj4n6FjPzVK0efKmtGkOJNehX7rZ0BFQkkyDlavCcdHmfpbok7bAA4aFb1r0U5W1vtXS1Tqh6LBksw0rKfaKLzD6xQyqKtCKpS9V0tbXVbgvvUDFttevVjxikMqmOpEMG5ljQsWrSO1SUt7x/aJQiUpEi66k1d6tsHOreLUB41E967jtTJTRF2aZv+U01jZ6Cam5bUbQEWeKU9blrz00ojnujasMp4OFJfYtl96X9bne//F5WQU9X23edgm53soIkxfKJj/6ivkjEd3eqjUFMkqTsnh1kYnnu2nOTgnKv54D18j6g8CeqpPYO9RP2HSqYZvF3pFpvCnmlouSFZuKLU2nZ2J5WUQrSwP4+lVaq3A8Vw9e68FUzriwwbK1WZJl0jWFqaXPQ7OXu3iee9lzsjnMgNEhlOTvSAf2FqRzNGEkc2l4Qku9T3d9FGIa5/G4sUcxk4WIVc1ju3vEcUJMLTrMO80naSiv5SKSQBJRkSSk0G5wzWYiUdhzTUTWkjqm/kdcIlVKIFBTOynUGyVKpojQhqyr5SLOzQX9ZqtuDbbfULffdqOgDqXH528wdCNlSKQv5NbcjZMHIlxcipYhQSkxDxQ0E7UoXj8VizVJMVqxcQc42SxrpVVoM3k+OVb42FdXt7fN3vLLADaSruxMBFOt2NmKf26kX7LQzKQyWrL4DocNNQeVrxravUslJmlbkAccV6nscRwMVnY9tQCbLe/TXpmLufhGGK0hX/qTODdg3biOSdcztSDtkNLYOq+2wYhqqSCxxlaoElW7PlpxcQaiYR0AuLzcSNFfZfgjX1rn81SKxOpVOKRKrEypyKLdHInYj9eT1qbJKvpZVpK37IoTKyDZSgJWYlC011umHQEXvCA1zZujs7PigNWVLnWRkQuXIGj7wx5+Gir74MzjySe4aVeKcil7fa8r1WIN+AFTWDblkElTkpk8RBgmSDRMqskQUYd+mOQIq0OPM2aY0uJGKXt+gneuNWNbxEKh8A2GH7I+jIDXmGsbhUJMnVPSeADMIKJOSb7p5layQfNluypr1JipfKQtLzlIs8SA+B9yOCANFS5akvM+qCZGktpMVsksmFRwMYztaIwJH+Klm65Ws3FHg9QLMbm/MqoZQULQDeeB8GB+Zbuez5DztABq48yBWF7IHHblyTmWtlAQJ/Oamo+I2CnAOKEQanPVGKquvA+Py4EEcAY32m9C0ilkC9LamJawOzWFNaGb/8G1oFXIUpCsV652pAAs2aLze6tTWjc3ARGpdM0qevAN5ww3O+lCoPh70nc/T8J4FpEIqpEIqpEIqpEIqpEIqpEIqpPpqVDxv3gzE8vy0N4My7tm4vSMcrRpE6WjIO50Um9tkZoTKb9xDlZmayh3IzAhV2L8Le+oOx/1eN09KyW1WIsuzXt78JwmRN6oThskjlCpZbYzDj0zan+KZmaCqVkkFpgMZv9frJ6W0GzC6F+/PBQKhnJtiNgOwkHJTK6FqICzycX/AD6vN8arbHY/C95mgSq1ABTK51K7fy1bDkDTVnJEj/Fo4Le6GNpl0KCPCwgq1Ek15vWK8yovpQI7h1+JkfJfxBjLu2SjAlBjYZdzhFSJW9POQLWnz0BjaheFUmE1DCrFp/ya1slakILWKoihmAqIxTvrU7PSqFJuqsumASKjIXmfCZo7wpN0zm36RSefiYX8UqKDxQ/uHcgz413g+lCYvz80SFVP0e3M5xqzDsBjPUJdUFFCthOKbaSOryDMyoSJPgp1JKjGQCRcNCPDJBM5vEOJDRVKAcXeVpBkfMqmoIhGCY+JsUrEpPxz0DAg27K+eT9r5aJgXN0O7MJoW09Voxsg7mFVAt0+H4+4rVCmRmREqqhiFg96K2ZuiK9Qkq+IBvz/DUnw4FIC8S5lUFB8PBUJxaP8TKjYXir83WVhaXjQ/sXy6vDTtTjjom6neLAfNkeCyfcpN0465O1MxPMklch5ozjxXAuIFVfF8CgoTT5Hxei/npsaElCXzVbL66unjZHfm/hVdCJIF5+voW3q63fn1N/uNVPSr6LzxEbXjSfTnKaXevuI+88oCzC8v+o6RNdNeWQCqNYMo+HxaKvrtkw9Rra39algurE1Jxb3+x2dSMVBKF/909JlUC6urPnj8/eX8Wzr4BtKdDpqVGFxyLC6atxsElxfJ/QWL9iCsoJ8uL5I7PZ6+8S0uwwue/vfFP+03U82/JHtKv1pd+NlnbMppbpAO2pfMjVjti8aCfdG+GORgwPgJxs33Xnz5etn5eVQif3k9heXdn0P1/PfnQVJ/b5/8j73z+2kcu+J4+7CDJQvHsS2vqnYfWuXJlq9jy4p/NGGrSn5oTWLMj9SZOszAbAiTNEsLgVHodhAUpDY8sJX2D+65104IDMyEH+nA9J6HgWTiK/vjc8793q9jXBMTTE2VzPSEJrGFYhfeSCTZkU2Wl3xZMrkmwm/PC7rvW8gyhZqzJjduRmXVLB7XXw2ZvNWEpDUlUu2crNuWkwQMY8SS5cQhY6DEklW+A2P7Yfb/digmLccOnoi1B6giGSrPtXrww8TUyjKfomrVAje2OUG3Iz70bY1HchRwTcvkQ93mBb3VDUJf5rSmpYo3o5JdCSCadg+ZQgfKVNDTeuJkVPYMWRd5W1d5w6qwRitRA7EiN3jXjzkOTolnWB2BjxOPfTqowkqszdcSOPcsb9VY0W+yKSofUsxwDK3SZlgPjpRHFZbhrQrP8wZqAEENb+59pFfJHvQattMMkcn0kMEEVtqzOBlGYstIVTsuI4RQpkarDTMmqsHYJupxcocFrrF4r16VK354R6SSTmh4wlPu+KcqJlCpBgq1uMwBKqFja67UyzoqRuah8jxf1mO5Baik7jzjtpAsy9ZaDQoQjsJE6sdQcWWL92RDBVScXRGyhAVUAIaJHINRa1DmLUDlRHBesrHJvsDm9v1QTUrtkVW3kmorkFG5jZf5e6OCHYtkleyegaJarGWo8IwYoDKXSBUzqmBU5XkmdGoRhBtMhyqQGmbMYVTwMS9JE/YSVSjbzUYUY1QuTuEuGZt/GKobsmp5aZEAwqgU5d4FqMIM1dQFsntw6uPuaJ5ORDzPGz0Hjgu3GoKKl6B2GJjPpkMlJrreZDEqJpRqVsRcFiDTlVQypUATT1FBAbJ4MtQehmouVZ9FZZw9sOzbLRVTVGkBEgmaStFP1eMkKqbnSG0m3b0astQRqlbZi2JfC51KEJQdiSeohApqe2oFRROorFC4DRWIEdRjCCrRR742QoVMryF3hLbT5sPKmp+iEnXo5mHHCidQ+Xdv67gAia+5MZIGSmm3WsJVOSrAnZVSafF9bm5zBT72Jj89KphwghQV1NfoNAq+bFsoCRmx6UiW30QhQcVwFWRJcpsdo4KqtczbUEGmQEETVPPtVpkZoYplC3U8hk8cy9JhgiCoGCIWbJMZo2K7jq3eAxWkUbG6U3qfHe1uSclv4OVNhkopbSjVN6WisritVJeJET/FdUDeFZl5NcQCEwsYb3zUkPu8G5KbIcIo1HDJuaQps6qLfyEbQbWI+A3vJlTzASwB2VDFyhNv2RglLEbhuSQVQcWqLO8KWipIBTUTuwHZHN5wXe0+qN6tFPM5JetZhZfvIJGWlseodvEiubqxCbSq1Sq2lO98yZRXazF3w5riMZwFL9Qr7CUqdnbOAi7AzcWlle3NDMHm0naxuFOCwstQbadwchvE/lwqVe+OykRSg5kNKrYJ6pv5n6Gaqy5vLLZS0ZDbXlsiUfwA1eImsT9zd0eluerlsYXqo/pVvHt5I01a7DNEVdheBlpZZVUX3ykQy0vEQR4XYH57+Q1xqz6hSb9kay/tVZvV4krqfr5f2yGK4SW5LjFu67tLO0rpHXT/xe38/zGqnPJyabH0kljq+XfZ9Zr3a+8zVDkQC4uLuznyc2mjOt03YYKQvVYnOFT2MVCp14YJyNgeO2NURK1nvubIFE0tGKWA50Ulc0Hn5q4p1U/cOjkhtUeuKEIOamoPR5Uqr4nOXsFjt6yuMFtUs/p+lXc1q0BdN1Q17Drt+QejSpXXJCorUlW34kTPExWRiYE7mp6IeoepUMZKQQzdsfuphUHgekRrsiE/fQEKYapjR+p9vNIL3Uv3M+RVNyBaU3O1p4oKF6BQs2CpYrITqHi5yTKqLllj97Pt27ZUsfES2kWNqQuQ17FnGk6iClH5mvvp2rEsdVAX9qBsBU8ZlYvKnqrbXFaAbdc1OrLLCB3sfsaZ+8n7rbbndWGxyNZsblpUYlky+AjWxVkBGq7bSHxY+9l6OHY/Vc1GjcDTYbEoJh32KaOKnK7HciE70dbXEo+56n4Kvg2lEcCKmbNr81Oj6qIGxwbqRFt31jocJCycCnXkfoo27v8NFDKh1GCeMipNb1lJ2Zts6w3L5xi+rPtj91PwEzgcIfFFQwqnnwHVuCXrJjfR1sM2giS74n6KNs4l7Fh3b0/YJ4GKEaNm7MjBRK9iu47LJVKnPXY/syWhicJmIt5BLHCNjt3StYlexXaQd9X9FG28kGYrthffnrBPApXR4Rmhgb3OMSqm60RX3c8MFfR7YvZOiUrr1gRGqznqJKoKClL3076CiolQ1wqZJ40qQrXA6zrGZQGqDTnmrrmfKSo4TtmbHpVYRqandtKrD1CALozdRrpI3M/m2P1MUWm2lAhPG5XQlSQr09BpW0eOH2XuZyVzP0eeTORU2Duoda6DLMk2R20dD+3o6jX3M0PFdlvtJ63WXSxBo2gkZ3h8zSQauZ+upkWcgIXnyJMJJeNOal1IL+Knrmg6duZ+htj95CLtcmzzYwn73G4c4dWmr83IWQjc7GLtF4Fqvo0sY0YmjNBx/ID5crKKi4JZ+VVQnjzzBaF6FtYeRUVRUVQUFUVFUVFUFBVFRVFRVBQVRUVRUVQUFUVFUVFUFBVFRVHNBNWPv59J/PhitmN/BlT5384majMe+zOges5BUVFUFBVFRVFRVBQVRUVRzRjVT7+hcS1+uhnVv39F44P42Y2oaNweFBVFRVFRVM8Q1X++/iWNa/H1bRL0m1/TuBLfULVOFzYUFUVFUVFUFBVFRVFRVF84qsK3v5tFfPtipkN/FlQvfv6HPz5+/CL91tDMhv5MqL56Xl+w+oqioqgoKoqKoqKoKCqKiqKiqCgqioqioqgoqvujKg5I3PgX54uDPEV1+SzTvUMc9f2Tq898UIbKXO64r1BUE6i2TobD4cn+1unkAefOt4oU1Qeo8EMhcoOtvcliyx1TVLegmiv2Marc4Phsb5ify5/360fn+eP+4OTi4qRAUU2gKpxvncCLk63+0X59rwCoDjGqraN9eH2cp6gIqvrR2dnZEeFxunVRJNRyWQEeXihzylG/SFGlM+A+jq2jAW5QA3irun9WyFCR1+fkX4pqVIDD/pGSP6tf7O3tXfT7ymRbP6GorrT13HH9tHBUJxm2f1adQJWjqK6hOq8P82d9Ito3izmaVbejKlxsDUB3DkGzb+5fFB4pq7jewcH6p56F1eux90C1fnDQI8/GEA7Wr37WO+BmhWoIS8DTvcOLwlxxv38yOD1bOMFqfag8NKv4H1YX6vXv3q5/dFe11VXtzqj+8s/vFuoLqz/Alut/env1cQavF17Ncg142N8rYgV6tlUny8HcoH94VnhYVq1/v/D961ev/7Xwj/XHRnWw+ue3r1/9/W/1t9qHqF6t/nUmqHKDIY7T7GGS+cHwFNbJ/2Xv3HoT17U4/kgkiyQ4UT4BT4lyQ1ECCHjjKdzv90sAtUBLoQ+AphdVmhGqzqc+yw5lOprO1m56trR7Ci042IkT//Jfy8tOIiDf+88PzvtBco0f0SCo0PfGE2mD8NT4jv+3qNhNd0RluwEB/Ybqn56v+qvfkuQCDWyumg++zxg83yEGbZ82m+eRACd9tZ6vRghtv29W93wgVKPG3Hdv2xVFtZ5v5lvE4MN8uFpt16stOEDY3WH/Sab27hqHV7+zM2o2a7Vm44DD95natHZAd13IyDzsA6DCz6+90aA5hZq6zTWDV91prTYkvmpL8jLT60+BCuzvVXvYh9oVw+ynUz58/23DI2HbfLhihLvMSn0/KvWhuX+NKnOH0TDzjPHq23eMEaBC8+aWQaPuE/oMqPD8NSphDScY7TfNQfi+cQ+LT1QY6qp7FQBVrTl4jWoDZs1ONwJeZbZ+D4jn3RHLCMP9J1QVRD/3zw/TbwQVgYRXVBjokFkHUVX3F1U9Y4KPoKKVEgNcNxu159Eg/Dl81Shz8OWP7+9VfADXtLp/eEElbKgwyJcAvmpO1UO6wKch8nvAI6rBERXazqeZb9PRpzDAnz3gvlnjt93NPswIq5OqnrtXVHqZ7ftRgWPyww/qod5CFd7vkbo9dKf8p0AlzDP39LedvjcOaNQgEruevqBCd1Rzg9p0ECBY4GvNNdHLYNN9iat+RaVuagBJWDUHn+M64L6Wma+v18+NDc9su9Ph9egh09z7qABS9x4iIAgoAqBC62bzsIX6SHD7Fip0n3leb++6K/VzoGL2z81Go9EkY0Dh0GxkmvOn7vqIirnakPHhQQg0sEHrTbfhb/4mKoadQ3l3c/Vpri6j/XB07LDR1Wh4xQxGe2Y/8h2IsB0NScvwcM28FxVsdQ1V04rU4fWxFrQdEosfkB3g69Foi5lPg+ofna86dW4Ifbzq8z0LZ1RnVGdUZ1RnVGdUZ1RnVGdUZ1RnVGdUZ1RnVMFQybJ/7ZiTZS4gHS7yNe6EqdZ3tKVGqSQHIxWZ3HJfBJVNbqriJvWgqKK5yRdBVbUfSXshlSMyEZj/SZK8nKcQojJdiMpRkkb8b7QcVuWM3OUr2/1/RrXbEQv0chNblm1iSo85eu+eYV/mbHsCLCpV2y5dRkMVe2zn8vKuZNvwzbAnObs0juar9VIn+iVQjR/BArkJJHJk14mEIrsx1Ygxy1Xk29IjZ5QmMizchCr1HXQCnY6Xr4DNGbPqDWRXODl3mf8aBjjO5x7B/ioVWw6Rt2zf+I9tlcAwI7tq5GaXD0UM+xZQQclN6SYajU5yUVpO/NTX8VXjCFigl8sTTHlo9W3VtybDJvfx3YLkjMm4Y9cBFTh+cP+5Kvi1kmGUPLL55ZdCBZAmY46g4i6r+c6x4YZNekRAdWNXJ5UboiqyxqT0eAMvL/IVUXH53G21QkGEPPvWPj4mYoB3CnHjTnRHZGaUfFQgLY88MSFzXxJVhHRsPoho1d4dY2+jXpWjldJtZJwzovK4PqG6AxvtGFGj04m+QnUZ/SqowF9fcj4qcEWPL0/jljq5nH0ZCRm5UjU3Bib+Gl61BH9e6IQqMi7t3ggWWEXxr2XyCh+0GSx6E1VScf07p1xFCFhzmH03Ks4De4t40NvnPSKnSi5/QnVjeDS2zHuQGsZxjVDUu/GiJImSzYkUPS/yO6pYfVYmKdbr6YDXf02dfQsVStctSp+X6rFgNaNUGgeaWTi5GogvL7kTKi/EfWBmAVD1CSLXCooKFaQ/oZq1yUI7HhQVzurBUJ0Gvpel6mkgSA3sI6hmLYe09EKy0tglKgi7fsuTrKoo9O4X7CoK5CFFpabE+9lJVqDZybRVFt5EJUoLTNJWPCbQTQTfEpEi8IpLIcAuSJ6qqIqLGOTSbChn6T6KrWwRf2i+SvZ+xt3UwD6CKr7UysT+0k5azWbhsBXxwrfIXk+MtxIguIUoxh0zzIs9S4vhlKRpLZOU62JcauPCrG6130Rl9YkF8k5BiyWtAmg2phWpb5MWLTGuQ1k5C1X3FMbUdNFS2L4marp7LM8qQq8+k5R/zdReLG46YIGu1XbS+II0JWUlfVSzRbHccni8kNpuudUSeM0yi2xMKyjFheVCeV9JtByVTVvFt1UllUVg2JZMALwA7eJFD/uo4ku3bemYdXoJty32kTnLFou4b124ZiurspKYguwFdls9F/2LUJUL0IqLFu+kUdJaIqHn+yysE8Msa211kWIQn5ZYXoMSIdvjWVaxllgHFxVOack/+yopmV1gtEgXtRjopgzn44I5qgozaKm5Sq8M1t3SsTmDElcssCzb1spQjmD/LSGIr+Lk380sLx+nXrhQPv8BVImEVsZ6QQBUeNFSi6Lpu1QdjpfhwXDYWLonzQCVuAwzvKg58JotBD2LiUkpf4GKTVk8L7UVQMVKIFopeURFkJXjJuOmFj2pDqji4ATMmQU1S/UUK4G1orQTCNWvobafVa3TATOEURCsRz6ASnX6ipQgqODcJ5Yt9YiKqIu1Cqyu6cv2gqBKEVR6m7yK+O+gUsR2zGEJKlgrqR/72BMqxZEWF22iqniCoCrQqt0PoYp4v8193pRyNGInqAzjI6pCBaeQVSkqVuq3luEjqhZ4oEQ8Vo6n/HZTVKrTg2zksn8LlZDV9T4iqJiiuLTMY8gqkfgkpSlLQoh1jqgUbYlIZyh8CFWIGOBxXvMYZI07t3SkTKca8v4kaPRlMvRdqJiEZi3DFBUqiGLxGNPosxSv6A6fiPd5PqaJPEWFlvEUz6fiF69QWQr6AyqU0jSToaiErHjUK6ASTbYs6TgVj7Fuod7zUQm6ZbJuXyy+QpXlUQADlHc2ndc8srMn8M/9NECvY9u5ChcySHobeQ8q1YEPioopxl/OI9YtR9IckxHScUlqLTSFomLUviZZWl84oWJMCBn+gAooOayPKpyaLV8GQpJjSVrPZZJZqLrXc1SKinF7cUm0UswJFSrEW8r7UUXGVU9+tF/GfrclI7LLRU+o5NzOkC9tmaawGvc3UfGmyqBiGQ6tTOSUtF4Ca0CRNE1iWrjcLqusyQumSxEU2ybICBUTdHOBQYm2+waqMKkVX0OtqklCW9NSTqgKSpuGrazZTmDXxOQoyJ4S/2Xv3n4SWdIAgO/LHjrp2FfCbk6y+9RPENrGkBaIsNls5mEDPTBcGgGFFhBEkYsXQBG8G48+zDycP3irqnFE8OwIyplh/GoyA9MNpfys+urrr1tIuVDkF1wO8nQ00MzvYFKqdszOsw/JJ59GA6keiX6lIrNRa9f3VEWSpPa34vzzh/+Mb2eZe6QS3rCywAW3t4VHKnpmlQU8AetqJF0Y/EauJR/ZstvzKhIZUG3FeDOEJWK4/Klq01AtWeUyNRMqGk3bMPVnUbH2vbQaMc97sluJCGqJiDJGpUZJ+ZOdalSlwo8vjkywNxtVQVfw8SjY5aBmScUX6ijXTJsiGopIqPUjpJKHqQp4HKHHkFu0JE5F9TOU9sxYpUj2tFn9jCaiZsWPnJcgYV3d0qR+pK6oG3YpH9vg3zEVq8QiMTVGkk1z7UPTrZ/oD6jYaEgNoeyB3EbS9pcmC4zjadhgHLj5RjaOP+4FVD7f070+0vXT9+ygneOPe2XB2Cxj1gcVFz4/SM+lul3L82a2ruXrBAjdKvxLU9CFFevTOvFSYtPj2bSuD/2a1kJ5Wxh73LepRtcF2p/woK5t5SFz4eMO/bL14weoLKCk5inVZtnr/YRS8scXhF/LFFS09+m6QPutLq/XtS0PbcZr4dxQMbj4OKhrPmTvFD7Sw9VIsyjpWFsOCytWX3B0Xr5gAgqoC5F6zN7Rz4Yc6YmkM9rr3g4iKiboYH54KjxahBW3LC+nFoap0NE+xazLsryIa3ib7vCK7HfL1h1hsgnI+GWrvOYYpgrL6OjbsSjLaJJzywnPKrdoI+XUhTmg8so7Du+HZWZAteRwhD+6XShrNIuSjG9t1SGsJNY+ObY94YmoxLK8FHTZzDSd9ru9Dod3cTlIMR9WXcEl97oYdvt9+FxR2LtqY+aAatezwiz4PglDYT3xgXssSpqxCo82r5yajGrHuuukw+HhsJ7wO6mUJ4W6/ujmzFiFlVbk4BxQMWubtu0lZtRrZEIAABZrSURBVCise8u2VeahKFl+DOukRDDJBAzbNlf9LnEorKMVwy/uJGyoa7cn/BjWcYnix6einCn/8uaybyhWLZQ9LtfmulmUfAUV5SsvujcXxaFYJWxbfR89K7hnl3PeqHbXGUose8pDVGhwpQZFyaAwPZVY3iGrg2OIivbLwSVcSqe4ID1vVJ/kHY5Bw2hAleI4DkXZoLhmFiW9wuIqR09HtSOnGN+6ebYMhfUwx/lc1jWRs62GmfCHVYax+Zl5ohI/ym6bdX0Q1jdlq1X22JYei5L0imc5PN0E5BY9NvfglBYK61bc9YcwtbC7LKM/u5S46Fnj5oSKZOt0OJV6+EZ9JD6Z77oofiJFSUpwpTiS1TtTvgmz9YcuSFWUdO0lgYtxmV+DcblEktX7XOKPTvXTVRaACqiACqiACqiACqiACqiACqiACqiACqiACqiACqiACqiACqiA6uej+vKfWbQvv8y06+9Cxf97Nm22XX8XqvltQAVUQAVUQAVUQAVUQDVjqt//CW2k/f481W9/hzbW/vIsFbQ/bkAFVEAFVHNI9dvfoI21P8qr/gFtpEG2/sLGwoENHAMCFVABFVABFVAB1dxSSf+aSftllj1/J6pfvvz63zdvv5KrhmbW8/eimsVlULO7wOqvQAVUQAVUQAVUQAVUQAVUQAVUQAVU4x8kpZA2+ubgigZUo++3vn+MW+D07skHGUin1zxQjVLp9xcXF/eHpSOg+hZVibxv/1XpnAeqF1EpB/vIhj263z+/4glV/n7/XgGqMSrponSB/nNROjg80M8lRIXuHAYOjoBqOFZ93t/fv9bx/LsqXdst2rl+z0qnx+cSe3VwKgHV0Ap4gJt+nbew+yS2a4eHmnR6iLIF9r50BFTjE/AU+ZBBxJ+XFOkUhy7LVeACqEbDOnuuX2mHpzy5i6nOWaB6noq/1+94MuvQpgO7dPoZq93pd0A1SiWhOIWG0xW6mz+4ltAKaCdo+VdScZ1q51sfeS9UmSmovvYsVJ1PH5vt0DOiukKHgPXz42sJIR3eKUfXpTuULOifj5R7/Zx9FVX2Jh7QA73u//+QmmqmIkxK1Tkr6nqmZwj46WdPaOizTHWGx4DHpWs0uNirQ13XDy5YnIJe63ppX3tVXlXtZWpd4ySuX4pvTNWKZ267BvpB3AjjVCfxmVBZri5wuxt8QqJ0dXFH4tXdkXR3ccS+KltnmpkuGVu9QO5tqbhe0iBjK55pjVHNul7Fjty+Rb3K0Cvma2g0EZXQuqnVLnfxT/2sUalUKbF1WavkhGmouvql2XOu2cBUqKezDkWJZye528uscYvuV09qt11uFlQzKO0JFf3rYKIp4SaQLBb1ZIMSauhO0XCe6cliUq84J6cSaoHW8KCM456LVcoZRx0XWzhWNZIZtC3emQ8qsZcZ+k6rySZH0bnMrSDUjiuCKBh6LUtlbwNdemIqJl7MDlNlurRwEjijnXH9hHbisC7cJncp4SRzQs8FlTOeHHpBnNHB63qxKZpjQmwmcfDNFnvOiam4YpEbpqqhp2eTNQF9xY65Aoq1ZEOkGKM6H6PK2UsOj3/nbrfSTB5jKrydK/bwsojEstOMqidUOHBxRUwVZ0wq2ggEepcNZl5i1e1DRGFuGjRTQaGpdpYkVFk8CpoiCTtTUIm1h8yJu2nR5go4oHIO8iohV0vqx/HGnJyxMQKDVTwXqAldveLD8+2BiiEvi3I2i9zEVHQ3MAhCeJF9jorOMhSTuwz0mPmgysaTZFj5agGDrpAhlgs8UIm3GbyhlayJkycLnWKRDKtOL9OgnqNiek0nDgFFbj6oFnKZ5Em102jqFYE+0W+rHaN43BtQUY1MPNdpxDPGFHkVbWSKXdRzD+dXz1EJl4GzaqdLAv5cnDKlc/gQUE/i4xpfU9cDyUs03wZUtFFE+4rdqQ5sBCOODsH05M3XY8CRWJWtoa8c6M1JXkUCcKvbNcyUwZlD9+hWl6FzhjDIH7oGjiVctzV5ZcHZ6HZzZHqZT3caKLk1cM670OoiMBHtbwjU/FDNtF5Fj+eX9JQ9wzULQAVUQAVUQAVUQAVUQAVUQAVUQAVU01Fpmnl9LKtp054uZfn3cSVMLNEmr1SJROzTSfF7e+w7oVLxRQpsITEtlRQqvBOqmBrFt+mYaufJHDT/xTeSZl41K2maxOItPN7Aa2SzuZ+1sPbQlvY+qNppPAOVUEG129U+2tRXyfBS1EIoou7xFrYei0TUAm+JqhtqSNO2zP+h/Wj7lqSFEpGY9C6oNvohDc2/NhLi02newrc3WDN4hfr2QqTPKuqWohQidUs00VYUqR2r2/tqgVUisSjaH2WVdzOqNuxoBkqxfhQNJvzXTiYkptpDu9tpvp7WLLyi7iGqusVSj9R5ni+EJLIfx6n3E6s2+Habz4fsmEkL7bF7g9mkqPg6vj0U9O39rbaaQFQo8LN7iRhqoYiiRPL46Vvviioa0gobLKZiN2JSevDClf+xd36/iWNXHO9LG0sW5nJtWdU+tPtAX7B8jb1ebCM8LytXrRwwP0THZPFoIIOcxUXM8rBZaVfRSpVG27eptGr/3Z57bRLIkNlAJtphcs9DbLj4mPvhnOPjrw1hJQtQTRunk9UVjSr6ivPuqk+t+hRRlduN1aDPQJxMG1eN4jtIDEX5YgDFCcKs1s1RQWixrwRUT54kqsrlKVR2BqI6OD0reu/68KxWXXZXMApdxGS4YnEHOXpWq9Quzzaj6qLyVFBBvaZ/KAjoRK/WX8ntDk4H3UkFIq0xOL08vchRlaenjUHjdHoTVZXL7uXOZkFCxX0oCOED51GSd6JCN54PvWNWxPuiKi8hn6p9Gi5LGhtQt65RLaf9Ok2tWh+W02nxipPqsr+s0o3a15svKztQif5QZTOSnJl14HzSBO9AhY2hw27rb9oz8zDPOMvEBykL1fbkonyyUaseoiwAqnwipjs8EBUOjDtQuR5dsWaHopLUzoNQVS4ag+sTwQ+AiqhzmKmYOK6FWQ7iPF9KCEtF6siIrchIpksxfwTjOkvaMBiH4i5Utk1niueOa255FpG49qznvnTwLJVgnP69Hhcj1UcPQVWu92/67mq//VBUdkIzUHISYoUKnduIePlHmsTE9WEsMojrGqFgkjmxIz1TCJk36XhA3HEoB8OZre1Cpfo0A5tqxzW3PCM7cQhJYGwBHgjswgLPaoh8QhR4GsZhzwZC6tB1pI9G2hN9dUEgP0aqSSxswNxEP5BzVG4SpcocS3FgRilJRHMW93q4o2TRyBnrkkoyeNrHWhxoeBcqx6RoUseEqNr0jBTSiVrgULMNL8rctGQNg15PNlRLS20fI8WmnjvYs/2w9DGhasZzLPrziFjsY2/araJQQAkSMyXUYhNyIjawOUsh3eBzl/UR6cG4KOBxjO+sVQ5yOiI2Es81tzwj4kN2JTYyY03AGqSpNRsJQs9NZRlitsnGZdjhAbWq3K7sKO5rFYa2mg9BJWWqhNSRBqggqUTLDgtUAAbe/0JAVmKoQ0AF68JipsZx7AxTNg/Rd+S7UemJo4fqgqLa9IwUAAPwIiFMfcMeAio3gvCbOeBZnS2Q0oK6ZQSHoLrdatOnBnlBhzaqPDmrPAhVpJgjB1FUYqIiYy5uoTLD2B5nlkNRQT6ZMz+lpt0DldwjXhrrFNWmZ2TTI+LI9TxbNTKLRhXRhFJr1qGOLfQQVJXlO9rnsttgGjJFNZ0+LKrkYD73RYpK8EjLNtdH6gTeZ0qgmPRKUPYLVBrJSvRgKN4Hle4k406Jotr0jBTqIrPDuQ2liFZ8igralRFricWHoGIJWMlVzuIweDFYsTNl2pxXc70zz9L1cg9UYkYUU2Co9NiO9TUqu6dHjiG3XFNH2XCco9LH8DTqKN4GqrF0ByoxURRPYKg2PCOiRrqnzmVfieRmMkxyVEiNNbk5d5obqHz5gASsTRpM1yzYNc5rDZqV6wSsX3a7g2X5pAbL06vyXqgEjR6TGSqxNeyU1qhU2yFQeMPYjdU4cGSGStACN7YhLq5RicksCHejErwZ8GGoNjwjxQHPQVPwVBLbAcQrQ1Xqwe4U2xKuUclj15D2R3UxmNZW3X4x06tuvcLEhAIVnB9P65NGrT2A5Xmjf39U3giOY6MeoLHofE0lummVo9SknyqyUhNrlty02PvWzdSCxJFHEd2cBoxlSe+iEnswJFse3R5teYYE9MAjrIVW6mFvVAotFnDSKB0h6k8rNkeWJe+NqnJ51i5f1ywmGve7y2tUV1R1aZ8tV416pVK9/PU6v/v8X0L+uu5snFV8CGVh0zOLmkdSFmhU9buNyap2fT5z3m7XaWEvUF0M2I8vlCfDM7BGo3oQKjEhtic8Bqotz4+Nqlyn117yKlQ+Hw673S69KLiF6qQ8aVxRWx4WVaXI0q4fyFb04fSqLc/6xvojoKqspuVy7SyX1KtQmcBW3fNygeqcXlKF17DlfXrST1Xao6jOBrVK+yy/Hr8c9vM29LRaoKo3zqvVfrdf7160K7XBpPKEUZXrha5Ji/okl/bKq2G/QFW+apwOGhf5sjuo3z+qkHS7/lLb+qkNfF8V85YKeuv3OphjtPVjDvJenu/drbeXV8s8sSr96VqCqbf7lbxbZyoovWmmfzWt3L8Fpe3LVv31hzMwx9qYg0e8A1DdNPHCWuqjnmNzo6SbivaBUT2msrDYVihFXxktTMsg0UNRiWZvWyw1bOo52KRjkiNCxRKw0DWvu3d2psdkT5aegEpC0kEJSHVNUbjp3sGZm+bqp56jkm7n6UeLiiag3lEIMcJbqEqCNifE7sCJCUlU187w/gkoJVQxRe+g8sbEVVsYUIFnunIkqOSUpJFl+7gQkCOEtLmqCSh2rCgjCfZmdhp13LS0N6pMsTRLyVtZbKghQpHhNAXNDkwvcVPRnKkWrIyOBlVme1js9TbL+jDBgsXOchOl6bktSMZxIO+LSk7UCIumt1nWZxkWO7ReyWNHN12mZhj4WBIwst1xx8Prsm4tzFHHTXDHlpgC1/NojRc7Nto7qnoKeI7EjbI+StxMNmLYWSkjoamELOf1Y0ElaK2AzHJpqKhV2FCaSYFq4dEgKGXK/qhKUQae8yuqRa2Sxyoa0wal1AJUFL+YqNKxJKCVYhH5+XG7QAWnt2GLPZMRjelNeB7reydgaoliE6hvoMJzG7F90D2xSzryODiWBJQ7Sk+XOvk1AijroSRJPTuQNcVo6p46lr1ZEOojku19BJR925NzMKysN8GzSQy8IB1JN9nlMtiF5baOpllAgeuoSlbUqplt24rreII4shUmg3puYDtkru/fLDAB1U6LPeWe40jALaI6xEDQLFDPPj6ebr3QNXPtkl2PMfMbMywmgyJLMtOeeEi3ro9Sq1k0twvmeUGzsKSlaQ/THUij1BOPpFv/xJQFjoqj4qg4Ko6Ko+KoOCqOiqPiqDgqjoqj4qg4Ko6Ko+KoOCqOiqPiqDgqjupTRPX2bx/evnr7h8f0/Buhqv71Mey/5cf0/BuhOlbjqDgqjoqj4qg4Ko6Ko+KoHhnVL3/htm1/+mU3qv/8mdtt++PvdqLidrdxVBwVR8VRHSGqf//9c2637LMvdqL64u3/PuO2ZZ9/eQeqLx9B0T9u+z1HxVFxVBwVR8VRcVQcFUfFUXFUHBVHxVFxVBwVR8VRcVQcFUfFjaPiqDgqjoqjepKoRPTixa/+kLv0AnNU3//06tmz5z9/935HL79++eRRvX719c8//viv589fvjewXj578qi+f/X8Nf0vmq+fv3rBUb0PlfjTP35gK6U33/5TEPTv3nzzzQ/0Py69efn6/+3dQWvjOBQA4KtAY2EkY9g/sLBkLRMjsB0U3wwLBodAE9vESXpIMImT0l6WMk2hEAgzt93D/t+VbKedmZ2dmZ3LNsx7Fydy4tZf9aQXVzibk4nI7XFz2gGVHq2vsvtucGcGIpsoW2XTxwUyV6ssW+0G76Isi3RuAtV99uh8mGVHwsxj9KCopg+OSY/To+ncXmV7oEK72d3LHfSNnc49toyesOpVA4QWq0d96+lldMRAdT/7sFchsj9sbrK3mkq3/66MVOsiu2NARVar7g7694d7dH8XzVY3m6ZX6d52G500lX4CVHQT3XYz4PSgnpxMRm+fqfbRBjcD2g0FKnQ7u2vuWr5bZTvnStdW+DA9Uw1WV3rntWoAKsSepnfLxWJ5FR0wu4kOi95D9vbYUeFT9G63WK5WO5gBkS42s2g2i7ID1R9yprNZ9pTdsJYKkeMsmkWrJZSg7Si1uD6drhfNJ8D7B/WIXT9Q5+G6+ZoCuj+clrpg2DU1O1yv+kIoQYzRjxBwaQ+ogAqogAqogAqogAqogAqogAqogAqogAqogAqogAoCqIAKqIAKqH5AKkLa9eiYEOM7fwbuVrRT8o//rWLSrt4iTD2kl03F8vW2OYWQW73vlJKyJepb4af7xtzX/8Wn5ZaadmVcNpU/sfS6IKOeBN9JRey0pUok+VRxLgJPU8UudarRhfcq3+f6ZJzY5r02g7o8UhunSx9GiGPoDdUNlDTNzX6VtDix5+QlAVXby+JS057nMWup2gRUu5ujO+TV5ePXqUp1Gir/xJz3RkLniGc33SsUtc9tSZExji0uUgd5Ymj5A3Nocbtmar/MuZU6pj9Z5+ScgPuY87w4j1lesJd81FLpBKSez63tAOEi59wdXRqVK4X63dOy4j0Wqy5AXbcdvAJRj+eBZ4wsd6we9JE3ift94tpVWFs1DgNbquaCjsV21Nj0g9C03XG/FINunHdzJ+Fz3FJZ0iiC7dizXVbw7bgo/cGlUfUsDzm59HjPUFyoJ7xmT7iuscrLnHl+gmhPnai39rSHx6gzt0kY1AYyRYqfxypFlfDaQYOqG7NGvDZoKcwzFS1jBxlVnpQxoc0hL4zKKV3VM3qKCg1EjaXdLjkOuZrPcC1MnHjp1p4oqmCkhv91XJalH4xC1c/U24cfUTnuOp8X3fJuow76hMi1SryWitiqhyGDmkKoY8Td3HtBVLQSg9SlmkplDCnn7YmHungwasscC+Gmkisq9QqcrlOpg3yWCpHKtdZ+O5eSfBKomMTsmap9pWnFtT5G/9ISkCaWzCukIVDBKzFGXa9SZ4KHvhqcBtQYdVSoCsJmAkOfpUpqEzsebxv662Ghwg1GHZXj62EwqUfN9rXVpN9CRUtbJC0Vse24S59wXQ7Y3kpZaSfUHE5q3LwiEeWAmqr3fUA1Z2eqEU8dFvK6KaqGVtKUocHQaalwyvuMzEWS8oI5hVVdHJVRTdRfuYHA84lEZyrbzrlLjIKL2I7FsKXCnhCxEMVLr2Il35KOiqaBH1txM7UlYtuWULlIuhnQdHluW5XaBrmvjn1RVLRSJ2xKVeL0Kt2dPHGu2cPAK2RfL14fSTl2isJoX4GSSlYDrN6kQKg31lV6xdpq3UQ4lLIb1hPZHsoIZeL1UVOts0JWPQXI+lLu2SVfWXDIdoufqV7XqPu6qOhQ2M8lNFB9iQqP5cuHjSbBgAou7QEVUAEVUAEVUEEAFVABFVABFVABFVABFVABFVABFVAB1X+n+hni4/jtj3+h+gni0/jrPXybN3zxOVABFVABFVABFVAB1f9K9QvE1+LxTUP1BuIbQlH9OfkV4hvCev83G+HSU+JudLEAAAAASUVORK5CYII=" alt="Alice in action" width="298" height="631"> </figure>  <h3 id="the-parent-class-interface">The <code>Parent</code> class-interface</h3> <p>You <a href="../dependency-injection-in-action/#class-interface">learned earlier</a> that a <em>class-interface</em> is an abstract class used as an interface rather than as a base class.</p> <p>The example defines a <code>Parent</code> <em>class-interface</em>.</p> <div class="pre-title">parent-finder.component.ts (Parent class-interface)</div>
<pre data-language="typescript">export abstract class Parent { name: string; }</pre> <p>The <code>Parent</code> <em>class-interface</em> defines a <code>name</code> property with a type declaration but <em>no implementation</em>. The <code>name</code> property is the only member of a parent component that a child component can call. Such a narrow interface helps decouple the child component class from its parent components.</p> <p>A component that could serve as a parent <em>should</em> implement the <em>class-interface</em> as the <code>AliceComponent</code> does:</p> <div class="pre-title">parent-finder.component.ts (AliceComponent class signature)</div>
<pre data-language="typescript">export class AliceComponent implements Parent</pre> <p>Doing so adds clarity to the code. But it's not technically necessary. Although the <code>AlexComponent</code> has a <code>name</code> property, as required by its <code>Base</code> class, its class signature doesn't mention <code>Parent</code>:</p> <div class="pre-title">parent-finder.component.ts (AlexComponent class signature)</div>
<pre data-language="typescript">export class AlexComponent extends Base</pre> <blockquote class="l-sub-section"> <p>The <code>AlexComponent</code> <em>should</em> implement <code>Parent</code> as a matter of proper style. It doesn't in this example <em>only</em> to demonstrate that the code will compile and run without the interface</p> </blockquote>  <h3 id="a-provideparent-helper-function">A <code>provideParent()</code> helper function</h3> <p>Writing variations of the same parent <em>alias provider</em> gets old quickly, especially this awful mouthful with a <a href="../dependency-injection-in-action/#forwardref"><em>forwardRef</em></a>:</p> <div class="pre-title">dependency-injection-in-action/src/app/parent-finder.component.ts</div>
<pre data-language="typescript">providers: [{ provide: Parent, useExisting: forwardRef(() =&gt; AlexComponent) }],</pre> <p>You can extract that logic into a helper function like this:</p> <div class="pre-title">dependency-injection-in-action/src/app/parent-finder.component.ts</div>
<pre data-language="typescript">// Helper method to provide the current component instance in the name of a `parentType`.
const provideParent =
  (component: any) =&gt; {
    return { provide: Parent, useExisting: forwardRef(() =&gt; component) };
  };</pre> <p>Now you can add a simpler, more meaningful parent provider to your components:</p> <div class="pre-title">dependency-injection-in-action/src/app/parent-finder.component.ts</div>
<pre data-language="typescript">providers:  [ provideParent(AliceComponent) ]</pre> <p>You can do better. The current version of the helper function can only alias the <code>Parent</code> <em>class-interface</em>. The application might have a variety of parent types, each with its own <em>class-interface</em> token.</p> <p>Here's a revised version that defaults to <code>parent</code> but also accepts an optional second parameter for a different parent <em>class-interface</em>.</p> <div class="pre-title">dependency-injection-in-action/src/app/parent-finder.component.ts</div>
<pre data-language="typescript">// Helper method to provide the current component instance in the name of a `parentType`.
// The `parentType` defaults to `Parent` when omitting the second parameter.
const provideParent =
  (component: any, parentType?: any) =&gt; {
    return { provide: parentType || Parent, useExisting: forwardRef(() =&gt; component) };
  };</pre> <p>And here's how you could use it with a different parent type:</p> <div class="pre-title">dependency-injection-in-action/src/app/parent-finder.component.ts</div>
<pre data-language="typescript">providers:  [ provideParent(BethComponent, DifferentParent) ]</pre>  <h2 id="break-circularities-with-a-forward-class-reference-forwardref">Break circularities with a forward class reference (<code>forwardRef</code>)</h2> <p>The order of class declaration matters in TypeScript. You can't refer directly to a class until it's been defined.</p> <p>This isn't usually a problem, especially if you adhere to the recommended <em>one class per file</em> rule. But sometimes circular references are unavoidable. You're in a bind when class 'A' refers to class 'B' and 'B' refers to 'A'. One of them has to be defined first.</p> <p>The Angular <code><a href="../../api/core/forwardref/" class="code-anchor">forwardRef</a>()</code> function creates an <em>indirect</em> reference that Angular can resolve later.</p> <p>The <em>Parent Finder</em> sample is full of circular class references that are impossible to break.</p> <p>You face this dilemma when a class makes <em>a reference to itself</em> as does the <code>AlexComponent</code> in its <code>providers</code> array. The <code>providers</code> array is a property of the <code>@<a href="../../api/core/component/" class="code-anchor">Component</a></code> decorator function which must appear <em>above</em> the class definition.</p> <p>Break the circularity with <code><a href="../../api/core/forwardref/" class="code-anchor">forwardRef</a></code>:</p> <div class="pre-title">parent-finder.component.ts (AlexComponent providers)</div>
<pre data-language="typescript">providers: [{ provide: Parent, useExisting: forwardRef(() =&gt; AlexComponent) }],</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Google, Inc.<br>Licensed under the Creative Commons Attribution License 4.0.<br>
    <a href="https://v4.angular.io/guide/dependency-injection-in-action" class="_attribution-link" target="_blank">https://v4.angular.io/guide/dependency-injection-in-action</a>
  </p>
</div>

				<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- 文档结尾内嵌 -->
<ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-2572770204602497"
    data-ad-slot="5446239318"
    data-ad-format="auto"
    data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
